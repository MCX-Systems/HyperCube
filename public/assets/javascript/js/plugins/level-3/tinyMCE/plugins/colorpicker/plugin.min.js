(function(){var a=(function(){var g=tinymce.util.Tools.resolve("tinymce.PluginManager");var b=tinymce.util.Tools.resolve("tinymce.util.Color");var c=function(j,i){j.find("#preview")[0].getEl().style.background=i};var e=function(l,k){var i=b(k),j=i.toRgb();l.fromJSON({r:j.r,g:j.g,b:j.b,hex:i.toHex().substr(1)});c(l,i.toHex())};var d=function(i,l,j){var k=i.windowManager.open({title:"Color",items:{type:"container",layout:"flex",direction:"row",align:"stretch",padding:5,spacing:10,items:[{type:"colorpicker",value:j,onchange:function(){var m=this.rgb();if(k){k.find("#r").value(m.r);k.find("#g").value(m.g);k.find("#b").value(m.b);k.find("#hex").value(this.value().substr(1));c(k,this.value())}}},{type:"form",padding:0,labelGap:5,defaults:{type:"textbox",size:7,value:"0",flex:1,spellcheck:false,onchange:function(){var m=k.find("colorpicker")[0];var n,o;n=this.name();o=this.value();if(n==="hex"){o="#"+o;e(k,o);m.value(o);return}o={r:k.find("#r").value(),g:k.find("#g").value(),b:k.find("#b").value()};m.value(o);e(k,o)}},items:[{name:"r",label:"R",autofocus:1},{name:"g",label:"G"},{name:"b",label:"B"},{name:"hex",label:"#",value:"000000"},{name:"preview",type:"container",border:1}]}]},onSubmit:function(){l("#"+k.toJSON().hex)}});e(k,j)};var h={open:d};g.add("colorpicker",function(i){if(!i.settings.color_picker_callback){i.settings.color_picker_callback=function(k,j){h.open(i,k,j)}}});function f(){}return f}())})();