(function(){var a=(function(){var u=tinymce.util.Tools.resolve("tinymce.PluginManager");var az=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils");var ay=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");var aw=tinymce.util.Tools.resolve("tinymce.util.VK");var at=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");var ar=tinymce.util.Tools.resolve("tinymce.util.Tools");var aq=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils");var s=function(a8){return a8&&a8.nodeType===3};var a7=function(a8){return a8&&/^(OL|UL|DL)$/.test(a8.nodeName)};var q=function(a8){return a8&&/^(LI|DT|DD)$/.test(a8.nodeName)};var aV=function(a8){return a8&&/^(TH|TD)$/.test(a8.nodeName)};var aQ=function(a8){return a8&&a8.nodeName==="BR"};var C=function(a8){return a8.parentNode.firstChild===a8};var O=function(a8){return a8.parentNode.lastChild===a8};var am=function(a8,a9){return a9&&!!a8.schema.getTextBlockElements()[a9.nodeName]};var W=function(a9,a8){return a9&&a9.nodeName in a8};var p=function(a9,a8){if(!aQ(a8)){return false}if(a9.isBlock(a8.nextSibling)&&!aQ(a8.previousSibling)){return true}return false};var h=function(ba,bb,a9){var a8=ba.isEmpty(bb);if(a9&&ba.select("span[data-mce-type=bookmark]",bb).length>0){return false}return a8};var aj=function(a8,a9){return a8.isChildOf(a9,a8.getRoot())};var aD={isTextNode:s,isListNode:a7,isListItemNode:q,isTableCellNode:aV,isBr:aQ,isFirstChild:C,isLastChild:O,isTextBlock:am,isBlock:W,isBogusBr:p,isEmpty:h,isChildOfBody:aj};var G=function(a8,ba){var a9=az.getNode(a8,ba);if(aD.isListItemNode(a8)&&aD.isTextNode(a9)){var bb=ba>=a8.childNodes.length?a9.data.length:0;return{container:a9,offset:bb}}return{container:a8,offset:ba}};var e=function(a9){var a8=a9.cloneRange();var bb=G(a9.startContainer,a9.startOffset);a8.setStart(bb.container,bb.offset);var ba=G(a9.endContainer,a9.endOffset);a8.setEnd(ba.container,ba.offset);return a8};var a4={getNormalizedEndPoint:G,normalizeRange:e};var ag=aq.DOM;var af=function(a8){var a9={};var ba=function(be){var bc,bb,bd;bb=a8[be?"startContainer":"endContainer"];bd=a8[be?"startOffset":"endOffset"];if(bb.nodeType===1){bc=ag.create("span",{"data-mce-type":"bookmark"});if(bb.hasChildNodes()){bd=Math.min(bd,bb.childNodes.length-1);if(be){bb.insertBefore(bc,bb.childNodes[bd])}else{ag.insertAfter(bc,bb.childNodes[bd])}}else{bb.appendChild(bc)}bb=bc;bd=0}a9[be?"startContainer":"endContainer"]=bb;a9[be?"startOffset":"endOffset"]=bd};ba(true);if(!a8.collapsed){ba()}return a9};var aK=function(a9){function ba(bf){var bb,bd,bc;var be=function(bh){var bi=bh.parentNode.firstChild,bg=0;while(bi){if(bi===bh){return bg}if(bi.nodeType!==1||bi.getAttribute("data-mce-type")!=="bookmark"){bg++}bi=bi.nextSibling}return -1};bb=bc=a9[bf?"startContainer":"endContainer"];bd=a9[bf?"startOffset":"endOffset"];if(!bb){return}if(bb.nodeType===1){bd=be(bb);bb=bb.parentNode;ag.remove(bc);if(!bb.hasChildNodes()&&ag.isBlock(bb)){bb.appendChild(ag.create("br"))}}a9[bf?"startContainer":"endContainer"]=bb;a9[bf?"startOffset":"endOffset"]=bd}ba(true);ba();var a8=ag.createRng();a8.setStart(a9.startContainer,a9.startOffset);if(a9.endContainer){a8.setEnd(a9.endContainer,a9.endOffset)}return a4.normalizeRange(a8)};var M={createBookmark:af,resolveBookmark:aK};var aE=aq.DOM;var t=function(bb,a9){var ba;var a8=a9.parentNode;if(a8.nodeName==="LI"&&a8.firstChild===a9){ba=a8.previousSibling;if(ba&&ba.nodeName==="LI"){ba.appendChild(a9);if(aD.isEmpty(bb,a8)){aE.remove(a8)}}else{aE.setStyle(a8,"listStyleType","none")}}if(aD.isListNode(a8)){ba=a8.previousSibling;if(ba&&ba.nodeName==="LI"){ba.appendChild(a9)}}};var f=function(a9,a8){ar.each(ar.grep(a9.select("ol,ul",a8)),function(ba){t(a9,ba)})};var aL={normalizeList:t,normalizeLists:f};var ao=tinymce.util.Tools.resolve("tinymce.dom.DomQuery");var z=function(a8){var a9=a8.selection.getStart(true);return a8.dom.getParent(a9,"OL,UL,DL",a1(a8,a9))};var aX=function(a8,a9){return a8&&a9.length===1&&a9[0]===a8};var H=function(a8){return ar.grep(a8.querySelectorAll("ol,ul,dl"),function(a9){return aD.isListNode(a9)})};var I=function(a9){var a8=z(a9);var ba=a9.selection.getSelectedBlocks();if(aX(a8,ba)){return H(a8)}else{return ar.grep(ba,function(bb){return aD.isListNode(bb)&&a8!==bb})}};var a6=function(ba,a9){var a8=ar.map(a9,function(bc){var bb=ba.dom.getParent(bc,"li,dd,dt",a1(ba,bc));return bb?bb:bc});return ao.unique(a8)};var aa=function(a8){var a9=a8.selection.getSelectedBlocks();return ar.grep(a6(a8,a9),function(ba){return aD.isListItemNode(ba)})};var a1=function(ba,bb){var a9=ba.dom.getParents(bb,"TD,TH");var a8=a9.length>0?a9[0]:ba.getBody();return a8};var P={getParentList:z,getSelectedSubLists:I,getSelectedListItems:aa,getClosestListRootElm:a1};var al=tinymce.util.Tools.resolve("tinymce.Env");var aC=aq.DOM;var v=function(ba,a9,bd){var a8,bf;var bc=aC.createFragment();var bb;var bg=ba.schema.getBlockElements();if(ba.settings.forced_root_block){bd=bd||ba.settings.forced_root_block}if(bd){bf=aC.create(bd);if(bf.tagName===ba.settings.forced_root_block){aC.setAttribs(bf,ba.settings.forced_root_block_attrs)}if(!aD.isBlock(a9.firstChild,bg)){bc.appendChild(bf)}}if(a9){while(a8=a9.firstChild){var be=a8.nodeName;if(!bb&&(be!=="SPAN"||a8.getAttribute("data-mce-type")!=="bookmark")){bb=true}if(aD.isBlock(a8,bg)){bc.appendChild(a8);bf=null}else{if(bd){if(!bf){bf=aC.create(bd);bc.appendChild(bf)}bf.appendChild(a8)}else{bc.appendChild(a8)}}}}if(!ba.settings.forced_root_block){bc.appendChild(aC.create("br"))}else{if(!bb&&(!al.ie||al.ie>10)){bf.appendChild(aC.create("br",{"data-mce-bogus":"1"}))}}return bc};var ap={createNewTextBlock:v};var aB=aq.DOM;var aO=function(bb,bc,bf,be){var bg,bd,a8,a9;var ba=function(bh){ar.each(a8,function(bi){bh.parentNode.insertBefore(bi,bf.parentNode)});aB.remove(bh)};a8=aB.select('span[data-mce-type="bookmark"]',bc);be=be||ap.createNewTextBlock(bb,bf);bg=aB.createRng();bg.setStartAfter(bf);bg.setEndAfter(bc);bd=bg.extractContents();for(a9=bd.firstChild;a9;a9=a9.firstChild){if(a9.nodeName==="LI"&&bb.dom.isEmpty(a9)){aB.remove(a9);break}}if(!bb.dom.isEmpty(bd)){aB.insertAfter(bd,bc)}aB.insertAfter(be,bc);if(aD.isEmpty(bb.dom,bf.parentNode)){ba(bf.parentNode)}aB.remove(bf);if(aD.isEmpty(bb.dom,bc)){aB.remove(bc)}};var k={splitList:aO};var aA=aq.DOM;var L=function(a9,a8){if(aD.isEmpty(a9,a8)){aA.remove(a8)}};var X=function(bb,a9){var ba=a9.parentNode;var a8,bc;if(ba){a8=ba.parentNode}else{L(bb.dom,a9);return true}if(ba===bb.getBody()){return true}if(a9.nodeName==="DD"){aA.rename(a9,"DT");return true}if(aD.isFirstChild(a9)&&aD.isLastChild(a9)){if(a8.nodeName==="LI"){aA.insertAfter(a9,a8);L(bb.dom,a8);aA.remove(ba)}else{if(aD.isListNode(a8)){aA.remove(ba,true)}else{a8.insertBefore(ap.createNewTextBlock(bb,a9),ba);aA.remove(ba)}}return true}else{if(aD.isFirstChild(a9)){if(a8.nodeName==="LI"){aA.insertAfter(a9,a8);a9.appendChild(ba);L(bb.dom,a8)}else{if(aD.isListNode(a8)){a8.insertBefore(a9,ba)}else{a8.insertBefore(ap.createNewTextBlock(bb,a9),ba);aA.remove(a9)}}return true}else{if(aD.isLastChild(a9)){if(a8.nodeName==="LI"){aA.insertAfter(a9,a8)}else{if(aD.isListNode(a8)){aA.insertAfter(a9,ba)}else{aA.insertAfter(ap.createNewTextBlock(bb,a9),ba);aA.remove(a9)}}return true}}}if(a8.nodeName==="LI"){ba=a8;bc=ap.createNewTextBlock(bb,a9,"LI")}else{if(aD.isListNode(a8)){bc=ap.createNewTextBlock(bb,a9,"LI")}else{bc=ap.createNewTextBlock(bb,a9)}}k.splitList(bb,ba,a9,bc);aL.normalizeLists(bb.dom,ba.parentNode);return true};var c=function(bc){var ba=P.getSelectedListItems(bc);if(ba.length){var bb=M.createBookmark(bc.selection.getRng());var a9=void 0,be=void 0;var a8=P.getClosestListRootElm(bc,bc.selection.getStart(true));a9=ba.length;while(a9--){var bd=ba[a9].parentNode;while(bd&&bd!==a8){be=ba.length;while(be--){if(ba[be]===bd){ba.splice(a9,1);break}}bd=bd.parentNode}}for(a9=0;a9<ba.length;a9++){if(!X(bc,ba[a9])&&a9===0){break}}bc.selection.setRng(M.resolveBookmark(bb));bc.nodeChanged();return true}};var aW={outdent:X,outdentSelection:c};var T=function(bb,ba,a9){var a8=a9["list-style-type"]?a9["list-style-type"]:null;bb.setStyle(ba,"list-style-type",a8)};var d=function(a9,a8){ar.each(a8,function(bb,ba){a9.setAttribute(ba,bb)})};var a5=function(ba,a9,a8){d(a9,a8["list-attributes"]);ar.each(ba.select("li",a9),function(bb){d(bb,a8["list-item-attributes"])})};var aP=function(ba,a9,a8){T(ba,a9,a8);a5(ba,a9,a8)};var aF=function(ba,a8,a9){ar.each(a9,function(bc){var bb;return ba.setStyle(a8,(bb={},bb[bc]="",bb))})};var l=function(bb,ba,bd,a9){var a8,bc;a8=ba[bd?"startContainer":"endContainer"];bc=ba[bd?"startOffset":"endOffset"];if(a8.nodeType===1){a8=a8.childNodes[Math.min(bc,a8.childNodes.length-1)]||a8}if(!bd&&aD.isBr(a8.nextSibling)){a8=a8.nextSibling}while(a8.parentNode!==a9){if(aD.isTextBlock(bb,a8)){return a8}if(/^(TD|TH)$/.test(a8.parentNode.nodeName)){return a8}a8=a8.parentNode}return a8};var x=function(be,a8,bf){var bh=[],bc=be.dom;var a9=l(be,a8,true,bf);var bd=l(be,a8,false,bf);var bb;var bg=[];for(var ba=a9;ba;ba=ba.nextSibling){bg.push(ba);if(ba===bd){break}}ar.each(bg,function(bi){if(aD.isTextBlock(be,bi)){bh.push(bi);bb=null;return}if(bc.isBlock(bi)||aD.isBr(bi)){if(aD.isBr(bi)){bc.remove(bi)}bb=null;return}var bj=bi.nextSibling;if(at.isBookmarkNode(bi)){if(aD.isTextBlock(be,bj)||!bj&&bi.parentNode===bf){bb=null;return}}if(!bb){bb=bc.create("p");bi.parentNode.insertBefore(bb,bi);bh.push(bb)}bb.appendChild(bi)});return bh};var an=function(bc,a8,ba){var a9=bc.getStyle(a8,"list-style-type");var bb=ba?ba["list-style-type"]:"";bb=bb===null?"":bb;return a9===bb};var m=function(be,ba,bd){if(bd===void 0){bd={}}var a9=be.selection.getRng(true);var bc;var bb="LI";var a8=P.getClosestListRootElm(be,be.selection.getStart(true));var bf=be.dom;if(bf.getContentEditable(be.selection.getNode())==="false"){return}ba=ba.toUpperCase();if(ba==="DL"){bb="DT"}bc=M.createBookmark(a9);ar.each(x(be,a9,a8),function(bi){var bg,bh;bh=bi.previousSibling;if(bh&&aD.isListNode(bh)&&bh.nodeName===ba&&an(bf,bh,bd)){bg=bh;bi=bf.rename(bi,bb);bh.appendChild(bi)}else{bg=bf.create(ba);bi.parentNode.insertBefore(bg,bi);bg.appendChild(bi);bi=bf.rename(bi,bb)}aF(bf,bi,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]);aP(bf,bg,bd);V(be.dom,bg)});be.selection.setRng(M.resolveBookmark(bc))};var Q=function(bb){var ba=M.createBookmark(bb.selection.getRng(true));var a9=P.getClosestListRootElm(bb,bb.selection.getStart(true));var bc=P.getSelectedListItems(bb);var a8=ar.grep(bc,function(bd){return bb.dom.isEmpty(bd)});bc=ar.grep(bc,function(bd){return !bb.dom.isEmpty(bd)});ar.each(a8,function(bd){if(aD.isEmpty(bb.dom,bd)){aW.outdent(bb,bd);return}});ar.each(bc,function(bd){var bf,be;if(bd.parentNode===bb.getBody()){return}for(bf=bd;bf&&bf!==a9;bf=bf.parentNode){if(aD.isListNode(bf)){be=bf}}k.splitList(bb,be,bd);aL.normalizeLists(bb.dom,be.parentNode)});bb.selection.setRng(M.resolveBookmark(ba))};var n=function(a8,a9){return a8&&a9&&aD.isListNode(a8)&&a8.nodeName===a9.nodeName};var ac=function(bb,a8,bc){var a9=bb.getStyle(a8,"list-style-type",true);var ba=bb.getStyle(bc,"list-style-type",true);return a9===ba};var S=function(a9,a8){return a9.className===a8.className};var au=function(a9,a8,ba){return n(a8,ba)&&ac(a9,a8,ba)&&S(a8,ba)};var V=function(bb,a8){var a9,ba;a9=a8.nextSibling;if(au(bb,a8,a9)){while(ba=a9.firstChild){a8.appendChild(ba)}bb.remove(a9)}a9=a8.previousSibling;if(au(bb,a8,a9)){while(ba=a9.lastChild){a8.insertBefore(ba,a8.firstChild)}bb.remove(a9)}};var y=function(bc,bb,a8,ba){if(bb.nodeName!==a8){var a9=bc.rename(bb,a8);aP(bc,a9,ba)}else{aP(bc,bb,ba)}};var r=function(bd,a9,a8,ba,bc){if(a9.nodeName===ba&&!F(bc)){Q(bd)}else{var bb=M.createBookmark(bd.selection.getRng(true));ar.each([a9].concat(a8),function(be){y(bd.dom,be,ba,bc)});bd.selection.setRng(M.resolveBookmark(bb))}};var F=function(a8){return"list-style-type" in a8};var aH=function(bc,a8,a9,bb){if(a8===bc.getBody()){return}if(a8){if(a8.nodeName===a9&&!F(bb)){Q(bc)}else{var ba=M.createBookmark(bc.selection.getRng(true));aP(bc.dom,a8,bb);V(bc.dom,bc.dom.rename(a8,a9));bc.selection.setRng(M.resolveBookmark(ba))}}else{m(bc,a9,bb)}};var B=function(bc,ba,bb){var a9=P.getParentList(bc);var a8=P.getSelectedSubLists(bc);bb=bb?bb:{};if(a9&&a8.length>0){r(bc,a9,a8,ba,bb)}else{aH(bc,a9,ba,bb)}};var a3={toggleList:B,removeList:Q,mergeWithAdjacentLists:V};var w=function(bb,ba,bd,a9){var bc=ba.startContainer;var bf=ba.startOffset;var a8,be;if(bc.nodeType===3&&(bd?bf<bc.data.length:bf>0)){return bc}a8=bb.schema.getNonEmptyElements();if(bc.nodeType===1){bc=az.getNode(bc,bf)}be=new ay(bc,a9);if(bd){if(aD.isBogusBr(bb.dom,bc)){be.next()}}while(bc=be[bd?"next":"prev2"]()){if(bc.nodeName==="LI"&&!bc.hasChildNodes()){return bc}if(a8[bc.nodeName]){return bc}if(bc.nodeType===3&&bc.data.length>0){return bc}}};var Z=function(a9,ba){var a8=ba.childNodes;return a8.length===1&&!aD.isListNode(a8[0])&&a9.isBlock(a8[0])};var Y=function(a8,a9){if(Z(a8,a9)){a8.remove(a9.firstChild,true)}};var K=function(bc,a8,bb){var ba,a9;a9=Z(bc,bb)?bb.firstChild:bb;Y(bc,a8);if(!aD.isEmpty(bc,a8,true)){while(ba=a8.firstChild){a9.appendChild(ba)}}};var aJ=function(bd,a9,bc){var bb,ba;var a8=a9.parentNode;if(!aD.isChildOfBody(bd,a9)||!aD.isChildOfBody(bd,bc)){return}if(aD.isListNode(bc.lastChild)){ba=bc.lastChild}if(a8===bc.lastChild){if(aD.isBr(a8.previousSibling)){bd.remove(a8.previousSibling)}}bb=bc.lastChild;if(bb&&aD.isBr(bb)&&a9.hasChildNodes()){bd.remove(bb)}if(aD.isEmpty(bd,bc,true)){bd.$(bc).empty()}K(bd,a9,bc);if(ba){bc.appendChild(ba)}bd.remove(a9);if(aD.isEmpty(bd,a8)&&a8!==bd.getRoot()){bd.remove(a8)}};var j=function(ba,a9,a8){ba.dom.$(a8).empty();aJ(ba.dom,a9,a8);ba.selection.setCursorLocation(a8)};var b=function(bc,a8,ba,a9){var bd=bc.dom;if(bd.isEmpty(a9)){j(bc,ba,a9)}else{var bb=M.createBookmark(a8);aJ(bd,ba,a9);bc.selection.setRng(M.resolveBookmark(bb))}};var aS=function(bc,a8,ba,a9){var bb=M.createBookmark(a8);aJ(bc.dom,ba,a9);var bd=M.resolveBookmark(bb);bc.selection.setRng(bd)};var a2=function(bb,bh){var ba=bb.dom,bf=bb.selection;var bd=bf.getStart();var be=P.getClosestListRootElm(bb,bd);var bg=ba.getParent(bf.getStart(),"LI",be);var bc,a8,a9;if(bg){bc=bg.parentNode;if(bc===bb.getBody()&&aD.isEmpty(ba,bc)){return true}a8=a4.normalizeRange(bf.getRng(true));a9=ba.getParent(w(bb,a8,bh,be),"LI",be);if(a9&&a9!==bg){if(bh){b(bb,a8,a9,bg)}else{aS(bb,a8,bg,a9)}return true}else{if(!a9){if(!bh&&a3.removeList(bb)){return true}}}}return false};var D=function(bb,ba,a8){var a9=bb.getParent(ba.parentNode,bb.isBlock,a8);bb.remove(ba);if(a9&&bb.isEmpty(a9)){bb.remove(a9)}};var i=function(bb,bc){var be=bb.dom;var ba=bb.selection.getStart();var a9=P.getClosestListRootElm(bb,ba);var bd=be.getParent(ba,be.isBlock,a9);if(bd&&be.isEmpty(bd)){var a8=a4.normalizeRange(bb.selection.getRng(true));var bf=be.getParent(w(bb,a8,bc,a9),"LI",a9);if(bf){bb.undoManager.transact(function(){D(be,bd,a9);a3.mergeWithAdjacentLists(be,bf.parentNode);bb.selection.select(bf,true);bb.selection.collapse(bc)});return true}}return false};var aU=function(a8,a9){return a2(a8,a9)||i(a8,a9)};var aY=function(ba){var a9=ba.selection.getStart();var a8=P.getClosestListRootElm(ba,a9);var bb=ba.dom.getParent(a9,"LI,DT,DD",a8);if(bb||P.getSelectedListItems(ba).length>0){ba.undoManager.transact(function(){ba.execCommand("Delete");aL.normalizeLists(ba.dom,ba.getBody())});return true}return false};var ad=function(a8,a9){return a8.selection.isCollapsed()?aU(a8,a9):aY(a8)};var aG=function(a8){a8.on("keydown",function(a9){if(a9.keyCode===aw.BACKSPACE){if(ad(a8,false)){a9.preventDefault()}}else{if(a9.keyCode===aw.DELETE){if(ad(a8,true)){a9.preventDefault()}}}})};var g={setup:aG,backspaceDelete:ad};var aI=function(a8){return{backspaceDelete:function(a9){g.backspaceDelete(a8,a9)}}};var E={get:aI};var ax=aq.DOM;var aZ=function(ba,a9){var a8;if(aD.isListNode(ba)){while(a8=ba.firstChild){a9.appendChild(a8)}ax.remove(ba)}};var ae=function(a8){var ba,a9,bb;if(a8.nodeName==="DT"){ax.rename(a8,"DD");return true}ba=a8.previousSibling;if(ba&&aD.isListNode(ba)){ba.appendChild(a8);return true}if(ba&&ba.nodeName==="LI"&&aD.isListNode(ba.lastChild)){ba.lastChild.appendChild(a8);aZ(a8.lastChild,ba.lastChild);return true}ba=a8.nextSibling;if(ba&&aD.isListNode(ba)){ba.insertBefore(a8,ba.firstChild);return true}ba=a8.previousSibling;if(ba&&ba.nodeName==="LI"){a9=ax.create(a8.parentNode.nodeName);bb=ax.getStyle(a8.parentNode,"listStyleType");if(bb){ax.setStyle(a9,"listStyleType",bb)}ba.appendChild(a9);a9.appendChild(a8);aZ(a8.lastChild,a9);return true}return false};var R=function(bb){var a9=P.getSelectedListItems(bb);if(a9.length){var ba=M.createBookmark(bb.selection.getRng(true));for(var a8=0;a8<a9.length;a8++){if(!ae(a9[a8])&&a8===0){break}}bb.selection.setRng(M.resolveBookmark(ba));bb.nodeChanged();return true}};var U={indentSelection:R};var N=function(a9,a8){return function(){var ba=a9.dom.getParent(a9.selection.getStart(),"UL,OL,DL");return ba&&ba.nodeName===a8}};var aR=function(a8){a8.on("BeforeExecCommand",function(bb){var ba=bb.command.toLowerCase();var a9;if(ba==="indent"){if(U.indentSelection(a8)){a9=true}}else{if(ba==="outdent"){if(aW.outdentSelection(a8)){a9=true}}}if(a9){a8.fire("ExecCommand",{command:bb.command});bb.preventDefault();return true}});a8.addCommand("InsertUnorderedList",function(ba,a9){a3.toggleList(a8,"UL",a9)});a8.addCommand("InsertOrderedList",function(ba,a9){a3.toggleList(a8,"OL",a9)});a8.addCommand("InsertDefinitionList",function(ba,a9){a3.toggleList(a8,"DL",a9)});a8.addQueryStateHandler("InsertUnorderedList",N(a8,"UL"));a8.addQueryStateHandler("InsertOrderedList",N(a8,"OL"));a8.addQueryStateHandler("InsertDefinitionList",N(a8,"DL"))};var J={register:aR};var aN=function(a8){return a8.getParam("lists_indent_on_tab",true)};var ak={shouldIndentOnTab:aN};var aM=function(a8){a8.on("keydown",function(a9){if(a9.keyCode!==aw.TAB||aw.metaKeyPressed(a9)){return}if(a8.dom.getParent(a8.selection.getStart(),"LI,DT,DD")){a9.preventDefault();if(a9.shiftKey){aW.outdentSelection(a8)}else{U.indentSelection(a8)}}})};var aT=function(a8){if(ak.shouldIndentOnTab(a8)){aM(a8)}g.setup(a8)};var ab={setup:aT};var av=function(bb,a8){for(var a9=0;a9<bb.length;a9++){var ba=bb[a9];if(a8(ba)){return a9}}return -1};var o=function(a9,a8){return function(bb){var ba=bb.control;a9.on("NodeChange",function(bf){var be=av(bf.parents,aD.isTableCellNode);var bd=be!==-1?bf.parents.slice(0,be):bf.parents;var bc=ar.grep(bd,aD.isListNode);ba.active(bc.length>0&&bc[0].nodeName===a8)})}};var ai=function(a8){return function(ba){var a9=ba.control;a8.on("nodechange",function(){var bb=P.getSelectedListItems(a8);var bc=bb.length>0&&aD.isFirstChild(bb[0]);a9.disabled(bc)})}};var a0=function(a9){var a8=function(bb,bc){var ba=bb.settings.plugins?bb.settings.plugins:"";return ar.inArray(ba.split(/[ ,]/),bc)!==-1};if(!a8(a9,"advlist")){a9.addButton("numlist",{active:false,title:"Numbered list",cmd:"InsertOrderedList",onPostRender:o(a9,"OL")});a9.addButton("bullist",{active:false,title:"Bullet list",cmd:"InsertUnorderedList",onPostRender:o(a9,"UL")})}a9.addButton("indent",{icon:"indent",title:"Increase indent",cmd:"Indent",onPostRender:ai(a9)})};var ah={register:a0};u.add("lists",function(a8){ab.setup(a8);ah.register(a8);J.register(a8);return E.get(a8)});function A(){}return A}())})();