(function(){var a=(function(){var g=function(v){var w=v;var u=function(){return w};var y=function(z){w=z};var x=function(){return g(u())};return{get:u,set:y,clone:x}};var l=tinymce.util.Tools.resolve("tinymce.PluginManager");var r=function(u){return{isFullscreen:function(){return u.get()!==null}}};var b={get:r};var h=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils");var k=function(u,v){u.fire("FullscreenStateChanged",{state:v})};var j={fireFullscreenStateChanged:k};var p=h.DOM;var n=function(){var v;var x;var z=window;var y=document;var u=y.body;if(u.offsetWidth){v=u.offsetWidth;x=u.offsetHeight}if(z.innerWidth&&z.innerHeight){v=z.innerWidth;x=z.innerHeight}return{w:v,h:x}};var c=function(){var u=p.getViewPort();return{x:u.x,y:u.y}};var e=function(u){window.scrollTo(u.x,u.y)};var t=function(C,w){var B=document.body;var E=document.documentElement;var A;var z,x,y;var F=w.get();var u=function(){p.setStyle(x,"height",n().h-(z.clientHeight-x.clientHeight))};var v=function(){p.unbind(window,"resize",u)};z=C.getContainer();A=z.style;x=C.getContentAreaContainer().firstChild;y=x.style;if(!F){var D={scrollPos:c(),containerWidth:A.width,containerHeight:A.height,iframeWidth:y.width,iframeHeight:y.height,resizeHandler:u,removeHandler:v};y.width=y.height="100%";A.width=A.height="";p.addClass(B,"mce-fullscreen");p.addClass(E,"mce-fullscreen");p.addClass(z,"mce-fullscreen");p.bind(window,"resize",u);C.on("remove",v);u();w.set(D);j.fireFullscreenStateChanged(C,true)}else{y.width=F.iframeWidth;y.height=F.iframeHeight;if(F.containerWidth){A.width=F.containerWidth}if(F.containerHeight){A.height=F.containerHeight}p.removeClass(B,"mce-fullscreen");p.removeClass(E,"mce-fullscreen");p.removeClass(z,"mce-fullscreen");e(F.scrollPos);p.unbind(window,"resize",F.resizeHandler);C.off("remove",F.removeHandler);w.set(null);j.fireFullscreenStateChanged(C,false)}};var s={toggleFullscreen:t};var d=function(v,u){v.addCommand("mceFullScreen",function(){s.toggleFullscreen(v,u)})};var m={register:d};var i=function(u){return function(w){var v=w.control;u.on("FullscreenStateChanged",function(x){v.active(x.state)})}};var q=function(u){u.addMenuItem("fullscreen",{text:"Fullscreen",shortcut:"Ctrl+Shift+F",selectable:true,cmd:"mceFullScreen",onPostRender:i(u),context:"view"});u.addButton("fullscreen",{active:false,tooltip:"Fullscreen",cmd:"mceFullScreen",onPostRender:i(u)})};var o={register:q};l.add("fullscreen",function(v){var u=g(null);if(v.settings.inline){return b.get(u)}m.register(v,u);o.register(v);v.addShortcut("Ctrl+Shift+F","","mceFullScreen");return b.get(u)});function f(){}return f}())})();