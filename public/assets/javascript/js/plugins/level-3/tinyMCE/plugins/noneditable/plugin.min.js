(function(){var a=(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");var c=tinymce.util.Tools.resolve("tinymce.util.Tools");var b=function(n){return n.getParam("noneditable_noneditable_class","mceNonEditable")};var d=function(n){return n.getParam("noneditable_editable_class","mceEditable")};var j=function(o){var n=o.getParam("noneditable_regexp",[]);if(n&&n.constructor===RegExp){return[n]}else{return n}};var l={getNonEditableClass:b,getEditableClass:d,getNonEditableRegExps:j};var i=function(n){return function(o){return(" "+o.attr("class")+" ").indexOf(n)!==-1}};var h=function(o,p,n){return function(t){var s=arguments,r=s[s.length-2];var v=r>0?p.charAt(r-1):"";if(v==='"'){return t}if(v===">"){var q=p.lastIndexOf("<",r);if(q!==-1){var u=p.substring(q,r);if(u.indexOf('contenteditable="false"')!==-1){return t}}}return'<span class="'+n+'" data-mce-content="'+o.dom.encode(s[0])+'">'+o.dom.encode(typeof s[1]==="string"?s[1]:s[0])+"</span>"}};var m=function(p,n,r){var o=n.length,q=r.content;if(r.format==="raw"){return}while(o--){q=q.replace(n[o],h(p,q,l.getNonEditableClass(p)))}r.content=q};var g=function(s){var o,n;var r="contenteditable";o=" "+c.trim(l.getEditableClass(s))+" ";n=" "+c.trim(l.getNonEditableClass(s))+" ";var t=i(o);var q=i(n);var p=l.getNonEditableRegExps(s);s.on("PreInit",function(){if(p.length>0){s.on("BeforeSetContent",function(u){m(s,p,u)})}s.parser.addAttributeFilter("class",function(u){var v=u.length,w;while(v--){w=u[v];if(t(w)){w.attr(r,"true")}else{if(q(w)){w.attr(r,"false")}}}});s.serializer.addAttributeFilter(r,function(u){var v=u.length,w;while(v--){w=u[v];if(!t(w)&&!q(w)){continue}if(p.length>0&&w.attr("data-mce-content")){w.name="#text";w.type=3;w.raw=true;w.value=w.attr("data-mce-content")}else{w.attr(r,null)}}})})};var f={setup:g};e.add("noneditable",function(n){f.setup(n)});function k(){}return k}())})();