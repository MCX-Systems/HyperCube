(function(){var a=(function(){var d=tinymce.util.Tools.resolve("tinymce.PluginManager");var h=function(s,q){var t="";for(var r=0;r<q;r++){t+=s}return t};var e=function(q){return q.plugins.visualchars?q.plugins.visualchars.isEnabled():false};var n=function(r,s){var q=e(r)?'<span class="mce-nbsp">&nbsp;</span>':"&nbsp;";r.insertContent(h(q,s));r.dom.setAttrib(r.dom.select("span.mce-nbsp"),"data-mce-bogus","1")};var g={insertNbsp:n};var o=function(q){q.addCommand("mceNonBreaking",function(){g.insertNbsp(q,1)})};var j={register:o};var c=tinymce.util.Tools.resolve("tinymce.util.VK");var f=function(r){var q=r.getParam("nonbreaking_force_tab",0);if(typeof q==="boolean"){return q===true?3:0}else{return q}};var k={getKeyboardSpaces:f};var i=function(r){var q=k.getKeyboardSpaces(r);if(q>0){r.on("keydown",function(s){if(s.keyCode===c.TAB&&!s.isDefaultPrevented()){if(s.shiftKey){return}s.preventDefault();s.stopImmediatePropagation();g.insertNbsp(r,q)}})}};var p={setup:i};var b=function(q){q.addButton("nonbreaking",{title:"Nonbreaking space",cmd:"mceNonBreaking"});q.addMenuItem("nonbreaking",{icon:"nonbreaking",text:"Nonbreaking space",cmd:"mceNonBreaking",context:"insert"})};var l={register:b};d.add("nonbreaking",function(q){j.register(q);l.register(q);p.setup(q)});function m(){}return m}())})();