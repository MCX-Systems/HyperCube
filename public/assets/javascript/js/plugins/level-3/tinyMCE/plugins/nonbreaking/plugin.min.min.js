(function(){var b=(function(){var B=tinymce.util.Tools.resolve("tinymce.PluginManager");var x=function(d,f){var c="";for(var e=0;e<f;e++){c+=d}return c};var A=function(c){return c.plugins.visualchars?c.plugins.visualchars.isEnabled():false};var r=function(d,c){var e=A(d)?'<span class="mce-nbsp">&nbsp;</span>':"&nbsp;";d.insertContent(x(e,c));d.dom.setAttrib(d.dom.select("span.mce-nbsp"),"data-mce-bogus","1")};var y={insertNbsp:r};var q=function(c){c.addCommand("mceNonBreaking",function(){y.insertNbsp(c,1)})};var v={register:q};var C=tinymce.util.Tools.resolve("tinymce.util.VK");var z=function(c){var d=c.getParam("nonbreaking_force_tab",0);if(typeof d==="boolean"){return d===true?3:0}else{return d}};var u={getKeyboardSpaces:z};var w=function(c){var d=u.getKeyboardSpaces(c);if(d>0){c.on("keydown",function(e){if(e.keyCode===C.TAB&&!e.isDefaultPrevented()){if(e.shiftKey){return}e.preventDefault();e.stopImmediatePropagation();y.insertNbsp(c,d)}})}};var a={setup:w};var D=function(c){c.addButton("nonbreaking",{title:"Nonbreaking space",cmd:"mceNonBreaking"});c.addMenuItem("nonbreaking",{icon:"nonbreaking",text:"Nonbreaking space",cmd:"mceNonBreaking",context:"insert"})};var t={register:D};B.add("nonbreaking",function(c){v.register(c);t.register(c);a.setup(c)});function s(){}return s}())})();