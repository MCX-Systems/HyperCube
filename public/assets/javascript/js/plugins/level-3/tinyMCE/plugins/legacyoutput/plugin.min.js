(function(){var a=(function(){var i=tinymce.util.Tools.resolve("tinymce.PluginManager");var d=tinymce.util.Tools.resolve("tinymce.util.Tools");var h=function(k){var j="p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img",m=d.explode(k.settings.font_size_style_values),l=k.schema;k.formatter.register({alignleft:{selector:j,attributes:{align:"left"}},aligncenter:{selector:j,attributes:{align:"center"}},alignright:{selector:j,attributes:{align:"right"}},alignjustify:{selector:j,attributes:{align:"justify"}},bold:[{inline:"b",remove:"all"},{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}}],italic:[{inline:"i",remove:"all"},{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}}],underline:[{inline:"u",remove:"all"},{inline:"span",styles:{textDecoration:"underline"},exact:true}],strikethrough:[{inline:"strike",remove:"all"},{inline:"span",styles:{textDecoration:"line-through"},exact:true}],fontname:{inline:"font",attributes:{face:"%value"}},fontsize:{inline:"font",attributes:{size:function(n){return d.inArray(m,n.value)+1}}},forecolor:{inline:"font",attributes:{color:"%value"}},hilitecolor:{inline:"font",styles:{backgroundColor:"%value"}}});d.each("b,i,u,strike".split(","),function(n){l.addValidElements(n+"[*]")});if(!l.getElementRule("font")){l.addValidElements("font[face|size|color|style]")}d.each(j.split(","),function(n){var o=l.getElementRule(n);if(o){if(!o.attributes.align){o.attributes.align={};o.attributesOrder.push("align")}}})};var c=function(j){j.settings.inline_styles=false;j.on("init",function(){h(j)})};var e={setup:c};var g=function(j){j.addButton("fontsizeselect",function(){var l=[],m="8pt=1 10pt=2 12pt=3 14pt=4 18pt=5 24pt=6 36pt=7";var k=j.settings.fontsizeFormats||m;j.$.each(k.split(" "),function(o,p){var r=p,q=p;var n=p.split("=");if(n.length>1){r=n[0];q=n[1]}l.push({text:r,value:q})});return{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:l,fixedWidth:true,onPostRender:function(){var n=this;j.on("NodeChange",function(){var o;o=j.dom.getParent(j.selection.getNode(),"font");if(o){n.value(o.size)}else{n.value("")}})},onclick:function(n){if(n.control.settings.value){j.execCommand("FontSize",false,n.control.settings.value)}}}});j.addButton("fontselect",function(){function k(o){o=o.replace(/;$/,"").split(";");var p=o.length;while(p--){o[p]=o[p].split("=")}return o}var m="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats";var l=[],n=k(j.settings.font_formats||m);j.$.each(n,function(p,o){l.push({text:{raw:o[0]},value:o[1],textStyle:o[1].indexOf("dings")===-1?"font-family:"+o[1]:""})});return{type:"listbox",text:"Font Family",tooltip:"Font Family",values:l,fixedWidth:true,onPostRender:function(){var o=this;j.on("NodeChange",function(){var p;p=j.dom.getParent(j.selection.getNode(),"font");if(p){o.value(p.face)}else{o.value("")}})},onselect:function(o){if(o.control.settings.value){j.execCommand("FontName",false,o.control.settings.value)}}}})};var b={register:g};i.add("legacyoutput",function(j){e.setup(j);b.register(j)});function f(){}return f}())})();