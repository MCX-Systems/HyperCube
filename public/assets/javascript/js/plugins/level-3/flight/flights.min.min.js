(function(c){function d(u,w,H){var D=this;var B=c.extend({size:200,roll:0,pitch:0,turn:0,heading:0,vario:0,airspeed:0,altitude:0,pressure:1000,showBox:true,img_directory:"/assets/javascript/core/plugins/indicators/Flight/images/"},H);var a={pitch_bound:30,vario_bound:1.95,airspeed_bound_l:0,airspeed_bound_h:160};u.each(function(){switch(w){case"heading":c(this).html('<div class="instrument heading"><img src="'+B.img_directory+'fi_box.svg" class="background box" alt="" /><div class="heading box"><img src="'+B.img_directory+'heading_yaw.svg" class="box" alt="" /></div><div class="mechanics box"><img src="'+B.img_directory+'heading_mechanics.svg" class="box" alt="" /><img src="'+B.img_directory+'fi_circle.svg" class="box" alt="" /></div></div>');b(B.heading);break;case"variometer":c(this).html('<div class="instrument vario"><img src="'+B.img_directory+'fi_box.svg" class="background box" alt="" /><img src="'+B.img_directory+'vertical_mechanics.svg" class="box" alt="" /><div class="vario box"><img src="'+B.img_directory+'fi_needle.svg" class="box" alt="" /></div><div class="mechanics box"><img src="'+B.img_directory+'fi_circle.svg" class="box" alt="" /></div></div>');A(B.vario);break;case"turn_coordinator":c(this).html('<div class="instrument turn_coordinator"><img src="'+B.img_directory+'fi_box.svg" class="background box" alt="" /><img src="'+B.img_directory+'turn_coordinator.svg" class="box" alt="" /><div class="turn box"><img src="'+B.img_directory+'fi_tc_airplane.svg" class="box" alt="" /></div><div class="mechanics box"><img src="'+B.img_directory+'fi_circle.svg" class="box" alt="" /></div></div>');z(B.turn);break;case"airspeed":c(this).html('<div class="instrument airspeed"><img src="'+B.img_directory+'fi_box.svg" class="background box" alt="" /><img src="'+B.img_directory+'speed_mechanics.svg" class="box" alt="" /><div class="speed box"><img src="'+B.img_directory+'fi_needle.svg" class="box" alt="" /></div><div class="mechanics box"><img src="'+B.img_directory+'fi_circle.svg" class="box" alt="" /></div></div>');E(B.airspeed);break;case"altimeter":c(this).html('<div class="instrument altimeter"><img src="'+B.img_directory+'fi_box.svg" class="background box" alt="" /><div class="pressure box"><img src="'+B.img_directory+'altitude_pressure.svg" class="box" alt="" /></div><img src="'+B.img_directory+'altitude_ticks.svg" class="box" alt="" /><div class="needleSmall box"><img src="'+B.img_directory+'fi_needle_small.svg" class="box" alt="" /></div><div class="needle box"><img src="'+B.img_directory+'fi_needle.svg" class="box" alt="" /></div><div class="mechanics box"><img src="'+B.img_directory+'fi_circle.svg" class="box" alt="" /></div></div>');F(B.altitude);x(B.pressure);break;default:c(this).html('<div class="instrument attitude"><img src="'+B.img_directory+'fi_box.svg" class="background box" alt="" /><div class="roll box"><img src="'+B.img_directory+'horizon_back.svg" class="box" alt="" /><div class="pitch box"><img src="'+B.img_directory+'horizon_ball.svg" class="box" alt="" /></div><img src="'+B.img_directory+'horizon_circle.svg" class="box" alt="" /></div><div class="mechanics box"><img src="'+B.img_directory+'horizon_mechanics.svg" class="box" alt="" /><img src="'+B.img_directory+'fi_circle.svg" class="box" alt="" /></div></div>');t(B.roll);v(B.pitch)}c(this).find("div.instrument").css({height:B.size,width:B.size});c(this).find("div.instrument img.box.background").toggle(B.showBox)});function t(e){u.each(function(){c(this).find("div.instrument.attitude div.roll").css("transform","rotate("+e+"deg)")})}function v(e){if(e>a.pitch_bound){e=a.pitch_bound}else{if(e<-a.pitch_bound){e=-a.pitch_bound}}u.each(function(){c(this).find("div.instrument.attitude div.roll div.pitch").css("top",e*0.7+"%")})}function b(e){u.each(function(){c(this).find("div.instrument.heading div.heading").css("transform","rotate("+-e+"deg)")})}function z(e){u.each(function(){c(this).find("div.instrument.turn_coordinator div.turn").css("transform","rotate("+e+"deg)")})}function A(e){if(e>a.vario_bound){e=a.vario_bound}else{if(e<-a.vario_bound){e=-a.vario_bound}}e=e*90;u.each(function(){c(this).find("div.instrument.vario div.vario").css("transform","rotate("+e+"deg)")})}function E(e){if(e>a.airspeed_bound_h){e=a.airspeed_bound_h}else{if(e<a.airspeed_bound_l){e=a.airspeed_bound_l}}e=90+e*2;u.each(function(){c(this).find("div.instrument.airspeed div.speed").css("transform","rotate("+e+"deg)")})}function F(g){var e=90+g%1000*360/1000;var f=g/10000*360;u.each(function(){c(this).find("div.instrument.altimeter div.needle").css("transform","rotate("+e+"deg)");c(this).find("div.instrument.altimeter div.needleSmall").css("transform","rotate("+f+"deg)")})}function x(e){e=2*e-1980;u.each(function(){c(this).find("div.instrument.altimeter div.pressure").css("transform","rotate("+e+"deg)")})}function y(e){u.each(function(){c(this).find("div.instrument").css({height:e,width:e})})}function C(){u.each(function(){c(this).find("img.box.background").show()})}function G(){u.each(function(){c(this).find("img.box.background").hide()})}this.setRoll=function(e){t(e)};this.setPitch=function(e){v(e)};this.setHeading=function(e){b(e)};this.setTurn=function(e){z(e)};this.setVario=function(e){A(e)};this.setAirSpeed=function(e){E(e)};this.setAltitude=function(e){F(e)};this.setPressure=function(e){x(e)};this.resize=function(e){y(e)};this.showBox=function(){C()};this.hideBox=function(){G()};return D}c.flightIndicator=function(b,g,h){var a=new d(c(b),g,h);return a};c.fn.flightIndicator=function(a,b,f){return this.each(function(){c.flightIndicator(this,b,f)})}}(jQuery));