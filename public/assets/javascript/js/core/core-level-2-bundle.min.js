/**
 * Timeago is a jQuery plugin that makes it easy to support automatically
 * updating fuzzy timestamps (e.g. "4 minutes ago" or "about 1 day ago").
 *
 * @name timeago
 * @version 1.6.3
 * @requires jQuery v1.2.3+
 * @author Ryan McGeary
 * @license MIT License - http://www.opensource.org/licenses/mit-license.php
 *
 * For usage and examples, visit:
 * http://timeago.yarp.com/
 *
 * Copyright (c) 2008-2017, Ryan McGeary (ryan -[at]- mcgeary [*dot*] org)
 */
var outdatedBrowser,sliceTransform,sliceTransformCustomization,colorpalette,hs,HsExpander;(function(n){typeof define=="function"&&define.amd?define(["jquery"],n):typeof module=="object"&&typeof module.exports=="object"?n(require("jquery")):n(jQuery)})(function(n){function u(){var u=t.settings,r;return u.autoDispose&&!n.contains(document.documentElement,this)?(n(this).timeago("dispose"),this):(r=e(this),isNaN(r.datetime)||(u.cutoff===0||Math.abs(f(r.datetime))<u.cutoff?n(this).text(i(r.datetime)):n(this).attr("title").length>0&&n(this).text(n(this).attr("title"))),this)}function e(i){if(i=n(i),!i.data("timeago")){i.data("timeago",{datetime:t.datetime(i)});var r=n.trim(i.text());t.settings.localeTitle?i.attr("title",i.data("timeago").datetime.toLocaleString()):r.length>0&&!(t.isTime(i)&&i.attr("title"))&&i.attr("title",r)}return i.data("timeago")}function i(n){return t.inWords(f(n))}function f(n){return(new Date).getTime()-n.getTime()}var t,r;n.timeago=function(t){return t instanceof Date?i(t):typeof t=="string"?i(n.timeago.parse(t)):typeof t=="number"?i(new Date(t)):i(n.timeago.datetime(t))};t=n.timeago;n.extend(n.timeago,{settings:{refreshMillis:6e4,allowPast:!0,allowFuture:!1,localeTitle:!1,cutoff:0,autoDispose:!0,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",inPast:"any moment now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(t){function r(r,u){var f=n.isFunction(r)?r(u,t):r,e=i.numbers&&i.numbers[u]||u;return f.replace(/%d/i,e)}var a,s;if(!this.settings.allowPast&&!this.settings.allowFuture)throw"timeago allowPast and allowFuture settings can not both be set to false.";var i=this.settings.strings,h=i.prefixAgo,c=i.suffixAgo;if(this.settings.allowFuture&&t<0&&(h=i.prefixFromNow,c=i.suffixFromNow),!this.settings.allowPast&&t>=0)return this.settings.strings.inPast;var f=Math.abs(t)/1e3,e=f/60,o=e/60,u=o/24,l=u/365;return a=f<45&&r(i.seconds,Math.round(f))||f<90&&r(i.minute,1)||e<45&&r(i.minutes,Math.round(e))||e<90&&r(i.hour,1)||o<24&&r(i.hours,Math.round(o))||o<42&&r(i.day,1)||u<30&&r(i.days,Math.round(u))||u<45&&r(i.month,1)||u<365&&r(i.months,Math.round(u/30))||l<1.5&&r(i.year,1)||r(i.years,Math.round(l)),s=i.wordSeparator||"",i.wordSeparator===undefined&&(s=" "),n.trim([h,a,c].join(s))},parse:function(t){var i=n.trim(t);return i=i.replace(/\.\d+/,""),i=i.replace(/-/,"/").replace(/-/,"/"),i=i.replace(/T/," ").replace(/Z/," UTC"),i=i.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),i=i.replace(/([\+\-]\d\d)$/," $100"),new Date(i)},datetime:function(i){var r=t.isTime(i)?n(i).attr("datetime"):n(i).attr("title");return t.parse(r)},isTime:function(t){return n(t).get(0).tagName.toLowerCase()==="time"}});r={init:function(){var i,f;r.dispose.call(this);i=n.proxy(u,this);i();f=t.settings;f.refreshMillis>0&&(this._timeagoInterval=setInterval(i,f.refreshMillis))},update:function(i){var r=i instanceof Date?i:t.parse(i);n(this).data("timeago",{datetime:r});t.settings.localeTitle&&n(this).attr("title",r.toLocaleString());u.apply(this)},updateFromDOM:function(){n(this).data("timeago",{datetime:t.parse(t.isTime(this)?n(this).attr("datetime"):n(this).attr("title"))});u.apply(this)},dispose:function(){this._timeagoInterval&&(window.clearInterval(this._timeagoInterval),this._timeagoInterval=null)}};n.fn.timeago=function(n,t){var i=n?r[n]:r.init;if(!i)throw new Error("Unknown function name '"+n+"' for timeago");return this.each(function(){i.call(this,t)}),this};document.createElement("abbr");document.createElement("time")});
/*! jQuery Session Timeout - v0.1.0 - 2012-06-30
* https://github.com/asabaylus/jQuery-sessionTimeout
* Copyright (c) 2012 Asa Baylus; Licensed MIT, GPL */
(function(n){var s,t,h={},f=[],e=new Date,r="sessionTimeout_"+e.getTime(),c="0.0.1",i,u,o;n.fn.sessionTimeout=function(l,a){function v(t){f.push(t);n(document).trigger("eventLogged.sessionTimeout")}if(s={autoping:!0,timeout:36e5,resource:"https://hypercube.si/assets/favicon/favicon.ico",promptfor:6e5,beforetimeout:n.noop,ontimeout:n.noop},t={_init:function(){window.clearInterval(u);u=window.setInterval(function(){if(l.autoping===!1)if(n.isFunction(l.ontimeout)){l.ontimeout.call(this);window.clearInterval(u);var i=new Date;v("$.fn.sessionTimeout status: session expired @"+i.toTimeString());n(document).trigger("expired.sessionTimeout")}else n.error("The jQuery.sessionTimeout ontimeout parameter is expecting a function");else t.ping.apply(this,arguments)},l.timeout);l.autoping||(o=window.setTimeout(function(){var t=new Date;v("$.fn.sessionTimeout status: beforeTimeout triggered @"+t.toTimeString());n.isFunction(l.beforetimeout)?l.beforetimeout.call(this):n.error("The jQuery.sessionTimeout beforetimeout parameter is expecting a function");n(document).trigger("prompt.sessionTimeout")},l.timeout-l.promptfor));i=new Date;v("$.fn.sessionTimeout status: initialized");n(document).trigger("create.sessionTimeout",[c,e,i-e])},ping:function(){var i=new Date,r=i.getTime();if(typeof u=="undefined"){n.error('Initialize $.fn.sessionTimeout before invoking method "ping".');return}t._fetch.apply();v("$.fn.sessionTimeout status: session restarted @ "+i.toTimeString());n(document).trigger("ping.sessionTimeout")},_fetch:function(){var i=new Date,t=i.getTime(),u=l.resource.match(/^(.+)\.([^\.]*)?$/),f=u[2],e=/^jpg|jpeg|png|gif|bmp$/.test(f);n("#"+r).length?n("#"+r).attr("src",l.resource+"?timestamp="+t):e?n("body").append("<img id='"+r+"' src='"+l.resource+"?tstamp="+t+'\' style=\'position: "absolute", height: "1px", width: "1px"\' alt=\'web page session management helper\'>'):n("body").append("<iframe id='"+r+"' src='"+l.resource+"?tstamp="+t+'\' style=\'position: "absolute", height: "1px", width: "1px", display: "none"\' alt=\'web page session management helper\'><\/iframe>')},_beforeTimeout:function(){n.isFunction(l.beforetimeout)?o=window.setTimeout(function(){var t=new Date;v("$.fn.sessionTimeout status: beforeTimeout triggered @"+t.toTimeString());l.beforetimeout.call(this);n(document).trigger("prompt.sessionTimeout")},l.timeout-l.promptfor):n.error("The jQuery.sessionTimeout beforetimeout parameter is expecting a function")},duration:function(){return v("$.fn.sessionTimeout status: duration "+l.timeout),l.timeout},elapsed:function(){var n=new Date-i;return v("$.fn.sessionTimeout status: elapsed "+n+" ms"),n},remaining:function(){var n=new Date,t=new Date(i.getTime()+l.timeout),r=t-n>0?t-n:0;return v("$.fn.sessionTimeout status: remaining "+r+" ms"),r},destroy:function(){typeof i!="undefined"?(n("#"+r).remove(),window.clearInterval(u),window.clearTimeout(o),i=undefined,v("$.fn.sessionTimeout status: destroy"),n(document).trigger("destroy.sessionTimeout"),n(document).unbind("sessionTimeout"),f.length=0):n.error("Could not destroy, initialize the plugin before calling destroy.")},printLog:function(){return f}},t[l]&&(a=l),n.extend(h,l),l=n.extend(s,h),t[a])return t[a].apply(this,Array.prototype.slice.call(arguments,1));if(typeof a!="object"&&a)n.error("Method "+a+" does not exist on jQuery.sessionTimeout");else return t._init.apply(this,arguments);return t[a].apply(this,Array.prototype.slice.call(arguments,1))}})(jQuery),function(){var nt,ct,lt,at,vt,yt,pt,wt,a,n,bt,kt,tt,dt,gt,o,ni,r,v,y,it,s,p,ti,rt,ut,f,ii,u,t,w,ft,ri,h,et,b,i,e,ot,c,k,st,d,g,ui,fi,ht,ei,oi,l=[].slice,si={}.hasOwnProperty,hi=function(n,t){function r(){this.constructor=n}for(var i in t)si.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n},ci=[].indexOf||function(n){for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===n)return t;return-1};for(it={catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},u=function(){var n;return(n=typeof performance!="undefined"&&performance!==null?typeof performance.now=="function"?performance.now():void 0:void 0)!=null?n:+new Date},w=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,y=window.cancelAnimationFrame||window.mozCancelAnimationFrame,w==null&&(w=function(n){return setTimeout(n,50)},y=function(n){return clearTimeout(n)}),ri=function(n){var i,t;return i=u(),t=function(){var r;return r=u()-i,r>=33?(i=u(),n(r,function(){return w(t)})):setTimeout(t,33-r)},t()},ft=function(){var i,t,n;return n=arguments[0],t=arguments[1],i=3<=arguments.length?l.call(arguments,2):[],typeof n[t]=="function"?n[t].apply(n,i):n[t]},s=function(){var n,t,i,f,r,u,e;for(t=arguments[0],f=2<=arguments.length?l.call(arguments,1):[],u=0,e=f.length;u<e;u++)if(i=f[u],i)for(n in i)si.call(i,n)&&(r=i[n],t[n]!=null&&typeof t[n]=="object"&&r!=null&&typeof r=="object"?s(t[n],r):t[n]=r);return t},ni=function(n){var i,r,u,t,f;for(r=i=0,t=0,f=n.length;t<f;t++)u=n[t],r+=Math.abs(u),i++;return r/i},ti=function(n,t){var i,u,r;if(n==null&&(n="options"),t==null&&(t=!0),r=document.querySelector("[data-pace-"+n+"]"),r){if(i=r.getAttribute("data-pace-"+n),!t)return i;try{return JSON.parse(i)}catch(f){return u=f,typeof console!="undefined"&&console!==null?console.error("Error parsing inline pace options",u):void 0}}},pt=function(){function n(){}return n.prototype.on=function(n,t,i,r){var u;return r==null&&(r=!1),this.bindings==null&&(this.bindings={}),(u=this.bindings)[n]==null&&(u[n]=[]),this.bindings[n].push({handler:t,ctx:i,once:r})},n.prototype.once=function(n,t,i){return this.on(n,t,i,!0)},n.prototype.off=function(n,t){var i,u,r;if(((u=this.bindings)!=null?u[n]:void 0)!=null){if(t==null)return delete this.bindings[n];for(i=0,r=[];i<this.bindings[n].length;)this.bindings[n][i].handler===t?r.push(this.bindings[n].splice(i,1)):r.push(i++);return r}},n.prototype.trigger=function(){var f,u,n,e,t,o,s,i,r;if(n=arguments[0],f=2<=arguments.length?l.call(arguments,1):[],(s=this.bindings)!=null?s[n]:void 0){for(t=0,r=[];t<this.bindings[n].length;)i=this.bindings[n][t],e=i.handler,u=i.ctx,o=i.once,e.apply(u!=null?u:this,f),o?r.push(this.bindings[n].splice(t,1)):r.push(t++);return r}},n}(),n=window.Pace||{},window.Pace=n,s(n,pt.prototype),t=n.options=s({},it,window.paceOptions,ti()),ht=["ajax","document","eventLag","elements"],d=0,ui=ht.length;d<ui;d++)i=ht[d],t[i]===!0&&(t[i]=it[i]);a=function(n){function t(){return ei=t.__super__.constructor.apply(this,arguments)}return hi(t,n),t}(Error);ct=function(){function n(){this.progress=0}return n.prototype.getElement=function(){var n;if(this.el==null){if(n=document.querySelector(t.target),!n)throw new a;this.el=document.createElement("div");this.el.className="pace pace-active";document.body.className=document.body.className.replace(/pace-done/g,"");document.body.className+=" pace-running";this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"><\/div>\n<\/div>\n<div class="pace-activity"><\/div>';n.firstChild!=null?n.insertBefore(this.el,n.firstChild):n.appendChild(this.el)}return this.el},n.prototype.finish=function(){var n;return n=this.getElement(),n.className=n.className.replace("pace-active",""),n.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},n.prototype.update=function(n){return this.progress=n,this.render()},n.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(n){a=n}return this.el=void 0},n.prototype.render=function(){var n,u,f,e,i,o,r;if(document.querySelector(t.target)==null)return!1;for(n=this.getElement(),e="translate3d("+this.progress+"%, 0, 0)",r=["webkitTransform","msTransform","transform"],i=0,o=r.length;i<o;i++)u=r[i],n.children[0].style[u]=e;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(n.children[0].setAttribute("data-progress-text",""+(this.progress|0)+"%"),f=this.progress>=100?"99":(this.progress<10?"0":"")+(this.progress|0),n.children[0].setAttribute("data-progress",""+f)),this.lastRenderedProgress=this.progress},n.prototype.done=function(){return this.progress>=100},n}();wt=function(){function n(){this.bindings={}}return n.prototype.trigger=function(n,t){var f,i,e,r,u;if(this.bindings[n]!=null){for(r=this.bindings[n],u=[],i=0,e=r.length;i<e;i++)f=r[i],u.push(f.call(this,t));return u}},n.prototype.on=function(n,t){var i;return(i=this.bindings)[n]==null&&(i[n]=[]),this.bindings[n].push(t)},n}();st=window.XMLHttpRequest;k=window.XDomainRequest;c=window.WebSocket;p=function(n,t){var u,i,r=[];for(i in t.prototype)try{n[i]==null&&typeof t[i]!="function"?typeof Object.defineProperty=="function"?r.push(Object.defineProperty(n,i,{get:function(){return t.prototype[i]},configurable:!0,enumerable:!0})):r.push(n[i]=t.prototype[i]):r.push(void 0)}catch(f){u=f}return r};f=[];n.ignore=function(){var n,t,i;return t=arguments[0],n=2<=arguments.length?l.call(arguments,1):[],f.unshift("ignore"),i=t.apply(null,n),f.shift(),i};n.track=function(){var n,t,i;return t=arguments[0],n=2<=arguments.length?l.call(arguments,1):[],f.unshift("track"),i=t.apply(null,n),f.shift(),i};b=function(n){var i;return(n==null&&(n="GET"),f[0]==="track")?"force":!f.length&&t.ajax&&(n==="socket"&&t.ajax.trackWebSockets||(i=n.toUpperCase(),ci.call(t.ajax.trackMethods,i)>=0))?!0:!1};bt=function(n){function i(){var n,r=this;i.__super__.constructor.apply(this,arguments);n=function(n){var t;return t=n.open,n.open=function(i,u){return b(i)&&r.trigger("request",{type:i,url:u,request:n}),t.apply(n,arguments)}};window.XMLHttpRequest=function(t){var i;return i=new st(t),n(i),i};try{p(window.XMLHttpRequest,st)}catch(u){}if(k!=null){window.XDomainRequest=function(){var t;return t=new k,n(t),t};try{p(window.XDomainRequest,k)}catch(u){}}if(c!=null&&t.ajax.trackWebSockets){window.WebSocket=function(n,t){var i;return i=t!=null?new c(n,t):new c(n),b("socket")&&r.trigger("request",{type:"socket",url:n,protocols:t,request:i}),i};try{p(window.WebSocket,c)}catch(u){}}}return hi(i,n),i}(wt);g=null;rt=function(){return g==null&&(g=new bt),g};et=function(n){var i,r,f,u;for(u=t.ajax.ignoreURLs,r=0,f=u.length;r<f;r++)if(i=u[r],typeof i=="string"){if(n.indexOf(i)!==-1)return!0}else if(i.test(n))return!0;return!1};rt().on("request",function(r){var u,o,f,e,s;if(e=r.type,f=r.request,s=r.url,!et(s))return!n.running&&(t.restartOnRequestAfter!==!1||b(e)==="force")?(o=arguments,u=t.restartOnRequestAfter||0,typeof u=="boolean"&&(u=0),setTimeout(function(){var s,t,h,c,r,u;if(s=e==="socket"?f.readyState<2:0<(c=f.readyState)&&c<4,s){for(n.restart(),r=n.sources,u=[],t=0,h=r.length;t<h;t++)if(i=r[t],i instanceof nt){i.watch.apply(i,o);break}else u.push(void 0);return u}},u)):void 0});nt=function(){function n(){var n=this;this.elements=[];rt().on("request",function(){return n.watch.apply(n,arguments)})}return n.prototype.watch=function(n){var t,i,r,u;if(r=n.type,t=n.request,u=n.url,!et(u))return i=r==="socket"?new dt(t):new gt(t),this.elements.push(i)},n}();gt=function(){function n(n){var f,o,i,e,r,u,t=this;if(this.progress=0,window.ProgressEvent!=null)for(o=null,n.addEventListener("progress",function(n){return t.progress=n.lengthComputable?100*n.loaded/n.total:t.progress+(100-t.progress)/2},!1),u=["load","abort","timeout","error"],i=0,e=u.length;i<e;i++)f=u[i],n.addEventListener(f,function(){return t.progress=100},!1);else r=n.onreadystatechange,n.onreadystatechange=function(){var i;return(i=n.readyState)===0||i===4?t.progress=100:n.readyState===3&&(t.progress=50),typeof r=="function"?r.apply(null,arguments):void 0}}return n}();dt=function(){function n(n){var r,t,u,i,f=this;for(this.progress=0,i=["error","open"],t=0,u=i.length;t<u;t++)r=i[t],n.addEventListener(r,function(){return f.progress=100},!1)}return n}();at=function(){function n(n){var r,t,u,i;for(n==null&&(n={}),this.elements=[],n.selectors==null&&(n.selectors=[]),i=n.selectors,t=0,u=i.length;t<u;t++)r=i[t],this.elements.push(new vt(r))}return n}();vt=function(){function n(n){this.selector=n;this.progress=0;this.check()}return n.prototype.check=function(){var n=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return n.check()},t.elements.checkInterval)},n.prototype.done=function(){return this.progress=100},n}();lt=function(){function n(){var n,i,t=this;this.progress=(i=this.states[document.readyState])!=null?i:100;n=document.onreadystatechange;document.onreadystatechange=function(){return t.states[document.readyState]!=null&&(t.progress=t.states[document.readyState]),typeof n=="function"?n.apply(null,arguments):void 0}}return n.prototype.states={loading:0,interactive:50,complete:100},n}();yt=function(){function n(){var i,f,r,e,n,o=this;this.progress=0;i=0;n=[];e=0;r=u();f=setInterval(function(){var s;return s=u()-r-50,r=u(),n.push(s),n.length>t.eventLag.sampleCount&&n.shift(),i=ni(n),++e>=t.eventLag.minSamples&&i<t.eventLag.lagThreshold?(o.progress=100,clearInterval(f)):o.progress=300/(i+3)},50)}return n}();tt=function(){function n(n){this.source=n;this.last=this.sinceLastUpdate=0;this.rate=t.initialRate;this.catchup=0;this.progress=this.lastProgress=0;this.source!=null&&(this.progress=ft(this.source,"progress"))}return n.prototype.tick=function(n,i){var r;return i==null&&(i=ft(this.source,"progress")),i>=100&&(this.done=!0),i===this.last?this.sinceLastUpdate+=n:(this.sinceLastUpdate&&(this.rate=(i-this.last)/this.sinceLastUpdate),this.catchup=(i-this.progress)/t.catchupTime,this.sinceLastUpdate=0,this.last=i),i>this.progress&&(this.progress+=this.catchup*n),r=1-Math.pow(this.progress/100,t.easeFactor),this.progress+=r*this.rate*n,this.progress=Math.min(this.lastProgress+t.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},n}();e=null;h=null;r=null;ot=null;o=null;v=null;n.running=!1;ut=function(){if(t.restartOnPushState)return n.restart()};window.history.pushState!=null&&(fi=window.history.pushState,window.history.pushState=function(){return ut(),fi.apply(window.history,arguments)});window.history.replaceState!=null&&(oi=window.history.replaceState,window.history.replaceState=function(){return ut(),oi.apply(window.history,arguments)});kt={ajax:nt,elements:at,document:lt,eventLag:yt};(ii=function(){var u,f,o,l,a,s,v,c;for(n.sources=e=[],s=["ajax","elements","document","eventLag"],f=0,l=s.length;f<l;f++)u=s[f],t[u]!==!1&&e.push(new kt[u](t[u]));for(c=(v=t.extraSources)!=null?v:[],o=0,a=c.length;o<a;o++)i=c[o],e.push(new i(t));return n.bar=r=new ct,h=[],ot=new tt})();n.stop=function(){return n.trigger("stop"),n.running=!1,r.destroy(),v=!0,o!=null&&(typeof y=="function"&&y(o),o=null),ii()};n.restart=function(){return n.trigger("restart"),n.stop(),n.start()};n.go=function(){var f;return n.running=!0,r.render(),f=u(),v=!1,o=ri(function(o,s){var nt,p,w,it,b,c,l,et,a,y,k,d,g,rt,ut,ft;for(et=100-r.progress,p=k=0,w=!0,c=d=0,rt=e.length;d<rt;c=++d)for(i=e[c],y=h[c]!=null?h[c]:h[c]=[],b=(ft=i.elements)!=null?ft:[i],l=g=0,ut=b.length;g<ut;l=++g)(it=b[l],a=y[l]!=null?y[l]:y[l]=new tt(it),w&=a.done,a.done)||(p++,k+=a.tick(o));return nt=k/p,r.update(ot.tick(o,nt)),r.done()||w||v?(r.update(100),n.trigger("done"),setTimeout(function(){return r.finish(),n.running=!1,n.trigger("hide")},Math.max(t.ghostTime,Math.max(t.minTime-(u()-f),0)))):s()})};n.start=function(i){s(t,i);n.running=!0;try{r.render()}catch(u){a=u}return document.querySelector(".pace")?(n.trigger("start"),n.go()):setTimeout(n.start,50)};typeof define=="function"&&define.amd?define(["pace"],function(){return n}):typeof exports=="object"?module.exports=n:t.startOnPageLoad&&n.start()}.call(this);
/*! offline-js 0.7.19 */
(function(){var n,i,f,r,u,t,e;r=function(n,t){var i,r,u;r=[];for(i in t.prototype)try{u=t.prototype[i];null==n[i]&&"function"!=typeof u?r.push(n[i]=u):r.push(void 0)}catch(f){f}return r};n={};n.options=window.Offline?window.Offline.options||{}:{};f={checks:{xhr:{url:function(){return"https://hypercube.si/assets/favicon/favicon.ico?_="+(new Date).getTime()},timeout:5e3,type:"HEAD"},image:{url:function(){return"https://hypercube.si/assets/favicon/favicon.ico?_="+(new Date).getTime()}},active:"xhr"},checkOnLoad:!1,interceptRequests:!0,reconnect:!0,deDupBody:!1};u=function(n,t){var i,r,f,e,o,u;for(i=n,u=t.split("."),r=f=0,e=u.length;f<e&&(o=u[r],"object"==typeof(i=i[o]));r=++f);if(r===u.length-1)return i};n.getOption=function(t){var r,i;return i=null!=(r=u(n.options,t))?r:u(f,t),"function"==typeof i?i():i};"function"==typeof addEventListener&&window.addEventListener("online",function(){return setTimeout(n.confirmUp,100)},!1);"function"==typeof addEventListener&&window.addEventListener("offline",function(){return n.confirmDown()},!1);n.state="up";n.markUp=function(){if(n.trigger("confirmed-up"),"up"!==n.state)return n.state="up",n.trigger("up")};n.markDown=function(){if(n.trigger("confirmed-down"),"down"!==n.state)return n.state="down",n.trigger("down")};t={};n.on=function(i,r,u){var s,f,e,h,o;if(f=i.split(" "),f.length>1){for(o=[],e=0,h=f.length;e<h;e++)s=f[e],o.push(n.on(s,r,u));return o}return null==t[i]&&(t[i]=[]),t[i].push([u,r])};n.off=function(n,i){var e,r,f,u;if(null!=t[n]){if(i){for(r=0,u=[];r<t[n].length;)f=t[n][r],f[0],e=f[1],e===i?u.push(t[n].splice(r,1)):u.push(r++);return u}return t[n]=[]}};n.trigger=function(n){var e,o,i,s,r,u,f;if(null!=t[n]){for(r=t[n].slice(0),f=[],i=0,s=r.length;i<s;i++)u=r[i],e=u[0],o=u[1],f.push(o.call(e));return f}};i=function(n,t,i){var r,u,f,e,o;return o=function(){return n.status&&n.status<12e3?t():i()},null===n.onprogress?(r=n.onerror,n.onerror=function(){return i(),"function"==typeof r?r.apply(null,arguments):void 0},e=n.ontimeout,n.ontimeout=function(){return i(),"function"==typeof e?e.apply(null,arguments):void 0},u=n.onload,n.onload=function(){return o(),"function"==typeof u?u.apply(null,arguments):void 0}):(f=n.onreadystatechange,n.onreadystatechange=function(){return 4===n.readyState?o():0===n.readyState&&i(),"function"==typeof f?f.apply(null,arguments):void 0})};n.checks={};n.checks.xhr=function(){var t;t=new XMLHttpRequest;t.offline=!1;t.open(n.getOption("checks.xhr.type"),n.getOption("checks.xhr.url"),!0);null!=t.timeout&&(t.timeout=n.getOption("checks.xhr.timeout"));i(t,n.markUp,n.markDown);try{t.send()}catch(r){r;n.markDown()}return t};n.checks.image=function(){var t;t=document.createElement("img");t.onerror=n.markDown;t.onload=n.markUp;t.src=n.getOption("checks.image.url")};n.checks.down=n.markDown;n.checks.up=n.markUp;n.check=function(){return n.trigger("checking"),n.checks[n.getOption("checks.active")]()};n.confirmUp=n.confirmDown=n.check;n.onXHR=function(n){var t,i,u;if(u=function(t,i){var r;return r=t.open,t.open=function(u,f,e,o,s){return n({type:u,url:f,async:e,flags:i,user:o,password:s,xhr:t}),r.apply(t,arguments)}},i=window.XMLHttpRequest,window.XMLHttpRequest=function(n){var r,f,t;return t=new i(n),u(t,n),f=t.setRequestHeader,t.headers={},t.setRequestHeader=function(n,i){return t.headers[n]=i,f.call(t,n,i)},r=t.overrideMimeType,t.overrideMimeType=function(n){return t.mimeType=n,r.call(t,n)},t},r(window.XMLHttpRequest,i),null!=window.XDomainRequest)return t=window.XDomainRequest,window.XDomainRequest=function(){var n;return n=new t,u(n),n},r(window.XDomainRequest,t)};e=function(){if(n.getOption("interceptRequests")&&n.onXHR(function(t){var r;if(r=t.xhr,!1!==r.offline)return i(r,n.markUp,n.confirmDown)}),n.getOption("checkOnLoad"))return n.check()};setTimeout(e,0);window.Offline=n}).call(this),function(){var u,f,e,n,t,i,o,r,s;if(!window.Offline)throw new Error("Offline Reconnect brought in without offline.js");n=Offline.reconnect={};i=null;t=function(){var t;return null!=n.state&&"inactive"!==n.state&&Offline.trigger("reconnect:stopped"),n.state="inactive",n.remaining=n.delay=null!=(t=Offline.getOption("reconnect.initialDelay"))?t:3};f=function(){var t,i;return t=null!=(i=Offline.getOption("reconnect.delay"))?i:Math.min(Math.ceil(1.5*n.delay),3600),n.remaining=n.delay=t};o=function(){if("connecting"!==n.state)return n.remaining-=1,Offline.trigger("reconnect:tick"),0===n.remaining?r():void 0};r=function(){if("waiting"===n.state)return Offline.trigger("reconnect:connecting"),n.state="connecting",Offline.check()};u=function(){if(Offline.getOption("reconnect"))return t(),n.state="waiting",Offline.trigger("reconnect:started"),i=setInterval(o,1e3)};s=function(){return null!=i&&clearInterval(i),t()};e=function(){if(Offline.getOption("reconnect"))return"connecting"===n.state?(Offline.trigger("reconnect:failure"),n.state="waiting",f()):void 0};n.tryNow=r;t();Offline.on("down",u);Offline.on("confirmed-down",e);Offline.on("up",s)}.call(this),function(){var i,r,n,u,f,t;if(!window.Offline)throw new Error("Requests module brought in without offline.js");n=[];t=!1;u=function(i){if(!1!==Offline.getOption("requests"))return Offline.trigger("requests:capture"),"down"!==Offline.state&&(t=!0),n.push(i)};f=function(n){var u,i,f,r,e,o,s,h,t;if(t=n.xhr,o=n.url,e=n.type,s=n.user,f=n.password,u=n.body,!1!==Offline.getOption("requests")){t.abort();t.open(e,o,!0,s,f);r=t.headers;for(i in r)h=r[i],t.setRequestHeader(i,h);return t.mimeType&&t.overrideMimeType(t.mimeType),t.send(u)}};i=function(){return n=[]};r=function(){var r,e,s,h,t,u,o;if(!1!==Offline.getOption("requests")){for(Offline.trigger("requests:flush"),u={},e=0,h=n.length;e<h;e++)t=n[e],o=t.url.replace(/(\?|&)_=[0-9]+/,function(n,t){return"?"===t?t:""}),Offline.getOption("deDupBody")?(r=t.body,r="[object Object]"===r.toString()?JSON.stringify(r):r.toString(),u[t.type.toUpperCase()+" - "+o+" - "+r]=t):u[t.type.toUpperCase()+" - "+o]=t;for(s in u)t=u[s],f(t);return i()}};setTimeout(function(){if(!1!==Offline.getOption("requests"))return Offline.on("confirmed-up",function(){if(t)return t=!1,i()}),Offline.on("up",r),Offline.on("down",function(){return t=!1}),Offline.onXHR(function(n){var r,f,e,i,t;if(t=n.xhr,e=n.async,!1!==t.offline&&(i=function(){return u(n)},f=t.send,t.send=function(i){return n.body=i,f.apply(t,arguments)},e))return null===t.onprogress?(t.addEventListener("error",i,!1),t.addEventListener("timeout",i,!1)):(r=t.onreadystatechange,t.onreadystatechange=function(){return 0===t.readyState?i():4===t.readyState&&(0===t.status||t.status>=12e3)&&i(),"function"==typeof r?r.apply(null,arguments):void 0})}),Offline.requests={flush:r,clear:i}},0)}.call(this),function(){var u,n,f,i,r,t;if(!Offline)throw new Error("Offline simulate brought in without offline.js");for(i=["up","down"],n=0,f=i.length;n<f;n++){t=i[n];try{r=document.querySelector("script[data-simulate='"+t+"']")||("undefined"!=typeof localStorage&&null!==localStorage?localStorage.OFFLINE_SIMULATE:void 0)===t}catch(e){e;r=!1}}r&&(null==Offline.options&&(Offline.options={}),null==(u=Offline.options).checks&&(u.checks={}),Offline.options.checks.active=t)}.call(this),function(){var h,c,o,r,u,s,n,t,f,e,i,l,a;if(!window.Offline)throw new Error("Offline UI brought in without offline.js");c='<div class="offline-ui"><div class="offline-ui-content"><\/div><\/div>';h='<a href class="offline-ui-retry"><\/a>';s=function(n){var t;return t=document.createElement("div"),t.innerHTML=n,t.children[0]};n=u=null;r=function(t){return i(t),n.className+=" "+t};i=function(t){return n.className=n.className.replace(new RegExp("(^| )"+t.split(" ").join("|")+"( |$)","gi")," ")};f={};t=function(n,t){return r(n),null!=f[n]&&clearTimeout(f[n]),f[n]=setTimeout(function(){return i(n),delete f[n]},1e3*t)};a=function(n){var t,i,r,u;r={day:86400,hour:3600,minute:60,second:1};for(i in r)if(t=r[i],n>=t)return u=Math.floor(n/t),[u,i];return["now",""]};l=function(){var t,i;return n=s(c),document.body.appendChild(n),null!=Offline.reconnect&&Offline.getOption("reconnect")&&(n.appendChild(s(h)),t=n.querySelector(".offline-ui-retry"),i=function(n){return n.preventDefault(),Offline.reconnect.tryNow()},null!=t.addEventListener?t.addEventListener("click",i,!1):t.attachEvent("click",i)),r("offline-ui-"+Offline.state),u=n.querySelector(".offline-ui-content")};e=function(){return l(),Offline.on("up",function(){return i("offline-ui-down"),r("offline-ui-up"),t("offline-ui-up-2s",2),t("offline-ui-up-5s",5)}),Offline.on("down",function(){return i("offline-ui-up"),r("offline-ui-down"),t("offline-ui-down-2s",2),t("offline-ui-down-5s",5)}),Offline.on("reconnect:connecting",function(){return r("offline-ui-connecting"),i("offline-ui-waiting")}),Offline.on("reconnect:tick",function(){var n,t,f;return r("offline-ui-waiting"),i("offline-ui-connecting"),n=a(Offline.reconnect.remaining),t=n[0],f=n[1],u.setAttribute("data-retry-in-value",t),u.setAttribute("data-retry-in-unit",f)}),Offline.on("reconnect:stopped",function(){return i("offline-ui-connecting offline-ui-waiting"),u.setAttribute("data-retry-in-value",null),u.setAttribute("data-retry-in-unit",null)}),Offline.on("reconnect:failure",function(){return t("offline-ui-reconnect-failed-2s",2),t("offline-ui-reconnect-failed-5s",5)}),Offline.on("reconnect:success",function(){return t("offline-ui-reconnect-succeeded-2s",2),t("offline-ui-reconnect-succeeded-5s",5)})};"complete"===document.readyState?e():null!=document.addEventListener?document.addEventListener("DOMContentLoaded",e,!1):(o=document.onreadystatechange,document.onreadystatechange=function(){return"complete"===document.readyState&&e(),"function"==typeof o?o.apply(null,arguments):void 0})}.call(this);
/*!--------------------------------------------------------------------
JAVASCRIPT "Outdated Browser"
Version:    1.1.2 - 2015
author:     Burocratik
website:    http://www.burocratik.com
* @preserve
-----------------------------------------------------------------------*/
outdatedBrowser=function(n){function h(n){t.style.opacity=n/100;t.style.filter="alpha(opacity="+n+")"}function c(n){h(n);n==1&&(t.style.display="block");n==100&&(u=!0)}function o(){var i=document.getElementById("btnCloseUpdateBrowser"),n=document.getElementById("btnUpdateBrowser");t.style.backgroundColor=bkgColor;t.style.color=txtColor;t.children[0].style.color=txtColor;t.children[1].style.color=txtColor;n.style.color=txtColor;n.style.borderColor&&(n.style.borderColor=txtColor);i.style.color=txtColor;i.onmousedown=function(){return t.style.display="none",!1};n.onmouseover=function(){this.style.color=bkgColor;this.style.backgroundColor=txtColor};n.onmouseout=function(){this.style.color=txtColor;this.style.backgroundColor=bkgColor}}function l(){var n=!1;if(window.XMLHttpRequest)n=new XMLHttpRequest;else if(window.ActiveXObject)try{n=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{n=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){n=!1}}return n}function a(n){var t=l();return t&&(t.onreadystatechange=function(){v(t)},t.open("GET",n,!0),t.send(null)),!1}function v(n){var t=document.getElementById("outdated");return n.readyState==4&&(t.innerHTML=n.status==200||n.status==304?n.responseText:s,o()),!1}var t=document.getElementById("outdated"),u,e,i,f,r,s;if(this.defaultOpts={bgColor:"#000000",color:"#ffffff",lowerThan:"transform",languagePath:"../outdatedbrowser/lang/en.html"},n?(n.lowerThan=="IE8"||n.lowerThan=="borderSpacing"?n.lowerThan="borderSpacing":n.lowerThan=="IE9"||n.lowerThan=="boxShadow"?n.lowerThan="boxShadow":n.lowerThan=="IE10"||n.lowerThan=="transform"||n.lowerThan==""||typeof n.lowerThan=="undefined"?n.lowerThan="transform":n.lowerThan=="IE11"||n.lowerThan=="borderImage"?n.lowerThan="borderImage":(n.lowerThan=="Edge"||n.lowerThan=="js:Promise")&&(n.lowerThan="js:Promise"),this.defaultOpts.bgColor=n.bgColor,this.defaultOpts.color=n.color,this.defaultOpts.lowerThan=n.lowerThan,this.defaultOpts.languagePath=n.languagePath,bkgColor=this.defaultOpts.bgColor,txtColor=this.defaultOpts.color,cssProp=this.defaultOpts.lowerThan,languagePath=this.defaultOpts.languagePath):(bkgColor=this.defaultOpts.bgColor,txtColor=this.defaultOpts.color,cssProp=this.defaultOpts.lowerThan,languagePath=this.defaultOpts.languagePath),u=!0,e=function(){var n=document.createElement("div"),t="Khtml Ms O Moz Webkit".split(" "),i=t.length;return function(r){if(r in n.style)return!0;for(r=r.replace(/^[a-z]/,function(n){return n.toUpperCase()});i--;)if(t[i]+r in n.style)return!0;return!1}}(),i=!1,/^js:+/g.test(cssProp)){if(f=cssProp.split(":")[1],!f)return;switch(f){case"Promise":i=window.Promise!==undefined&&window.Promise!==null&&Object.prototype.toString.call(window.Promise.resolve())==="[object Promise]";break;default:i=!1}}else i=e(""+cssProp+"");if(!i){if(u&&t.style.opacity!=="1")for(u=!1,r=1;r<=100;r++)setTimeout(function(n){return function(){c(n)}}(r),r*8);languagePath===" "||languagePath.length==0?o():a(languagePath);s='<h6>Your browser is out-of-date!<\/h6><p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update my browser now <\/a><\/p><p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;<\/a><\/p>'}};
/*!
 * jQuery blockUI plugin
 * Version 2.70.0-2014.11.23
 * Requires jQuery v1.7 or later
 *
 * Examples at: http://malsup.com/jquery/block/
 * Copyright (c) 2007-2013 M. Alsup
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 * Thanks to Amir-Hossein Sobhi for some excellent contributions!
 */
(function(){"use strict";function n(n){function s(s,h){var rt,ut,p=s===window,l=h&&h.message!==undefined?h.message:undefined,g,k,d,tt,nt,w,b,it,ft,et,at;if(h=n.extend({},n.blockUI.defaults,h||{}),!h.ignoreIfBlocked||!n(s).data("blockUI.isBlocked")){if(h.overlayCSS=n.extend({},n.blockUI.defaults.overlayCSS,h.overlayCSS||{}),rt=n.extend({},n.blockUI.defaults.css,h.css||{}),h.onOverlayClick&&(h.overlayCSS.cursor="pointer"),ut=n.extend({},n.blockUI.defaults.themedCSS,h.themedCSS||{}),l=l===undefined?h.message:l,p&&t&&e(window,{fadeOut:0}),l&&typeof l!="string"&&(l.parentNode||l.jquery)&&(g=l.jquery?l[0]:l,k={},n(s).data("blockUI.history",k),k.el=g,k.parent=g.parentNode,k.display=g.style.display,k.position=g.style.position,k.parent&&k.parent.removeChild(g)),n(s).data("blockUI.onUnblock",h.onUnblock),d=h.baseZ,tt=f||h.forceIframe?n('<iframe class="blockUI" style="z-index:'+d+++';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+h.iframeSrc+'"><\/iframe>'):n('<div class="blockUI" style="display:none"><\/div>'),nt=h.theme?n('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+d+++';display:none"><\/div>'):n('<div class="blockUI blockOverlay" style="z-index:'+d+++';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"><\/div>'),h.theme&&p?(b='<div class="blockUI '+h.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(d+10)+';display:none;position:fixed">',h.title&&(b+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(h.title||"&nbsp;")+"<\/div>"),b+='<div class="ui-widget-content ui-dialog-content"><\/div>',b+="<\/div>"):h.theme?(b='<div class="blockUI '+h.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(d+10)+';display:none;position:absolute">',h.title&&(b+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(h.title||"&nbsp;")+"<\/div>"),b+='<div class="ui-widget-content ui-dialog-content"><\/div>',b+="<\/div>"):b=p?'<div class="blockUI '+h.blockMsgClass+' blockPage" style="z-index:'+(d+10)+';display:none;position:fixed"><\/div>':'<div class="blockUI '+h.blockMsgClass+' blockElement" style="z-index:'+(d+10)+';display:none;position:absolute"><\/div>',w=n(b),l&&(h.theme?(w.css(ut),w.addClass("ui-widget-content")):w.css(rt)),h.theme||nt.css(h.overlayCSS),nt.css("position",p?"fixed":"absolute"),(f||h.forceIframe)&&tt.css("opacity",0),it=[tt,nt,w],ft=p?n("body"):n(s),n.each(it,function(){this.appendTo(ft)}),h.theme&&h.draggable&&n.fn.draggable&&w.draggable({handle:".ui-dialog-titlebar",cancel:"li"}),et=v&&(!n.support.boxModel||n("object,embed",p?null:s).length>0),o||et){if(p&&h.allowBodyStretch&&n.support.boxModel&&n("html,body").css("height","100%"),(o||!n.support.boxModel)&&!p)var ot=r(s,"borderTopWidth"),st=r(s,"borderLeftWidth"),ht=ot?"(0 - "+ot+")":0,ct=st?"(0 - "+st+")":0;n.each(it,function(n,t){var i=t[0].style,r,u;i.position="absolute";n<2?(p?i.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+h.quirksmodeOffsetHack+') + "px"'):i.setExpression("height",'this.parentNode.offsetHeight + "px"'),p?i.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):i.setExpression("width",'this.parentNode.offsetWidth + "px"'),ct&&i.setExpression("left",ct),ht&&i.setExpression("top",ht)):h.centerY?(p&&i.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),i.marginTop=0):!h.centerY&&p&&(r=h.css&&h.css.top?parseInt(h.css.top,10):0,u="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+r+') + "px"',i.setExpression("top",u))})}if(l&&(h.theme?w.find(".ui-widget-content").append(l):w.append(l),(l.jquery||l.nodeType)&&n(l).show()),(f||h.forceIframe)&&h.showOverlay&&tt.show(),h.fadeIn){var lt=h.onBlock?h.onBlock:u,vt=h.showOverlay&&!l?lt:u,yt=l?lt:u;h.showOverlay&&nt._fadeIn(h.fadeIn,vt);l&&w._fadeIn(h.fadeIn,yt)}else h.showOverlay&&nt.show(),l&&w.show(),h.onBlock&&h.onBlock.bind(w)();c(1,s,h);p?(t=w[0],i=n(h.focusableElements,t),h.focusInput&&setTimeout(a,20)):y(w[0],h.centerX,h.centerY);h.timeout&&(at=setTimeout(function(){p?n.unblockUI(h):n(s).unblock(h)},h.timeout),n(s).data("blockUI.timeout",at))}}function e(r,u){var o,s=r===window,e=n(r),l=e.data("blockUI.history"),a=e.data("blockUI.timeout"),f;a&&(clearTimeout(a),e.removeData("blockUI.timeout"));u=n.extend({},n.blockUI.defaults,u||{});c(0,r,u);u.onUnblock===null&&(u.onUnblock=e.data("blockUI.onUnblock"),e.removeData("blockUI.onUnblock"));f=s?n("body").children().filter(".blockUI").add("body > .blockUI"):e.find(">.blockUI");u.cursorReset&&(f.length>1&&(f[1].style.cursor=u.cursorReset),f.length>2&&(f[2].style.cursor=u.cursorReset));s&&(t=i=null);u.fadeOut?(o=f.length,f.stop().fadeOut(u.fadeOut,function(){--o==0&&h(f,l,u,r)})):h(f,l,u,r)}function h(t,i,r,u){var f=n(u);if(!f.data("blockUI.isBlocked")){if(t.each(function(){this.parentNode&&this.parentNode.removeChild(this)}),i&&i.el&&(i.el.style.display=i.display,i.el.style.position=i.position,i.el.style.cursor="default",i.parent&&i.parent.appendChild(i.el),f.removeData("blockUI.history")),f.data("blockUI.static")&&f.css("position","static"),typeof r.onUnblock=="function")r.onUnblock(u,r);var e=n(document.body),o=e.width(),s=e[0].style.width;e.width(o-1).width(o);e[0].style.width=s}}function c(i,r,u){var f=r===window,o=n(r),e;(i||(!f||t)&&(f||o.data("blockUI.isBlocked")))&&(o.data("blockUI.isBlocked",i),f&&u.bindEvents&&(!i||u.showOverlay))&&(e="mousedown mouseup keydown keypress keyup touchstart touchend touchmove",i?n(document).bind(e,u,l):n(document).unbind(e,l))}function l(r){var u,f;if(r.type==="keydown"&&r.keyCode&&r.keyCode===9&&t&&r.data.constrainTabKey){var e=i,s=!r.shiftKey&&r.target===e[e.length-1],o=r.shiftKey&&r.target===e[0];if(s||o)return setTimeout(function(){a(o)},10),!1}if(u=r.data,f=n(r.target),f.hasClass("blockOverlay")&&u.onOverlayClick)u.onOverlayClick(r);return f.parents("div."+u.blockMsgClass).length>0?!0:f.parents().children().filter("div.blockUI").length===0}function a(n){if(i){var t=i[n===!0?i.length-1:0];t&&t.focus()}}function y(n,t,i){var u=n.parentNode,f=n.style,e=(u.offsetWidth-n.offsetWidth)/2-r(u,"borderLeftWidth"),o=(u.offsetHeight-n.offsetHeight)/2-r(u,"borderTopWidth");t&&(f.left=e>0?e+"px":"0");i&&(f.top=o>0?o+"px":"0")}function r(t,i){return parseInt(n.css(t,i),10)||0}var t,i;n.fn._fadeIn=n.fn.fadeIn;var u=n.noop||function(){},f=/MSIE/.test(navigator.userAgent),o=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent),p=document.documentMode||0,v=n.isFunction(document.createElement("div").style.setExpression);n.blockUI=function(n){s(window,n)};n.unblockUI=function(n){e(window,n)};n.growlUI=function(t,i,r,u){var f=n('<div class="growlUI"><\/div>'),e,o;t&&f.append("<h1>"+t+"<\/h1>");i&&f.append("<h2>"+i+"<\/h2>");r===undefined&&(r=3e3);e=function(t){t=t||{};n.blockUI({message:f,fadeIn:typeof t.fadeIn!="undefined"?t.fadeIn:700,fadeOut:typeof t.fadeOut!="undefined"?t.fadeOut:1e3,timeout:typeof t.timeout!="undefined"?t.timeout:r,centerY:!1,showOverlay:!1,onUnblock:u,css:n.blockUI.defaults.growlCSS})};e();o=f.css("opacity");f.mouseover(function(){e({fadeIn:0,timeout:3e4});var t=n(".blockMsg");t.stop();t.fadeTo(300,1)}).mouseout(function(){n(".blockMsg").fadeOut(1e3)})};n.fn.block=function(t){if(this[0]===window)return n.blockUI(t),this;var i=n.extend({},n.blockUI.defaults,t||{});return this.each(function(){var t=n(this);i.ignoreIfBlocked&&t.data("blockUI.isBlocked")||t.unblock({fadeOut:0})}),this.each(function(){n.css(this,"position")==="static"&&(this.style.position="relative",n(this).data("blockUI.static",!0));this.style.zoom=1;s(this,t)})};n.fn.unblock=function(t){return this[0]===window?(n.unblockUI(t),this):this.each(function(){e(this,t)})};n.blockUI.version=2.7;n.blockUI.defaults={message:'<div class="row pr-5"><div class="column-md-4 ml-5"><div class="sk-cube-grid"><div class="sk-cube sk-cube1"><\/div><div class="sk-cube sk-cube2"><\/div><div class="sk-cube sk-cube3"><\/div><div class="sk-cube sk-cube4"><\/div><div class="sk-cube sk-cube5"><\/div><div class="sk-cube sk-cube6"><\/div><div class="sk-cube sk-cube7"><\/div><div class="sk-cube sk-cube8"><\/div><div class="sk-cube sk-cube9"><\/div><\/div><\/div><div class="column-md-8"><h1 class="blockUI-text ml-4">Please wait...<\/h1><\/div><\/div>',title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,top:"40%",left:"35%",opacity:1,textAlign:"center",verticalAlign:"middle",color:"#fff",borderRadius:4,border:"3px solid #fff",backgroundColor:"#8b100c",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.8,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"0",right:"10px",border:"none",padding:"5px",opacity:1,cursor:"default",color:"#fff",backgroundColor:"#8b100c","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:9999,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};t=null;i=[]}typeof define=="function"&&define.amd&&define.amd.jQuery?define(["jquery"],n):n(jQuery)})(),function(n,t){typeof define=="function"&&define.amd?define("pnotify",["jquery"],function(i){return t(i,n)}):typeof exports=="object"&&typeof module!="undefined"?module.exports=t(require("jquery"),global||n):n.PNotify=t(n.jQuery,n)}(typeof window!="undefined"?window:this,function(n,t){var i=function(t){var s={dir1:"down",dir2:"left",push:"bottom",spacing1:36,spacing2:36,context:n("body"),modal:!1},u,f,e=n(t),o=function(){f=n("body");r.prototype.options.stack.context=f;e=n(t);e.bind("resize",function(){u&&clearTimeout(u);u=setTimeout(function(){r.positionAll(!0)},10)})},h=function(t){var i=n("<div />",{"class":"ui-pnotify-modal-overlay"});return i.prependTo(t.context),t.overlay_close&&i.click(function(){r.removeStack(t)}),i},r=function(n){this.state="initializing";this.timer=null;this.animTimer=null;this.styles=null;this.elem=null;this.container=null;this.title_container=null;this.text_container=null;this.animating=!1;this.timerHide=!1;this.parseOptions(n);this.init()};return n.extend(r.prototype,{version:"3.2.0",options:{title:!1,title_escape:!1,text:!1,text_escape:!1,styling:"fontawesome",addclass:"",cornerclass:"",auto_display:!0,width:"300px",min_height:"16px",type:"notice",icon:!0,animation:"fade",animate_speed:"normal",shadow:!0,hide:!0,delay:8e3,mouse_reset:!0,remove:!0,insert_brs:!0,destroy:!0,stack:s},modules:{},runModules:function(n,t){var r;for(var i in this.modules)r=typeof t=="object"&&i in t?t[i]:t,typeof this.modules[i][n]=="function"&&(this.modules[i].notice=this,this.modules[i].options=typeof this.options[i]=="object"?this.options[i]:{},this.modules[i][n](this,typeof this.options[i]=="object"?this.options[i]:{},r))},init:function(){var t=this;return this.modules={},n.extend(!0,this.modules,r.prototype.modules),this.styles=typeof this.options.styling=="object"?this.options.styling:r.styling[this.options.styling],this.elem=n("<div />",{"class":"ui-pnotify "+this.options.addclass,css:{display:"none"},"aria-live":"assertive","aria-role":"alertdialog",mouseenter:function(){if(t.options.mouse_reset&&t.animating==="out"){if(!t.timerHide)return;t.cancelRemove()}t.options.hide&&t.options.mouse_reset&&t.cancelRemove()},mouseleave:function(){t.options.hide&&t.options.mouse_reset&&t.animating!=="out"&&t.queueRemove();r.positionAll()}}),this.options.animation==="fade"&&this.elem.addClass("ui-pnotify-fade-"+this.options.animate_speed),this.container=n("<div />",{"class":this.styles.container+" ui-pnotify-container "+(this.options.type==="error"?this.styles.error:this.options.type==="info"?this.styles.info:this.options.type==="success"?this.styles.success:this.styles.notice),role:"alert"}).appendTo(this.elem),this.options.cornerclass!==""&&this.container.removeClass("ui-corner-all").addClass(this.options.cornerclass),this.options.shadow&&this.container.addClass("ui-pnotify-shadow"),this.options.icon!==!1&&n("<div />",{"class":"ui-pnotify-icon"}).append(n("<span />",{"class":this.options.icon===!0?this.options.type==="error"?this.styles.error_icon:this.options.type==="info"?this.styles.info_icon:this.options.type==="success"?this.styles.success_icon:this.styles.notice_icon:this.options.icon})).prependTo(this.container),this.title_container=n("<h4 />",{"class":"ui-pnotify-title"}).appendTo(this.container),this.options.title===!1?this.title_container.hide():this.options.title_escape?this.title_container.text(this.options.title):this.title_container.html(this.options.title),this.text_container=n("<div />",{"class":"ui-pnotify-text","aria-role":"alert"}).appendTo(this.container),this.options.text===!1?this.text_container.hide():this.options.text_escape?this.text_container.text(this.options.text):this.text_container.html(this.options.insert_brs?String(this.options.text).replace(/\n/g,"<br />"):this.options.text),typeof this.options.width=="string"&&this.elem.css("width",this.options.width),typeof this.options.min_height=="string"&&this.container.css("min-height",this.options.min_height),r.notices=this.options.stack.push==="top"?n.merge([this],r.notices):n.merge(r.notices,[this]),this.options.stack.push==="top"&&this.queuePosition(!1,1),this.options.stack.animation=!1,this.runModules("init"),this.state="closed",this.options.auto_display&&this.open(),this},update:function(t){var i=this.options;return this.parseOptions(i,t),this.elem.removeClass("ui-pnotify-fade-slow ui-pnotify-fade-normal ui-pnotify-fade-fast"),this.options.animation==="fade"&&this.elem.addClass("ui-pnotify-fade-"+this.options.animate_speed),this.options.cornerclass!==i.cornerclass&&this.container.removeClass("ui-corner-all "+i.cornerclass).addClass(this.options.cornerclass),this.options.shadow!==i.shadow&&(this.options.shadow?this.container.addClass("ui-pnotify-shadow"):this.container.removeClass("ui-pnotify-shadow")),this.options.addclass===!1?this.elem.removeClass(i.addclass):this.options.addclass!==i.addclass&&this.elem.removeClass(i.addclass).addClass(this.options.addclass),this.options.title===!1?this.title_container.slideUp("fast"):this.options.title!==i.title&&(this.options.title_escape?this.title_container.text(this.options.title):this.title_container.html(this.options.title),i.title===!1&&this.title_container.slideDown(200)),this.options.text===!1?this.text_container.slideUp("fast"):this.options.text!==i.text&&(this.options.text_escape?this.text_container.text(this.options.text):this.text_container.html(this.options.insert_brs?String(this.options.text).replace(/\n/g,"<br />"):this.options.text),i.text===!1&&this.text_container.slideDown(200)),this.options.type!==i.type&&this.container.removeClass(this.styles.error+" "+this.styles.notice+" "+this.styles.success+" "+this.styles.info).addClass(this.options.type==="error"?this.styles.error:this.options.type==="info"?this.styles.info:this.options.type==="success"?this.styles.success:this.styles.notice),(this.options.icon!==i.icon||this.options.icon===!0&&this.options.type!==i.type)&&(this.container.find("div.ui-pnotify-icon").remove(),this.options.icon!==!1&&n("<div />",{"class":"ui-pnotify-icon"}).append(n("<span />",{"class":this.options.icon===!0?this.options.type==="error"?this.styles.error_icon:this.options.type==="info"?this.styles.info_icon:this.options.type==="success"?this.styles.success_icon:this.styles.notice_icon:this.options.icon})).prependTo(this.container)),this.options.width!==i.width&&this.elem.animate({width:this.options.width}),this.options.min_height!==i.min_height&&this.container.animate({minHeight:this.options.min_height}),this.options.hide?i.hide||this.queueRemove():this.cancelRemove(),this.queuePosition(!0),this.runModules("update",i),this},open:function(){this.state="opening";this.runModules("beforeOpen");var n=this;return this.elem.parent().length||this.elem.appendTo(this.options.stack.context?this.options.stack.context:f),this.options.stack.push!=="top"&&this.position(!0),this.animateIn(function(){n.queuePosition(!0);n.options.hide&&n.queueRemove();n.state="open";n.runModules("afterOpen")}),this},remove:function(i){this.state="closing";this.timerHide=!!i;this.runModules("beforeClose");var u=this;return this.timer&&(t.clearTimeout(this.timer),this.timer=null),this.animateOut(function(){if(u.state="closed",u.runModules("afterClose"),u.queuePosition(!0),u.options.remove&&u.elem.detach(),u.runModules("beforeDestroy"),u.options.destroy&&r.notices!==null){var t=n.inArray(u,r.notices);t!==-1&&r.notices.splice(t,1)}u.runModules("afterDestroy")}),this},get:function(){return this.elem},parseOptions:function(t,i){var o,u,e,f;for(this.options=n.extend(!0,{},r.prototype.options),this.options.stack=r.prototype.options.stack,o=[t,i],e=0;e<o.length;e++){if(u=o[e],typeof u=="undefined")break;if(typeof u!="object")this.options.text=u;else for(f in u)this.modules[f]?n.extend(!0,this.options[f],u[f]):this.options[f]=u[f]}},animateIn:function(n){this.animating="in";var t=this,i=function(){(t.animTimer&&clearTimeout(t.animTimer),t.animating==="in")&&(t.elem.is(":visible")?(n&&n.call(),t.animating=!1):t.animTimer=setTimeout(i,40))};this.options.animation==="fade"?(this.elem.one("webkitTransitionEnd mozTransitionEnd MSTransitionEnd oTransitionEnd transitionend",i).addClass("ui-pnotify-in"),this.elem.css("opacity"),this.elem.addClass("ui-pnotify-fade-in"),this.animTimer=setTimeout(i,650)):(this.elem.addClass("ui-pnotify-in"),i())},animateOut:function(t){this.animating="out";var i=this,u=function(){if(i.animTimer&&clearTimeout(i.animTimer),i.animating==="out")if(i.elem.css("opacity")!="0"&&i.elem.is(":visible"))i.animTimer=setTimeout(u,40);else{if(i.elem.removeClass("ui-pnotify-in"),i.options.stack.overlay){var f=!1;n.each(r.notices,function(n,t){t!=i&&t.options.stack===i.options.stack&&t.state!="closed"&&(f=!0)});f||i.options.stack.overlay.hide()}t&&t.call();i.animating=!1}};this.options.animation==="fade"?(this.elem.one("webkitTransitionEnd mozTransitionEnd MSTransitionEnd oTransitionEnd transitionend",u).removeClass("ui-pnotify-fade-in"),this.animTimer=setTimeout(u,650)):(this.elem.removeClass("ui-pnotify-in"),u())},position:function(n){var t=this.options.stack,i=this.elem,o,s,c,r,u;if(typeof t.context=="undefined"&&(t.context=f),t){if(typeof t.nextpos1!="number"&&(t.nextpos1=t.firstpos1),typeof t.nextpos2!="number"&&(t.nextpos2=t.firstpos2),typeof t.addpos2!="number"&&(t.addpos2=0),o=!i.hasClass("ui-pnotify-in"),!o||n){t.modal&&(t.overlay?t.overlay.show():t.overlay=h(t));i.addClass("ui-pnotify-move");switch(t.dir1){case"down":r="top";break;case"up":r="bottom";break;case"left":r="right";break;case"right":r="left"}s=parseInt(i.css(r).replace(/(?:\..*|[^0-9.])/g,""));isNaN(s)&&(s=0);typeof t.firstpos1!="undefined"||o||(t.firstpos1=s,t.nextpos1=t.firstpos1);switch(t.dir2){case"down":u="top";break;case"up":u="bottom";break;case"left":u="right";break;case"right":u="left"}c=parseInt(i.css(u).replace(/(?:\..*|[^0-9.])/g,""));isNaN(c)&&(c=0);typeof t.firstpos2!="undefined"||o||(t.firstpos2=c,t.nextpos2=t.firstpos2);(t.dir1==="down"&&t.nextpos1+i.height()>(t.context.is(f)?e.height():t.context.prop("scrollHeight"))||t.dir1==="up"&&t.nextpos1+i.height()>(t.context.is(f)?e.height():t.context.prop("scrollHeight"))||t.dir1==="left"&&t.nextpos1+i.width()>(t.context.is(f)?e.width():t.context.prop("scrollWidth"))||t.dir1==="right"&&t.nextpos1+i.width()>(t.context.is(f)?e.width():t.context.prop("scrollWidth")))&&(t.nextpos1=t.firstpos1,t.nextpos2+=t.addpos2+(typeof t.spacing2=="undefined"?25:t.spacing2),t.addpos2=0);typeof t.nextpos2=="number"&&(t.animation?i.css(u,t.nextpos2+"px"):(i.removeClass("ui-pnotify-move"),i.css(u,t.nextpos2+"px"),i.css(u),i.addClass("ui-pnotify-move")));switch(t.dir2){case"down":case"up":i.outerHeight(!0)>t.addpos2&&(t.addpos2=i.height());break;case"left":case"right":i.outerWidth(!0)>t.addpos2&&(t.addpos2=i.width())}typeof t.nextpos1=="number"&&(t.animation?i.css(r,t.nextpos1+"px"):(i.removeClass("ui-pnotify-move"),i.css(r,t.nextpos1+"px"),i.css(r),i.addClass("ui-pnotify-move")));switch(t.dir1){case"down":case"up":t.nextpos1+=i.height()+(typeof t.spacing1=="undefined"?25:t.spacing1);break;case"left":case"right":t.nextpos1+=i.width()+(typeof t.spacing1=="undefined"?25:t.spacing1)}}return this}},queuePosition:function(n,t){return u&&clearTimeout(u),t||(t=10),u=setTimeout(function(){r.positionAll(n)},t),this},cancelRemove:function(){return this.timer&&t.clearTimeout(this.timer),this.animTimer&&t.clearTimeout(this.animTimer),this.state==="closing"&&(this.state="open",this.animating=!1,this.elem.addClass("ui-pnotify-in"),this.options.animation==="fade"&&this.elem.addClass("ui-pnotify-fade-in")),this},queueRemove:function(){var n=this;return this.cancelRemove(),this.timer=t.setTimeout(function(){n.remove(!0)},isNaN(this.options.delay)?0:this.options.delay),this}}),n.extend(r,{notices:[],reload:i,removeAll:function(){n.each(r.notices,function(n,t){t.remove&&t.remove(!1)})},removeStack:function(t){n.each(r.notices,function(n,i){i.remove&&i.options.stack===t&&i.remove(!1)})},positionAll:function(t){if(u&&clearTimeout(u),u=null,r.notices&&r.notices.length)n.each(r.notices,function(n,i){var r=i.options.stack;r&&(r.overlay&&r.overlay.hide(),r.nextpos1=r.firstpos1,r.nextpos2=r.firstpos2,r.addpos2=0,r.animation=t)}),n.each(r.notices,function(n,t){t.position()});else{var i=r.prototype.options.stack;i&&(delete i.nextpos1,delete i.nextpos2)}},styling:{brighttheme:{container:"brighttheme",notice:"brighttheme-notice",notice_icon:"brighttheme-icon-notice",info:"brighttheme-info",info_icon:"brighttheme-icon-info",success:"brighttheme-success",success_icon:"brighttheme-icon-success",error:"brighttheme-error",error_icon:"brighttheme-icon-error"},bootstrap3:{container:"alert",notice:"alert-primary",notice_icon:"glyphicon glyphicon-exclamation-sign",info:"alert-info",info_icon:"glyphicon glyphicon-info-sign",success:"alert-success",success_icon:"glyphicon glyphicon-ok-sign",error:"alert-danger",error_icon:"glyphicon glyphicon-warning-sign"}}}),r.styling.fontawesome=n.extend({},r.styling.bootstrap3),n.extend(r.styling.fontawesome,{notice_icon:"fa fa-exclamation-circle",info_icon:"fa fa-info",success_icon:"fa fa-check",error_icon:"fa fa-warning"}),t.document.body?o():n(o),r};return i(t)}),function(n,t){typeof define=="function"&&define.amd?define("pnotify.animate",["jquery","pnotify"],t):typeof exports=="object"&&typeof module!="undefined"?module.exports=t(require("jquery"),require("./pnotify")):t(n.jQuery,n.PNotify)}(typeof window!="undefined"?window:this,function(n,t){return t.prototype.options.animate={animate:!1,in_class:"",out_class:""},t.prototype.modules.animate={init:function(n,t){this.setUpAnimations(n,t);n.attention=function(t,i){n.elem.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){n.elem.removeClass(t);i&&i.call(n)}).addClass("animated "+t)}},update:function(n,t,i){t.animate!=i.animate&&this.setUpAnimations(n,t)},setUpAnimations:function(n,t){if(t.animate){n.options.animation="none";n.elem.removeClass("ui-pnotify-fade-slow ui-pnotify-fade-normal ui-pnotify-fade-fast");n._animateIn||(n._animateIn=n.animateIn);n._animateOut||(n._animateOut=n.animateOut);n.animateIn=this.animateIn.bind(this);n.animateOut=this.animateOut.bind(this);var i=400;n.options.animate_speed==="slow"?i=600:n.options.animate_speed==="fast"?i=200:n.options.animate_speed>0&&(i=n.options.animate_speed);i=i/1e3;n.elem.addClass("animated").css({"-webkit-animation-duration":i+"s","-moz-animation-duration":i+"s","animation-duration":i+"s"})}else n._animateIn&&n._animateOut&&(n.animateIn=n._animateIn,delete n._animateIn,n.animateOut=n._animateOut,delete n._animateOut,n.elem.addClass("animated"))},animateIn:function(n){this.notice.animating="in";var t=this;n=function(){t.notice.elem.removeClass(t.options.in_class);this&&this.call();t.notice.animating=!1}.bind(n);this.notice.elem.show().one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",n).removeClass(this.options.out_class).addClass("ui-pnotify-in").addClass(this.options.in_class)},animateOut:function(n){this.notice.animating="out";var t=this;n=function(){t.notice.elem.removeClass("ui-pnotify-in "+t.options.out_class);this&&this.call();t.notice.animating=!1}.bind(n);this.notice.elem.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",n).removeClass(this.options.in_class).addClass(this.options.out_class)}},t}),function(n,t){typeof define=="function"&&define.amd?define("pnotify.buttons",["jquery","pnotify"],t):typeof exports=="object"&&typeof module!="undefined"?module.exports=t(require("jquery"),require("./pnotify")):t(n.jQuery,n.PNotify)}(typeof window!="undefined"?window:this,function(n,t){return t.prototype.options.buttons={closer:!0,closer_hover:!0,sticker:!0,sticker_hover:!0,show_on_nonblock:!1,labels:{close:"Close",stick:"Stick",unstick:"Unstick"},classes:{closer:null,pin_up:null,pin_down:null}},t.prototype.modules.buttons={init:function(t,i){var r=this;t.elem.on({mouseenter:function(){!r.options.sticker||t.options.nonblock&&t.options.nonblock.nonblock&&!r.options.show_on_nonblock||r.sticker.trigger("pnotify:buttons:toggleStick").css("visibility","visible");!r.options.closer||t.options.nonblock&&t.options.nonblock.nonblock&&!r.options.show_on_nonblock||r.closer.css("visibility","visible")},mouseleave:function(){r.options.sticker_hover&&r.sticker.css("visibility","hidden");r.options.closer_hover&&r.closer.css("visibility","hidden")}});this.sticker=n("<div />",{"class":"ui-pnotify-sticker","aria-role":"button","aria-pressed":t.options.hide?"false":"true",tabindex:"0",title:t.options.hide?i.labels.stick:i.labels.unstick,css:{cursor:"pointer",visibility:i.sticker_hover?"hidden":"visible"},click:function(){t.options.hide=!t.options.hide;t.options.hide?t.queueRemove():t.cancelRemove();n(this).trigger("pnotify:buttons:toggleStick")}}).bind("pnotify:buttons:toggleStick",function(){var i=r.options.classes.pin_up===null?t.styles.pin_up:r.options.classes.pin_up,u=r.options.classes.pin_down===null?t.styles.pin_down:r.options.classes.pin_down;n(this).attr("title",t.options.hide?r.options.labels.stick:r.options.labels.unstick).children().attr("class","").addClass(t.options.hide?i:u).attr("aria-pressed",t.options.hide?"false":"true")}).append("<span />").trigger("pnotify:buttons:toggleStick").prependTo(t.container);(!i.sticker||t.options.nonblock&&t.options.nonblock.nonblock&&!i.show_on_nonblock)&&this.sticker.css("display","none");this.closer=n("<div />",{"class":"ui-pnotify-closer","aria-role":"button",tabindex:"0",title:i.labels.close,css:{cursor:"pointer",visibility:i.closer_hover?"hidden":"visible"},click:function(){t.remove(!1);r.sticker.css("visibility","hidden");r.closer.css("visibility","hidden")}}).append(n("<span />",{"class":i.classes.closer===null?t.styles.closer:i.classes.closer})).prependTo(t.container);(!i.closer||t.options.nonblock&&t.options.nonblock.nonblock&&!i.show_on_nonblock)&&this.closer.css("display","none")},update:function(n,t){!t.closer||n.options.nonblock&&n.options.nonblock.nonblock&&!t.show_on_nonblock?this.closer.css("display","none"):t.closer&&this.closer.css("display","block");!t.sticker||n.options.nonblock&&n.options.nonblock.nonblock&&!t.show_on_nonblock?this.sticker.css("display","none"):t.sticker&&this.sticker.css("display","block");this.sticker.trigger("pnotify:buttons:toggleStick");this.closer.find("span").attr("class","").addClass(t.classes.closer===null?n.styles.closer:t.classes.closer);t.sticker_hover?this.sticker.css("visibility","hidden"):n.options.nonblock&&n.options.nonblock.nonblock&&!t.show_on_nonblock||this.sticker.css("visibility","visible");t.closer_hover?this.closer.css("visibility","hidden"):n.options.nonblock&&n.options.nonblock.nonblock&&!t.show_on_nonblock||this.closer.css("visibility","visible")}},n.extend(t.styling.brighttheme,{closer:"brighttheme-icon-closer",pin_up:"brighttheme-icon-sticker",pin_down:"brighttheme-icon-sticker brighttheme-icon-stuck"}),n.extend(t.styling.bootstrap3,{closer:"glyphicon glyphicon-remove",pin_up:"glyphicon glyphicon-pause",pin_down:"glyphicon glyphicon-play"}),n.extend(t.styling.fontawesome,{closer:"fa fa-times ml-2",pin_up:"fa fa-pause ml-2",pin_down:"fa fa-play ml-2"}),t}),function(n,t){typeof define=="function"&&define.amd?define("pnotify.callbacks",["jquery","pnotify"],t):typeof exports=="object"&&typeof module!="undefined"?module.exports=t(require("jquery"),require("./pnotify")):t(n.jQuery,n.PNotify)}(typeof window!="undefined"?window:this,function(n,t){var i=t.prototype.init,r=t.prototype.open,u=t.prototype.remove;return t.prototype.init=function(){this.options.before_init&&this.options.before_init(this.options);i.apply(this,arguments);this.options.after_init&&this.options.after_init(this)},t.prototype.open=function(){var n;this.options.before_open&&(n=this.options.before_open(this));n!==!1&&(r.apply(this,arguments),this.options.after_open&&this.options.after_open(this))},t.prototype.remove=function(n){var t;this.options.before_close&&(t=this.options.before_close(this,n));t!==!1&&(u.apply(this,arguments),this.options.after_close&&this.options.after_close(this,n))},t}),function(n,t){typeof define=="function"&&define.amd?define("pnotify.confirm",["jquery","pnotify"],t):typeof exports=="object"&&typeof module!="undefined"?module.exports=t(require("jquery"),require("./pnotify")):t(n.jQuery,n.PNotify)}(typeof window!="undefined"?window:this,function(n,t){return t.prototype.options.confirm={confirm:!1,prompt:!1,prompt_class:"",prompt_default:"",prompt_multi_line:!1,align:"right",buttons:[{text:"Ok",addClass:"",promptTrigger:!0,click:function(n,t){n.remove();n.get().trigger("pnotify.confirm",[n,t])}},{text:"Cancel",addClass:"",click:function(n){n.remove();n.get().trigger("pnotify.cancel",n)}}]},t.prototype.modules.confirm={init:function(t,i){this.container=n('<div class="ui-pnotify-action-bar" style="margin-top:5px;clear:both;" />').css("text-align",i.align).appendTo(t.container);i.confirm||i.prompt?this.makeDialog(t,i):this.container.hide()},update:function(n,t){t.confirm?(this.makeDialog(n,t),this.container.show()):this.container.hide().empty()},afterOpen:function(n,t){t.prompt&&this.prompt.focus()},makeDialog:function(i,r){var o=!1,h=this,e,u,s,f;for(this.container.empty(),r.prompt&&(this.prompt=n("<"+(r.prompt_multi_line?'textarea rows="5"':'input type="text"')+' style="margin-bottom:5px;clear:both;" />').addClass((typeof i.styles.input=="undefined"?"":i.styles.input)+" "+(typeof r.prompt_class=="undefined"?"":r.prompt_class)).val(r.prompt_default).appendTo(this.container)),s=r.buttons[0]&&r.buttons[0]!==t.prototype.options.confirm.buttons[0],f=0;f<r.buttons.length;f++)if(r.buttons[f]!==null&&(!s||!t.prototype.options.confirm.buttons[f]||t.prototype.options.confirm.buttons[f]!==r.buttons[f])){if(e=r.buttons[f],o?this.container.append(" "):o=!0,u=n('<button type="button" class="ui-pnotify-action-button" />').addClass((typeof i.styles.btn=="undefined"?"":i.styles.btn)+" "+(typeof e.addClass=="undefined"?"":e.addClass)).text(e.text).appendTo(this.container).on("click",function(n){return function(){typeof n.click=="function"&&n.click(i,r.prompt?h.prompt.val():null)}}(e)),r.prompt&&!r.prompt_multi_line&&e.promptTrigger&&this.prompt.keypress(function(n){return function(t){t.keyCode==13&&n.click()}}(u)),i.styles.text&&u.wrapInner('<span class="'+i.styles.text+'"><\/span>'),i.styles.btnhover&&u.hover(function(n){return function(){n.addClass(i.styles.btnhover)}}(u),function(n){return function(){n.removeClass(i.styles.btnhover)}}(u)),i.styles.btnactive)u.on("mousedown",function(n){return function(){n.addClass(i.styles.btnactive)}}(u)).on("mouseup",function(n){return function(){n.removeClass(i.styles.btnactive)}}(u));if(i.styles.btnfocus)u.on("focus",function(n){return function(){n.addClass(i.styles.btnfocus)}}(u)).on("blur",function(n){return function(){n.removeClass(i.styles.btnfocus)}}(u))}}},n.extend(t.styling.bootstrap3,{btn:"btn btn-secondary",input:"form-control"}),n.extend(t.styling.fontawesome,{btn:"btn btn-secondary",input:"form-control"}),t}),function(n,t){typeof define=="function"&&define.amd?define("pnotify.desktop",["jquery","pnotify"],t):typeof exports=="object"&&typeof module!="undefined"?module.exports=t(require("jquery"),require("./pnotify")):t(n.jQuery,n.PNotify)}(typeof window!="undefined"?window:this,function(n,t){var i,r=function(n,t){return r="Notification"in window?function(n,t){return new Notification(n,t)}:"mozNotification"in navigator?function(n,t){return navigator.mozNotification.createNotification(n,t.body,t.icon).show()}:"webkitNotifications"in window?function(n,t){return window.webkitNotifications.createNotification(t.icon,n,t.body)}:function(){return null},r(n,t)};return t.prototype.options.desktop={desktop:!1,fallback:!0,icon:null,tag:null,title:null,text:null},t.prototype.modules.desktop={genNotice:function(n,t){this.icon=t.icon===null?"http://sciactive.com/pnotify/includes/desktop/"+n.options.type+".png":t.icon===!1?null:t.icon;(this.tag===null||t.tag!==null)&&(this.tag=t.tag===null?"PNotify-"+Math.round(Math.random()*1e6):t.tag);n.desktop=r(t.title||n.options.title,{icon:this.icon,body:t.text||n.options.text,tag:this.tag});!("close"in n.desktop)&&"cancel"in n.desktop&&(n.desktop.close=function(){n.desktop.cancel()});n.desktop.onclick=function(){n.elem.trigger("click")};n.desktop.onclose=function(){n.state!=="closing"&&n.state!=="closed"&&n.remove()}},init:function(n,r){if(r.desktop){if(i=t.desktop.checkPermission(),i!==0){r.fallback||(n.options.auto_display=!1);return}this.genNotice(n,r)}},update:function(n,t){(i===0||!t.fallback)&&t.desktop&&this.genNotice(n,t)},beforeOpen:function(n,t){(i===0||!t.fallback)&&t.desktop&&n.elem.css({left:"-10000px"}).removeClass("ui-pnotify-in")},afterOpen:function(n,t){(i===0||!t.fallback)&&t.desktop&&(n.elem.css({left:"-10000px"}).removeClass("ui-pnotify-in"),"show"in n.desktop&&n.desktop.show())},beforeClose:function(n,t){(i===0||!t.fallback)&&t.desktop&&n.elem.css({left:"-10000px"}).removeClass("ui-pnotify-in")},afterClose:function(n,t){(i===0||!t.fallback)&&t.desktop&&(n.elem.css({left:"-10000px"}).removeClass("ui-pnotify-in"),"close"in n.desktop&&n.desktop.close())}},t.desktop={permission:function(){typeof Notification!="undefined"&&"requestPermission"in Notification?Notification.requestPermission():"webkitNotifications"in window&&window.webkitNotifications.requestPermission()},checkPermission:function(){return typeof Notification!="undefined"&&"permission"in Notification?Notification.permission==="granted"?0:1:"webkitNotifications"in window?window.webkitNotifications.checkPermission()==0?0:1:1}},i=t.desktop.checkPermission(),t}),function(n,t){typeof define=="function"&&define.amd?define("pnotify.history",["jquery","pnotify"],t):typeof exports=="object"&&typeof module!="undefined"?module.exports=t(require("jquery"),require("./pnotify")):t(n.jQuery,n.PNotify)}(typeof window!="undefined"?window:this,function(n,t){var i,r;return n(function(){n("body").on("pnotify.history-all",function(){n.each(t.notices,function(){this.modules.history.inHistory&&(this.elem.is(":visible")?this.options.hide&&this.queueRemove():this.open&&this.open())})}).on("pnotify.history-last",function(){var r=t.prototype.options.stack.push==="top",n=r?0:-1,i;do{if(i=n===-1?t.notices.slice(n):t.notices.slice(n,n+1),!i[0])return!1;n=r?n+1:n-1}while(!i[0].modules.history.inHistory||i[0].elem.is(":visible"));i[0].open&&i[0].open()})}),t.prototype.options.history={history:!0,menu:!1,fixed:!0,maxonscreen:Infinity,labels:{redisplay:"Redisplay",all:"All",last:"Last"}},t.prototype.modules.history={init:function(t,u){if(t.options.destroy=!1,this.inHistory=u.history,u.menu&&typeof i=="undefined"){i=n("<div />",{"class":"ui-pnotify-history-container "+t.styles.hi_menu,mouseleave:function(){i.css("top","-"+r+"px")}}).append(n("<div />",{"class":"ui-pnotify-history-header",text:u.labels.redisplay})).append(n("<button />",{"class":"ui-pnotify-history-all "+t.styles.hi_btn,text:u.labels.all,mouseenter:function(){n(this).addClass(t.styles.hi_btnhov)},mouseleave:function(){n(this).removeClass(t.styles.hi_btnhov)},click:function(){return n(this).trigger("pnotify.history-all"),!1}})).append(n("<button />",{"class":"ui-pnotify-history-last "+t.styles.hi_btn,text:u.labels.last,mouseenter:function(){n(this).addClass(t.styles.hi_btnhov)},mouseleave:function(){n(this).removeClass(t.styles.hi_btnhov)},click:function(){return n(this).trigger("pnotify.history-last"),!1}})).appendTo("body");var f=n("<span />",{"class":"ui-pnotify-history-pulldown "+t.styles.hi_hnd,mouseenter:function(){i.css("top","0")}}).appendTo(i);r=f.offset().top+2;i.css("top","-"+r+"px");u.fixed&&i.addClass("ui-pnotify-history-fixed")}},update:function(n,t){this.inHistory=t.history;t.fixed&&i?i.addClass("ui-pnotify-history-fixed"):i&&i.removeClass("ui-pnotify-history-fixed")},beforeOpen:function(i,r){if(t.notices&&t.notices.length>r.maxonscreen){var u;u=i.options.stack.push!=="top"?t.notices.slice(0,t.notices.length-r.maxonscreen):t.notices.slice(r.maxonscreen,t.notices.length);n.each(u,function(){this.remove&&this.remove()})}}},n.extend(t.styling.brighttheme,{hi_menu:"ui-pnotify-history-brighttheme",hi_btn:"",hi_btnhov:"",hi_hnd:""}),n.extend(t.styling.bootstrap3,{hi_menu:"well",hi_btn:"btn btn-secondary",hi_btnhov:"",hi_hnd:"glyphicon glyphicon-chevron-down"}),n.extend(t.styling.fontawesome,{hi_menu:"well",hi_btn:"btn btn-secondary",hi_btnhov:"",hi_hnd:"fa fa-chevron-down"}),t}),function(n,t){typeof define=="function"&&define.amd?define("pnotify.mobile",["jquery","pnotify"],t):typeof exports=="object"&&typeof module!="undefined"?module.exports=t(require("jquery"),require("./pnotify")):t(n.jQuery,n.PNotify)}(typeof window!="undefined"?window:this,function(n,t){return t.prototype.options.mobile={swipe_dismiss:!0,styling:!0},t.prototype.modules.mobile={init:function(n,t){var f=this,i=null,r=null,u=null;this.swipe_dismiss=t.swipe_dismiss;this.doMobileStyling(n,t);n.elem.on({touchstart:function(t){f.swipe_dismiss&&(i=t.originalEvent.touches[0].screenX,u=n.elem.width(),n.container.css("left","0"))},touchmove:function(t){var e,o;i&&f.swipe_dismiss&&(e=t.originalEvent.touches[0].screenX,r=e-i,o=(1-Math.abs(r)/u)*n.options.opacity,n.elem.css("opacity",o),n.container.css("left",r))},touchend:function(){if(i&&f.swipe_dismiss){if(Math.abs(r)>40){var t=r<0?u*-2:u*2;n.elem.animate({opacity:0},100);n.container.animate({left:t},100);n.remove()}else n.elem.animate({opacity:n.options.opacity},100),n.container.animate({left:0},100);i=null;r=null;u=null}},touchcancel:function(){i&&f.swipe_dismiss&&(n.elem.animate({opacity:n.options.opacity},100),n.container.animate({left:0},100),i=null,r=null,u=null)}})},update:function(n,t){this.swipe_dismiss=t.swipe_dismiss;this.doMobileStyling(n,t)},doMobileStyling:function(t,i){i.styling?(t.elem.addClass("ui-pnotify-mobile-able"),n(window).width()<=480?(t.options.stack.mobileOrigSpacing1||(t.options.stack.mobileOrigSpacing1=t.options.stack.spacing1,t.options.stack.mobileOrigSpacing2=t.options.stack.spacing2),t.options.stack.spacing1=0,t.options.stack.spacing2=0):(t.options.stack.mobileOrigSpacing1||t.options.stack.mobileOrigSpacing2)&&(t.options.stack.spacing1=t.options.stack.mobileOrigSpacing1,delete t.options.stack.mobileOrigSpacing1,t.options.stack.spacing2=t.options.stack.mobileOrigSpacing2,delete t.options.stack.mobileOrigSpacing2)):(t.elem.removeClass("ui-pnotify-mobile-able"),t.options.stack.mobileOrigSpacing1&&(t.options.stack.spacing1=t.options.stack.mobileOrigSpacing1,delete t.options.stack.mobileOrigSpacing1),t.options.stack.mobileOrigSpacing2&&(t.options.stack.spacing2=t.options.stack.mobileOrigSpacing2,delete t.options.stack.mobileOrigSpacing2))}},t}),function(n,t){typeof define=="function"&&define.amd?define("pnotify.nonblock",["jquery","pnotify"],t):typeof exports=="object"&&typeof module!="undefined"?module.exports=t(require("jquery"),require("./pnotify")):t(n.jQuery,n.PNotify)}(typeof window!="undefined"?window:this,function(n,t){var f=/^on/,e=/^(dbl)?click$|^mouse(move|down|up|over|out|enter|leave)$|^contextmenu$/,o=/^(focus|blur|select|change|reset)$|^key(press|down|up)$/,s=/^(scroll|resize|(un)?load|abort|error)$/,r=function(t,i){var r;if(t=t.toLowerCase(),document.createEvent&&this.dispatchEvent){if(t=t.replace(f,""),t.match(e)?(n(this).offset(),r=document.createEvent("MouseEvents"),r.initMouseEvent(t,i.bubbles,i.cancelable,i.view,i.detail,i.screenX,i.screenY,i.clientX,i.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.button,i.relatedTarget)):t.match(o)?(r=document.createEvent("UIEvents"),r.initUIEvent(t,i.bubbles,i.cancelable,i.view,i.detail)):t.match(s)&&(r=document.createEvent("HTMLEvents"),r.initEvent(t,i.bubbles,i.cancelable)),!r)return;this.dispatchEvent(r)}else t.match(f)||(t="on"+t),r=document.createEventObject(i),this.fireEvent(t,r)},i,u=function(t,u,f){var e,s,o;t.elem.addClass("ui-pnotify-nonblock-hide");e=document.elementFromPoint(u.clientX,u.clientY);t.elem.removeClass("ui-pnotify-nonblock-hide");s=n(e);o=s.css("cursor");o==="auto"&&e.tagName==="A"&&(o="pointer");t.elem.css("cursor",o!=="auto"?o:"default");i&&i.get(0)==e||(i&&(r.call(i.get(0),"mouseleave",u.originalEvent),r.call(i.get(0),"mouseout",u.originalEvent)),r.call(e,"mouseenter",u.originalEvent),r.call(e,"mouseover",u.originalEvent));r.call(e,f,u.originalEvent);i=s};return t.prototype.options.nonblock={nonblock:!1},t.prototype.modules.nonblock={init:function(n){var t=this;n.elem.on({mouseenter:function(i){t.options.nonblock&&i.stopPropagation();t.options.nonblock&&n.elem.addClass("ui-pnotify-nonblock-fade")},mouseleave:function(r){t.options.nonblock&&r.stopPropagation();i=null;n.elem.css("cursor","auto");t.options.nonblock&&n.animating!=="out"&&n.elem.removeClass("ui-pnotify-nonblock-fade")},mouseover:function(n){t.options.nonblock&&n.stopPropagation()},mouseout:function(n){t.options.nonblock&&n.stopPropagation()},mousemove:function(i){t.options.nonblock&&(i.stopPropagation(),u(n,i,"onmousemove"))},mousedown:function(i){t.options.nonblock&&(i.stopPropagation(),i.preventDefault(),u(n,i,"onmousedown"))},mouseup:function(i){t.options.nonblock&&(i.stopPropagation(),i.preventDefault(),u(n,i,"onmouseup"))},click:function(i){t.options.nonblock&&(i.stopPropagation(),u(n,i,"onclick"))},dblclick:function(i){t.options.nonblock&&(i.stopPropagation(),u(n,i,"ondblclick"))}})}},t});
/*!
 * jQuery Mousewheel 3.1.12
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
(function(n){typeof define=="function"&&define.amd?define(["jquery"],n):typeof exports=="object"?module.exports=n:n(jQuery)})(function(n){function e(r){var f=r||window.event,w=h.call(arguments,1),l=0,o=0,e=0,a=0,b=0,k=0,v,y,p;if(r=n.event.fix(f),r.type="mousewheel","detail"in f&&(e=f.detail*-1),"wheelDelta"in f&&(e=f.wheelDelta),"wheelDeltaY"in f&&(e=f.wheelDeltaY),"wheelDeltaX"in f&&(o=f.wheelDeltaX*-1),"axis"in f&&f.axis===f.HORIZONTAL_AXIS&&(o=e*-1,e=0),l=e===0?o:e,"deltaY"in f&&(e=f.deltaY*-1,l=e),"deltaX"in f&&(o=f.deltaX,e===0&&(l=o*-1)),e!==0||o!==0)return f.deltaMode===1?(v=n.data(this,"mousewheel-line-height"),l*=v,e*=v,o*=v):f.deltaMode===2&&(y=n.data(this,"mousewheel-page-height"),l*=y,e*=y,o*=y),a=Math.max(Math.abs(e),Math.abs(o)),(!t||a<t)&&(t=a,s(f,a)&&(t/=40)),s(f,a)&&(l/=40,o/=40,e/=40),l=Math[l>=1?"floor":"ceil"](l/t),o=Math[o>=1?"floor":"ceil"](o/t),e=Math[e>=1?"floor":"ceil"](e/t),i.settings.normalizeOffset&&this.getBoundingClientRect&&(p=this.getBoundingClientRect(),b=r.clientX-p.left,k=r.clientY-p.top),r.deltaX=o,r.deltaY=e,r.deltaFactor=t,r.offsetX=b,r.offsetY=k,r.deltaMode=0,w.unshift(r,l,o,e),u&&clearTimeout(u),u=setTimeout(c,200),(n.event.dispatch||n.event.handle).apply(this,w)}function c(){t=null}function s(n,t){return i.settings.adjustOldDeltas&&n.type==="mousewheel"&&t%120==0}var o=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],h=Array.prototype.slice,u,t,f,i;if(n.event.fixHooks)for(f=o.length;f;)n.event.fixHooks[o[--f]]=n.event.mouseHooks;i=n.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=r.length;t;)this.addEventListener(r[--t],e,!1);else this.onmousewheel=e;n.data(this,"mousewheel-line-height",i.getLineHeight(this));n.data(this,"mousewheel-page-height",i.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=r.length;t;)this.removeEventListener(r[--t],e,!1);else this.onmousewheel=null;n.removeData(this,"mousewheel-line-height");n.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var r=n(t),i=r["offsetParent"in n.fn?"offsetParent":"parent"]();return i.length||(i=n("body")),parseInt(i.css("fontSize"),10)||parseInt(r.css("fontSize"),10)||16},getPageHeight:function(t){return n(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};n.fn.extend({mousewheel:function(n){return n?this.bind("mousewheel",n):this.trigger("mousewheel")},unmousewheel:function(n){return this.unbind("mousewheel",n)}})});
/*! Copyright (c) 2011 Piotr Rochala (http://rocha.la)
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 *
 * Version: 1.3.1
 *
 */
(function(n){jQuery.fn.extend({slimScroll:function(i){var r=n.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",animate:!1,railBorderRadius:"7px"},i);return this.each(function(){function y(t){var t,i,f;l&&(t=t||window.event,i=0,t.wheelDelta&&(i=-t.wheelDelta/120),t.detail&&(i=t.detail/3),f=t.target||t.srcTarget||t.srcElement,n(f).closest("."+r.wrapperClass).is(u.parent())&&h(i,!0),t.preventDefault&&!o&&t.preventDefault(),o||(t.returnValue=!1))}function h(n,t,i){var s,l,h;o=!1;s=n;l=u.outerHeight()-f.outerHeight();t&&(s=parseInt(f.css("top"))+n*parseInt(r.wheelStep)/100*f.outerHeight(),s=Math.min(Math.max(s,0),l),s=n>0?Math.ceil(s):Math.floor(s),f.css({top:s+"px"}));e=parseInt(f.css("top"))/(u.outerHeight()-f.outerHeight());s=e*(u[0].scrollHeight-u.outerHeight());i&&(s=n,h=s/u[0].scrollHeight*u.outerHeight(),h=Math.min(Math.max(h,0),l),f.css({top:h+"px"}));r.animate?u.animate({scrollTop:s}):u.scrollTop(s);u.trigger("slimscrolling",e);nt();c()}function et(){window.addEventListener?(this.addEventListener("DOMMouseScroll",y,!1),this.addEventListener("mousewheel",y,!1),this.addEventListener("MozMousePixelScroll",y,!1)):document.attachEvent("onmousewheel",y)}function g(){a=Math.max(u.outerHeight()/u[0].scrollHeight*u.outerHeight(),ft);f.css({height:a+"px"});var n=a==u.outerHeight()?"none":"block";f.css({display:n})}function nt(){if(g(),clearTimeout(tt),e===~~e){if(o=r.allowPageScroll,it!==e){var n=~~e==0?"top":"bottom";u.trigger("slimscroll",n)}}else o=!1;if(it=e,a>=u.outerHeight()){o=!0;return}f.stop(!0,!0).fadeIn("fast");r.railVisible&&s.stop(!0,!0).fadeIn("fast")}function c(){r.alwaysVisible||(tt=setTimeout(function(){r.disableFadeOut&&l||p||w||(f.fadeOut("slow"),s.fadeOut("slow"))},1e3))}var l,p,w,tt,b,a,e,it,k="<div><\/div>",ft=30,o=!1,u=n(this),v,d,rt;if(u.parent().hasClass(r.wrapperClass)){if(v=u.scrollTop(),f=u.parent().find("."+r.barClass),s=u.parent().find("."+r.railClass),g(),n.isPlainObject(i)){if("height"in i&&i.height=="auto"&&(u.parent().css("height","auto"),u.css("height","auto"),d=u.parent().parent().height(),u.parent().css("height",d),u.css("height",d)),"scrollTo"in i)v=parseInt(r.scrollTo);else if("scrollBy"in i)v+=parseInt(r.scrollBy);else if("destroy"in i){f.remove();s.remove();u.unwrap();return}h(v,!1,!0)}return}r.height=r.height=="auto"?u.parent().height():r.height;rt=n(k).addClass(r.wrapperClass).css({position:"relative",overflow:"hidden",width:r.width,height:r.height});u.css({overflow:"hidden",width:r.width,height:r.height});var s=n(k).addClass(r.railClass).css({width:r.size,height:"100%",position:"absolute",top:0,display:r.alwaysVisible&&r.railVisible?"block":"none","border-radius":r.railBorderRadius,background:r.railColor,opacity:r.railOpacity,zIndex:1e4}),f=n(k).addClass(r.barClass).css({background:r.color,width:r.size,position:"absolute",top:0,opacity:r.opacity,display:r.alwaysVisible?"block":"none","border-radius":r.borderRadius,BorderRadius:r.borderRadius,MozBorderRadius:r.borderRadius,WebkitBorderRadius:r.borderRadius,zIndex:10001}),ut=r.position==="right"?{right:r.distance}:{left:r.distance};s.css(ut);f.css(ut);u.wrap(rt);u.parent().append(f);u.parent().append(s);r.railDraggable&&f.bind("mousedown",function(i){var r=n(document);return w=!0,t=parseFloat(f.css("top")),pageY=i.pageY,r.bind("mousemove.slimscroll",function(n){currTop=t+n.pageY-pageY;f.css("top",currTop);h(0,f.position().top,!1)}),r.bind("mouseup.slimscroll",function(){w=!1;c();r.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(n){return n.stopPropagation(),n.preventDefault(),!1});s.hover(function(){nt()},function(){c()});f.hover(function(){p=!0},function(){p=!1});u.hover(function(){l=!0;nt();c()},function(){l=!1;c()});u.bind("touchstart",function(n){n.originalEvent.touches.length&&(b=n.originalEvent.touches[0].pageY)});u.bind("touchmove",function(n){if(o||n.originalEvent.preventDefault(),n.originalEvent.touches.length){var t=(b-n.originalEvent.touches[0].pageY)/r.touchScrollStep;h(t,!0);b=n.originalEvent.touches[0].pageY}});g();r.start==="bottom"?(f.css({top:u.outerHeight()-f.outerHeight()}),h(0,!0)):r.start!=="top"&&(h(n(r.start).position().top,null,!0),r.alwaysVisible||f.hide());et()}),this}});jQuery.fn.extend({slimscroll:jQuery.fn.slimScroll})})(jQuery);
/*!
 * perfect-scrollbar v1.4.0
 * (c) 2018 Hyunje Jun
 * @license MIT
 */
(function(n,t){typeof exports=="object"&&typeof module!="undefined"?module.exports=t():typeof define=="function"&&define.amd?define(t):n.PerfectScrollbar=t()})(this,function(){"use strict";function r(n){return getComputedStyle(n)}function i(n,t){var r,i;for(r in t)i=t[r],typeof i=="number"&&(i=i+"px"),n.style[r]=i;return n}function a(n){var t=document.createElement("div");return t.className=n,t}function f(n,t){if(!y)throw new Error("No element matching method supported");return y.call(n,t)}function s(n){n.remove?n.remove():n.parentNode&&n.parentNode.removeChild(n)}function p(n,t){return Array.prototype.filter.call(n.children,function(n){return f(n,t)})}function b(n,i){var r=n.element.classList,u=t.state.scrolling(i);r.contains(u)?clearTimeout(w[i]):r.add(u)}function k(n,i){w[i]=setTimeout(function(){return n.isAlive&&n.element.classList.remove(t.state.scrolling(i))},n.settings.scrollingThreshold)}function rt(n,t){b(n,t);k(n,t)}function v(n){if(typeof CustomEvent=="function")return new CustomEvent(n);var t=document.createEvent("CustomEvent");return t.initCustomEvent(n,!1,!1,undefined),t}function ut(n,t,i,r,u){var s=i[0],h=i[1],o=i[2],f=i[3],c=i[4],l=i[5],e;r===void 0&&(r=!0);u===void 0&&(u=!1);e=n.element;n.reach[f]=null;e[o]<1&&(n.reach[f]="start");e[o]>n[s]-n[h]-1&&(n.reach[f]="end");t&&(e.dispatchEvent(v("ps-scroll-"+f)),t<0?e.dispatchEvent(v("ps-scroll-"+c)):t>0&&e.dispatchEvent(v("ps-scroll-"+l)),r&&rt(n,f));n.reach[f]&&(t||u)&&e.dispatchEvent(v("ps-"+f+"-reach-"+n.reach[f]))}function n(n){return parseInt(n,10)||0}function ft(n){return f(n,"input,[contenteditable]")||f(n,"select,[contenteditable]")||f(n,"textarea,[contenteditable]")||f(n,"button,[contenteditable]")}function et(t){var i=r(t);return n(i.width)+n(i.paddingLeft)+n(i.paddingRight)+n(i.borderLeftWidth)+n(i.borderRightWidth)}function g(n,t){return n.settings.minScrollbarLength&&(t=Math.max(t,n.settings.minScrollbarLength)),n.settings.maxScrollbarLength&&(t=Math.min(t,n.settings.maxScrollbarLength)),t}function ot(n,t){var r={width:t.railXWidth},f=Math.floor(n.scrollTop),u;r.left=t.isRtl?t.negativeScrollAdjustment+n.scrollLeft+t.containerWidth-t.contentWidth:n.scrollLeft;t.isScrollbarXUsingBottom?r.bottom=t.scrollbarXBottom-f:r.top=t.scrollbarXTop+f;i(t.scrollbarXRail,r);u={top:f,height:t.railYHeight};t.isScrollbarYUsingRight?u.right=t.isRtl?t.contentWidth-(t.negativeScrollAdjustment+n.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth:t.scrollbarYRight-n.scrollLeft:u.left=t.isRtl?t.negativeScrollAdjustment+n.scrollLeft+t.containerWidth*2-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:t.scrollbarYLeft+n.scrollLeft;i(t.scrollbarYRail,u);i(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth});i(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}function it(n,i){function a(t){s[f]=h+l*(t[r]-c);b(n,e);u(n);t.stopPropagation();t.preventDefault()}function g(){k(n,e);n[o].classList.remove(t.state.clicking);n.event.unbind(n.ownerDocument,"mousemove",a)}var v=i[0],y=i[1],r=i[2],p=i[3],w=i[4],d=i[5],f=i[6],e=i[7],o=i[8],s=n.element,h=null,c=null,l=null;n.event.bind(n[w],"mousedown",function(i){h=s[f];c=i[r];l=(n[y]-n[v])/(n[p]-n[d]);n.event.bind(n.ownerDocument,"mousemove",a);n.event.once(n.ownerDocument,"mouseup",g);n[o].classList.add(t.state.clicking);i.stopPropagation();i.preventDefault()})}var y=typeof Element!="undefined"&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector),t={main:"ps",element:{thumb:function(n){return"ps__thumb-"+n},rail:function(n){return"ps__rail-"+n},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(n){return"ps--active-"+n},scrolling:function(n){return"ps--scrolling-"+n}}},w={x:null,y:null},h=function(n){this.element=n;this.handlers={}},d={isEmpty:{configurable:!0}},e,c,o,u,nt,tt;h.prototype.bind=function(n,t){typeof this.handlers[n]=="undefined"&&(this.handlers[n]=[]);this.handlers[n].push(t);this.element.addEventListener(n,t,!1)};h.prototype.unbind=function(n,t){var i=this;this.handlers[n]=this.handlers[n].filter(function(r){return t&&r!==t?!0:(i.element.removeEventListener(n,r,!1),!1)})};h.prototype.unbindAll=function(){var n=this;for(var t in n.handlers)n.unbind(t)};d.isEmpty.get=function(){var n=this;return Object.keys(this.handlers).every(function(t){return n.handlers[t].length===0})};Object.defineProperties(h.prototype,d);e=function(){this.eventElements=[]};e.prototype.eventElement=function(n){var t=this.eventElements.filter(function(t){return t.element===n})[0];return t||(t=new h(n),this.eventElements.push(t)),t};e.prototype.bind=function(n,t,i){this.eventElement(n).bind(t,i)};e.prototype.unbind=function(n,t,i){var r=this.eventElement(n);r.unbind(t,i);r.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(r),1)};e.prototype.unbindAll=function(){this.eventElements.forEach(function(n){return n.unbindAll()});this.eventElements=[]};e.prototype.once=function(n,t,i){var r=this.eventElement(n),u=function(n){r.unbind(t,u);i(n)};r.bind(t,u)};c=function(n,t,i,r,u){r===void 0&&(r=!0);u===void 0&&(u=!1);var f;if(t==="top")f=["contentHeight","containerHeight","scrollTop","y","up","down"];else if(t==="left")f=["contentWidth","containerWidth","scrollLeft","x","left","right"];else throw new Error("A proper axis should be provided");ut(n,i,f,r,u)};o={isWebKit:typeof document!="undefined"&&"WebkitAppearance"in document.documentElement.style,supportsTouch:typeof window!="undefined"&&("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:typeof navigator!="undefined"&&navigator.msMaxTouchPoints,isChrome:typeof navigator!="undefined"&&/Chrome/i.test(navigator&&navigator.userAgent)};u=function(i){var r=i.element,u=Math.floor(r.scrollTop);i.containerWidth=r.clientWidth;i.containerHeight=r.clientHeight;i.contentWidth=r.scrollWidth;i.contentHeight=r.scrollHeight;r.contains(i.scrollbarXRail)||(p(r,t.element.rail("x")).forEach(function(n){return s(n)}),r.appendChild(i.scrollbarXRail));r.contains(i.scrollbarYRail)||(p(r,t.element.rail("y")).forEach(function(n){return s(n)}),r.appendChild(i.scrollbarYRail));!i.settings.suppressScrollX&&i.containerWidth+i.settings.scrollXMarginOffset<i.contentWidth?(i.scrollbarXActive=!0,i.railXWidth=i.containerWidth-i.railXMarginWidth,i.railXRatio=i.containerWidth/i.railXWidth,i.scrollbarXWidth=g(i,n(i.railXWidth*i.containerWidth/i.contentWidth)),i.scrollbarXLeft=n((i.negativeScrollAdjustment+r.scrollLeft)*(i.railXWidth-i.scrollbarXWidth)/(i.contentWidth-i.containerWidth))):i.scrollbarXActive=!1;!i.settings.suppressScrollY&&i.containerHeight+i.settings.scrollYMarginOffset<i.contentHeight?(i.scrollbarYActive=!0,i.railYHeight=i.containerHeight-i.railYMarginHeight,i.railYRatio=i.containerHeight/i.railYHeight,i.scrollbarYHeight=g(i,n(i.railYHeight*i.containerHeight/i.contentHeight)),i.scrollbarYTop=n(u*(i.railYHeight-i.scrollbarYHeight)/(i.contentHeight-i.containerHeight))):i.scrollbarYActive=!1;i.scrollbarXLeft>=i.railXWidth-i.scrollbarXWidth&&(i.scrollbarXLeft=i.railXWidth-i.scrollbarXWidth);i.scrollbarYTop>=i.railYHeight-i.scrollbarYHeight&&(i.scrollbarYTop=i.railYHeight-i.scrollbarYHeight);ot(r,i);i.scrollbarXActive?r.classList.add(t.state.active("x")):(r.classList.remove(t.state.active("x")),i.scrollbarXWidth=0,i.scrollbarXLeft=0,r.scrollLeft=0);i.scrollbarYActive?r.classList.add(t.state.active("y")):(r.classList.remove(t.state.active("y")),i.scrollbarYHeight=0,i.scrollbarYTop=0,r.scrollTop=0)};nt=function(n){n.event.bind(n.scrollbarY,"mousedown",function(n){return n.stopPropagation()});n.event.bind(n.scrollbarYRail,"mousedown",function(t){var i=t.pageY-window.pageYOffset-n.scrollbarYRail.getBoundingClientRect().top,r=i>n.scrollbarYTop?1:-1;n.element.scrollTop+=r*n.containerHeight;u(n);t.stopPropagation()});n.event.bind(n.scrollbarX,"mousedown",function(n){return n.stopPropagation()});n.event.bind(n.scrollbarXRail,"mousedown",function(t){var i=t.pageX-window.pageXOffset-n.scrollbarXRail.getBoundingClientRect().left,r=i>n.scrollbarXLeft?1:-1;n.element.scrollLeft+=r*n.containerWidth;u(n);t.stopPropagation()})};tt=function(n){it(n,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]);it(n,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])};var st=function(n){function e(i,r){var f=Math.floor(t.scrollTop),u;if(i===0){if(!n.scrollbarYActive)return!1;if(f===0&&r>0||f>=n.contentHeight-n.containerHeight&&r<0)return!n.settings.wheelPropagation}if(u=t.scrollLeft,r===0){if(!n.scrollbarXActive)return!1;if(u===0&&i<0||u>=n.contentWidth-n.containerWidth&&i>0)return!n.settings.wheelPropagation}return!0}var t=n.element,i=function(){return f(t,":hover")},r=function(){return f(n.scrollbarX,":focus")||f(n.scrollbarY,":focus")};n.event.bind(n.ownerDocument,"keydown",function(f){var s,h,o;if((!f.isDefaultPrevented||!f.isDefaultPrevented())&&!f.defaultPrevented&&(i()||r())){if(s=document.activeElement?document.activeElement:n.ownerDocument.activeElement,s){if(s.tagName==="IFRAME")s=s.contentDocument.activeElement;else while(s.shadowRoot)s=s.shadowRoot.activeElement;if(ft(s))return}h=0;o=0;switch(f.which){case 37:h=f.metaKey?-n.contentWidth:f.altKey?-n.containerWidth:-30;break;case 38:o=f.metaKey?n.contentHeight:f.altKey?n.containerHeight:30;break;case 39:h=f.metaKey?n.contentWidth:f.altKey?n.containerWidth:30;break;case 40:o=f.metaKey?-n.contentHeight:f.altKey?-n.containerHeight:-30;break;case 32:o=f.shiftKey?n.containerHeight:-n.containerHeight;break;case 33:o=n.containerHeight;break;case 34:o=-n.containerHeight;break;case 36:o=n.contentHeight;break;case 35:o=-n.contentHeight;break;default:return}n.settings.suppressScrollX&&h!==0||n.settings.suppressScrollY&&o!==0||(t.scrollTop-=o,t.scrollLeft+=h,u(n),e(h,o)&&f.preventDefault())}})},ht=function(n){function e(t,r){var f=Math.floor(i.scrollTop),e=i.scrollTop===0,o=f+i.offsetHeight===i.scrollHeight,s=i.scrollLeft===0,h=i.scrollLeft+i.offsetWidth===i.scrollWidth,u;return u=Math.abs(r)>Math.abs(t)?e||o:s||h,u?!n.settings.wheelPropagation:!0}function s(n){var t=n.deltaX,i=-1*n.deltaY;return((typeof t=="undefined"||typeof i=="undefined")&&(t=n.wheelDeltaX/-6,i=n.wheelDeltaY/6),n.deltaMode&&n.deltaMode===1&&(t*=10,i*=10),t!==t&&i!==i&&(t=0,i=n.wheelDelta),n.shiftKey)?[-i,-t]:[t,i]}function h(n,u,f){var e,s,l,h,c;if(!o.isWebKit&&i.querySelector("select:focus"))return!0;if(!i.contains(n))return!1;for(e=n;e&&e!==i;){if(e.classList.contains(t.element.consuming)||(s=r(e),l=[s.overflow,s.overflowX,s.overflowY].join(""),l.match(/(scroll|auto)/)&&((h=e.scrollHeight-e.clientHeight,h>0&&!(e.scrollTop===0&&f>0)&&!(e.scrollTop===h&&f<0))||(c=e.scrollWidth-e.clientWidth,c>0&&!(e.scrollLeft===0&&u<0)&&!(e.scrollLeft===c&&u>0)))))return!0;e=e.parentNode}return!1}function f(t){var c=s(t),r=c[0],f=c[1],o;h(t.target,r,f)||(o=!1,n.settings.useBothWheelAxes?n.scrollbarYActive&&!n.scrollbarXActive?(f?i.scrollTop-=f*n.settings.wheelSpeed:i.scrollTop+=r*n.settings.wheelSpeed,o=!0):n.scrollbarXActive&&!n.scrollbarYActive&&(r?i.scrollLeft+=r*n.settings.wheelSpeed:i.scrollLeft-=f*n.settings.wheelSpeed,o=!0):(i.scrollTop-=f*n.settings.wheelSpeed,i.scrollLeft+=r*n.settings.wheelSpeed),u(n),o=o||e(r,f),o&&!t.ctrlKey&&(t.stopPropagation(),t.preventDefault()))}var i=n.element;typeof onwheel!="undefined"?n.event.bind(i,"wheel",f):typeof onmousewheel!="undefined"&&n.event.bind(i,"mousewheel",f)},ct=function(n){function w(t,r){var u=Math.floor(i.scrollTop),f=i.scrollLeft,e=Math.abs(t),s=Math.abs(r);if(s>e){if(r<0&&u===n.contentHeight-n.containerHeight||r>0&&u===0)return window.scrollY===0&&r>0&&o.isChrome}else if(e>s&&(t<0&&f===n.contentWidth-n.containerWidth||t>0&&f===0))return!0;return!0}function v(t,r){i.scrollTop-=r;i.scrollLeft-=t;u(n)}function y(n){return n.targetTouches?n.targetTouches[0]:n}function p(n){return n.pointerType&&n.pointerType==="pen"&&n.buttons===0?!1:n.targetTouches&&n.targetTouches.length===1?!0:n.pointerType&&n.pointerType!=="mouse"&&n.pointerType!==n.MSPOINTER_TYPE_MOUSE?!0:!1}function c(n){if(p(n)){var t=y(n);s.pageX=t.pageX;s.pageY=t.pageY;h=(new Date).getTime();e!==null&&clearInterval(e)}}function b(n,u,f){var e,o,c,s,h;if(!i.contains(n))return!1;for(e=n;e&&e!==i;){if(e.classList.contains(t.element.consuming)||(o=r(e),c=[o.overflow,o.overflowX,o.overflowY].join(""),c.match(/(scroll|auto)/)&&((s=e.scrollHeight-e.clientHeight,s>0&&!(e.scrollTop===0&&f>0)&&!(e.scrollTop===s&&f<0))||(h=e.scrollLeft-e.clientWidth,h>0&&!(e.scrollLeft===0&&u<0)&&!(e.scrollLeft===h&&u>0)))))return!0;e=e.parentNode}return!1}function l(n){var e,r;if(p(n)){var o=y(n),u={pageX:o.pageX,pageY:o.pageY},t=u.pageX-s.pageX,i=u.pageY-s.pageY;if(b(n.target,t,i))return;v(t,i);s=u;e=(new Date).getTime();r=e-h;r>0&&(f.x=t/r,f.y=i/r,h=e);w(t,i)&&n.preventDefault()}}function a(){n.settings.swipeEasing&&(clearInterval(e),e=setInterval(function(){if(n.isInitialized){clearInterval(e);return}if(!f.x&&!f.y){clearInterval(e);return}if(Math.abs(f.x)<.01&&Math.abs(f.y)<.01){clearInterval(e);return}v(f.x*30,f.y*30);f.x*=.8;f.y*=.8},10))}var i;if(o.supportsTouch||o.supportsIePointer){i=n.element;var s={},h=0,f={},e=null;o.supportsTouch?(n.event.bind(i,"touchstart",c),n.event.bind(i,"touchmove",l),n.event.bind(i,"touchend",a)):o.supportsIePointer&&(window.PointerEvent?(n.event.bind(i,"pointerdown",c),n.event.bind(i,"pointermove",l),n.event.bind(i,"pointerup",a)):window.MSPointerEvent&&(n.event.bind(i,"MSPointerDown",c),n.event.bind(i,"MSPointerMove",l),n.event.bind(i,"MSPointerUp",a)))}},lt=function(){return{handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1}},at={"click-rail":nt,"drag-thumb":tt,keyboard:st,wheel:ht,touch:ct},l=function(f,o){var c=this,l,v,y,s,h;if(o===void 0&&(o={}),typeof f=="string"&&(f=document.querySelector(f)),!f||!f.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");this.element=f;f.classList.add(t.main);this.settings=lt();for(l in o)c.settings[l]=o[l];this.containerWidth=null;this.containerHeight=null;this.contentWidth=null;this.contentHeight=null;v=function(){return f.classList.add(t.state.focus)};y=function(){return f.classList.remove(t.state.focus)};this.isRtl=r(f).direction==="rtl";this.isNegativeScroll=function(){var t=f.scrollLeft,n=null;return f.scrollLeft=-1,n=f.scrollLeft<0,f.scrollLeft=t,n}();this.negativeScrollAdjustment=this.isNegativeScroll?f.scrollWidth-f.clientWidth:0;this.event=new e;this.ownerDocument=f.ownerDocument||document;this.scrollbarXRail=a(t.element.rail("x"));f.appendChild(this.scrollbarXRail);this.scrollbarX=a(t.element.thumb("x"));this.scrollbarXRail.appendChild(this.scrollbarX);this.scrollbarX.setAttribute("tabindex",0);this.event.bind(this.scrollbarX,"focus",v);this.event.bind(this.scrollbarX,"blur",y);this.scrollbarXActive=null;this.scrollbarXWidth=null;this.scrollbarXLeft=null;s=r(this.scrollbarXRail);this.scrollbarXBottom=parseInt(s.bottom,10);isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=n(s.top)):this.isScrollbarXUsingBottom=!0;this.railBorderXWidth=n(s.borderLeftWidth)+n(s.borderRightWidth);i(this.scrollbarXRail,{display:"block"});this.railXMarginWidth=n(s.marginLeft)+n(s.marginRight);i(this.scrollbarXRail,{display:""});this.railXWidth=null;this.railXRatio=null;this.scrollbarYRail=a(t.element.rail("y"));f.appendChild(this.scrollbarYRail);this.scrollbarY=a(t.element.thumb("y"));this.scrollbarYRail.appendChild(this.scrollbarY);this.scrollbarY.setAttribute("tabindex",0);this.event.bind(this.scrollbarY,"focus",v);this.event.bind(this.scrollbarY,"blur",y);this.scrollbarYActive=null;this.scrollbarYHeight=null;this.scrollbarYTop=null;h=r(this.scrollbarYRail);this.scrollbarYRight=parseInt(h.right,10);isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=n(h.left)):this.isScrollbarYUsingRight=!0;this.scrollbarYOuterWidth=this.isRtl?et(this.scrollbarY):null;this.railBorderYWidth=n(h.borderTopWidth)+n(h.borderBottomWidth);i(this.scrollbarYRail,{display:"block"});this.railYMarginHeight=n(h.marginTop)+n(h.marginBottom);i(this.scrollbarYRail,{display:""});this.railYHeight=null;this.railYRatio=null;this.reach={x:f.scrollLeft<=0?"start":f.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:f.scrollTop<=0?"start":f.scrollTop>=this.contentHeight-this.containerHeight?"end":null};this.isAlive=!0;this.settings.handlers.forEach(function(n){return at[n](c)});this.lastScrollTop=Math.floor(f.scrollTop);this.lastScrollLeft=f.scrollLeft;this.event.bind(this.element,"scroll",function(n){return c.onScroll(n)});u(this)};return l.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,i(this.scrollbarXRail,{display:"block"}),i(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=n(r(this.scrollbarXRail).marginLeft)+n(r(this.scrollbarXRail).marginRight),this.railYMarginHeight=n(r(this.scrollbarYRail).marginTop)+n(r(this.scrollbarYRail).marginBottom),i(this.scrollbarXRail,{display:"none"}),i(this.scrollbarYRail,{display:"none"}),u(this),c(this,"top",0,!1,!0),c(this,"left",0,!1,!0),i(this.scrollbarXRail,{display:""}),i(this.scrollbarYRail,{display:""}))},l.prototype.onScroll=function(){this.isAlive&&(u(this),c(this,"top",this.element.scrollTop-this.lastScrollTop),c(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},l.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),s(this.scrollbarX),s(this.scrollbarY),s(this.scrollbarXRail),s(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},l.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(n){return!n.match(/^ps([-_].+|)$/)}).join(" ")},l}),function(n){var i={init:function(i){var r={color:n(this).css("background-color"),reach:20,speed:1e3,pause:0,glow:!0,repeat:!0,onHover:!1};return n(this).css({"-moz-outline-radius":n(this).css("border-top-left-radius"),"-webkit-outline-radius":n(this).css("border-top-left-radius"),"outline-radius":n(this).css("border-top-left-radius")}),i&&n.extend(r,i),r.color=n("<div style='background:"+r.color+"'><\/div>").css("background-color"),r.repeat!==!0&&!isNaN(r.repeat)&&r.repeat>0&&(r.repeat-=1),this.each(function(){r.onHover?n(this).bind("mouseover",function(){t(r,this,0)}).bind("mouseout",function(){n(this).pulsate("destroy")}):t(r,this,0)})},destroy:function(){return this.each(function(){clearTimeout(this.timer);n(this).css("outline",0)})}},t=function(i,u,f){var e=i.reach,f=f>e?0:f,l=(e-f)/e,o=i.color.split(","),h="rgba("+o[0].split("(")[1]+","+o[1]+","+o[2].split(")")[0]+","+l+")",s={outline:"2px solid "+h},c;i.glow&&(s["box-shadow"]="0px 0px "+parseInt(f/1.5)+"px "+h);s["outline-offset"]=f+"px";n(u).css(s);c=function(){if(f>=e&&!i.repeat)return n(u).pulsate("destroy"),!1;if(f>=e&&i.repeat!==!0&&!isNaN(i.repeat)&&i.repeat>0)i.repeat=i.repeat-1;else if(i.pause&&f>=e)return r(i,u,f+1),!1;t(i,u,f+1)};u.timer&&clearTimeout(u.timer);u.timer=setTimeout(c,i.speed/e)},r=function(n,i,r){innerfunc=function(){t(n,i,r)};i.timer=setTimeout(innerfunc,n.pause)};n.fn.pulsate=function(t){if(i[t])return i[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t!="object"&&t)n.error("Method "+t+" does not exist on jQuery.pulsate");else return i.init.apply(this,arguments)}}(jQuery);wheelnav=function(n,t,i,r){var u,e,s,o,f;if(this.holderId="wheel",n!==undefined&&n!==null&&(this.holderId=n),u=document.getElementById(n),(u===null||u===undefined)&&(t===undefined||t===null))return this;if(s=!0,t===undefined||t===null){for(o=[],f=0;f<u.children.length;f++)u.children[f].localName==="svg"&&o.push(u.children[f]);for(f=0;f<o.length;f++)u.removeChild(o[f]);i!==undefined&&i!==null?((r===undefined||r===null)&&(r=i),this.raphael=new Raphael(n,i,r),e=i):(this.raphael=new Raphael(n),e=u.clientWidth);this.raphael.setViewBox(0,0,this.raphael.width,this.raphael.height,!0)}else this.raphael=t,e=this.raphael.width,s=!1;return this.centerX=e/2,this.centerY=e/2,this.wheelRadius=e/2,this.navAngle=0,this.sliceAngle=null,this.titleRotateAngle=null,this.titleCurved=!1,this.titleCurvedClockwise=null,this.titleCurvedByRotateAngle=!1,this.initTitleRotate=!1,this.clickModeRotate=!0,this.rotateRound=!1,this.rotateRoundCount=0,this.clickModeSpreadOff=!1,this.animatetimeCalculated=!1,this.animateRepeatCount=0,this.clockwise=!0,this.multiSelect=!1,this.hoverPercent=1,this.selectedPercent=1,this.clickablePercentMin=0,this.clickablePercentMax=1,this.currentPercent=null,this.cssMode=!1,this.selectedToFront=!0,this.selectedNavItemIndex=0,this.hoverEnable=!0,this.hoveredToFront=!0,this.navItemCount=0,this.navItemCountLabeled=!1,this.navItemCountLabelOffset=0,this.navItems=[],this.navItemsEnabled=!0,this.animateFinishFunction=null,this.navItemsContinuous=!1,this.navItemsCentered=!0,this.colors=colorpalette.defaultpalette,this.titleSpreadScale=null,this.spreaderEnable=!1,this.spreaderRadius=20,this.spreaderStartAngle=0,this.spreaderSliceAngle=360,this.spreaderPathFunction=spreaderPath().PieSpreader,this.spreaderPathCustom=null,this.spreaderInPercent=1,this.spreaderOutPercent=1,this.spreaderInTitle="+",this.spreaderOutTitle="-",this.spreaderTitleFont=null,this.spreaderPathInAttr=null,this.spreaderPathOutAttr=null,this.spreaderTitleInAttr=null,this.spreaderTitleOutAttr=null,this.spreaderInTitleWidth=null,this.spreaderInTitleHeight=null,this.spreaderOutTitleWidth=null,this.spreaderOutTitleHeight=null,this.minPercent=.01,this.maxPercent=1,this.initPercent=1,this.markerEnable=!1,this.markerPathFunction=markerPath().TriangleMarker,this.markerPathCustom=null,this.currentClick=0,this.animateLocked=!1,this.slicePathAttr=null,this.sliceHoverAttr=null,this.sliceSelectedAttr=null,this.titleFont="18px Impact, Charcoal, sans-serif",this.titleAttr=null,this.titleHoverAttr=null,this.titleSelectedAttr=null,this.titleWidth=null,this.titleHeight=null,this.titleHoverWidth=null,this.titleHoverHeight=null,this.titleSelectedWidth=null,this.titleSelectedHeight=null,this.linePathAttr=null,this.lineHoverAttr=null,this.lineSelectedAttr=null,this.slicePathCustom=null,this.sliceClickablePathCustom=null,this.sliceSelectedPathCustom=null,this.sliceHoverPathCustom=null,this.sliceInitPathCustom=null,this.sliceTransformCustom=null,this.sliceSelectedTransformCustom=null,this.sliceHoverTransformCustom=null,this.sliceInitTransformCustom=null,this.animateeffect=null,this.animatetime=null,this.slicePathFunction=slicePath().PieSlice!==undefined?slicePath().PieSlice:slicePath().NullSlice,this.sliceClickablePathFunction=null,this.sliceTransformFunction=null,this.sliceSelectedPathFunction=null,this.sliceSelectedTransformFunction=null,this.sliceHoverPathFunction=null,this.sliceHoverTransformFunction=null,this.sliceInitPathFunction=null,this.sliceInitTransformFunction=null,this.keynavigateEnabled=!1,this.keynavigateOnlyFocus=!1,this.keynavigateDownCode=37,this.keynavigateDownCodeAlt=40,this.keynavigateUpCode=39,this.keynavigateUpCodeAlt=38,this.parseWheel(u),this};wheelnav.prototype.initWheel=function(n){var u,r,t;for(this.styleWheel(),this.navItemCount===0?(n!==undefined&&n!==null&&Array.isArray(n)||(n=["title-0","title-1","title-2","title-3"]),this.navItemCount=n.length):n=null,i=0;i<this.navItemCount;i++)r="",r=this.navItemCountLabeled?(i+this.navItemCountLabelOffset).toString():n!==null?n[i]:"",u=new wheelnavItem(this,r,i),this.navItems.push(u);for(t=0,i=0;i<this.navItems.length;i++)this.navItems[i].fillAttr=this.colors[t],t++,t===this.colors.length&&(t=0)};wheelnav.prototype.createWheel=function(n,t){for(this.currentPercent===null&&(this.currentPercent=t?this.minPercent:this.maxPercent),this.navItems.length===0&&this.initWheel(n),this.selectedNavItemIndex!==null&&(this.navItems[this.selectedNavItemIndex].selected=!0),i=0;i<this.navItemCount;i++)this.navItems[i].createNavItem();if(this.keynavigateEnabled){var r=this,u=window;this.keynavigateOnlyFocus&&(u=document.getElementById(this.holderId),u.hasAttribute("tabindex")||u.setAttribute("tabindex",0));u.addEventListener("keydown",this.keyNavigateFunction=function(n){var i,t;n=n||window.e;i=n.which||n.keyCode;[r.keynavigateDownCode,r.keynavigateDownCodeAlt,r.keynavigateUpCode,r.keynavigateUpCodeAlt].indexOf(n.keyCode)>-1&&n.preventDefault();t=null;(i===r.keynavigateUpCode||i===r.keynavigateUpCodeAlt)&&(t=r.currentClick===r.navItemCount-1?0:r.currentClick+1);(i===r.keynavigateDownCode||i===r.keynavigateDownCodeAlt)&&(t=r.currentClick===0?r.navItemCount-1:r.currentClick-1);t!==null&&(r.navigateWheel(t),r.navItems[t].navigateFunction!==null&&r.navItems[t].navigateFunction())})}return this.spreader=new spreader(this),this.marker=new marker(this),this.refreshWheel(),t!==undefined&&this.spreadWheel(),this};wheelnav.prototype.removeWheel=function(){if(this.raphael.remove(),this.keynavigateEnabled){var n=window;this.keynavigateOnlyFocus&&(n=document.getElementById(this.holderId),n.hasAttribute("tabindex")&&n.removeAttribute("tabindex"));n.removeEventListener("keydown",this.keyNavigateFunction)}};wheelnav.prototype.refreshWheel=function(n){for(i=0;i<this.navItemCount;i++){var t=this.navItems[i];t.setWheelSettings(n);t.refreshNavItem(n)}this.marker.setCurrentTransform();this.spreader.setCurrentTransform()};wheelnav.prototype.navigateWheel=function(n){var t,r,u;for(this.animateUnlock(!0),this.clickModeRotate&&(this.animateLocked=!0),i=0;i<this.navItemCount;i++)t=this.navItems[i],t.hovered=!1,i===n?this.multiSelect?t.selected=!t.selected:(t.selected=!0,this.selectedNavItemIndex=i):this.multiSelect||(t.selected=!1),this.clickModeRotate&&(r=this.navItems[n].navAngle-this.navItems[this.currentClick].navAngle,this.rotateRound&&(this.clockwise&&r<0&&(r=360+r),!this.clockwise&&r>0&&(r=r-360)),t.currentRotateAngle-=r,u=this.animatetime!=null?this.animatetime:1500,this.animatetimeCalculated&&n!==this.currentClick&&(t.animatetime=u*(Math.abs(r)/360)),this.rotateRoundCount>0&&(this.clockwise?t.currentRotateAngle-=this.rotateRoundCount*360:t.currentRotateAngle+=this.rotateRoundCount*360,t.animatetime=u*(this.rotateRoundCount+1)));for(i=0;i<this.navItemCount;i++)t=this.navItems[i],t.setCurrentTransform(!0,!0),t.refreshNavItem();this.currentClick=n;this.clickModeSpreadOff?(this.currentPercent=this.maxPercent,this.spreadWheel()):(n===null||this.clickModeRotate?this.marker.setCurrentTransform():this.marker.setCurrentTransform(this.navItems[this.currentClick].navAngle),this.spreader.setCurrentTransform(!0))};wheelnav.prototype.spreadWheel=function(){for(this.animateUnlock(!0),this.animateLocked=!0,this.currentPercent=this.currentPercent===this.maxPercent||this.currentPercent===null?this.minPercent:this.maxPercent,i=0;i<this.navItemCount;i++){var n=this.navItems[i];n.hovered=!1;n.setCurrentTransform(!0,!1)}return this.marker.setCurrentTransform(),this.spreader.setCurrentTransform(),this};wheelnav.prototype.animateUnlock=function(n,t){var i,r;if(n!==undefined&&n===!0)for(i=0;i<this.navItemCount;i++)this.navItems[i].navSliceUnderAnimation=!1,this.navItems[i].navTitleUnderAnimation=!1,this.navItems[i].navTitlePathUnderAnimation=!1,this.navItems[i].navLineUnderAnimation=!1,this.navItems[i].navSlice.stop(),this.navItems[i].navLine.stop(),this.navItems[i].navTitle.stop(),this.navItems[i].navTitlePath!==undefined&&this.navItems[i].navTitlePath.stop();else{for(r=0;r<this.navItemCount;r++)if(this.navItems[r].navSliceUnderAnimation===!0||this.navItems[r].navTitleUnderAnimation===!0||this.navItems[r].navTitlePathUnderAnimation===!0||this.navItems[r].navLineUnderAnimation===!0)return;this.animateLocked=!1;this.animateFinishFunction!==null&&t!==undefined&&t===!0&&this.animateFinishFunction()}};wheelnav.prototype.setTooltips=function(n){if(n!==undefined&&n!==null&&Array.isArray(n)&&n.length<=this.navItems.length)for(var t=0;t<n.length;t++)this.navItems[t].setTooltip(n[t])};wheelnav.prototype.getItemId=function(n){return"wheelnav-"+this.holderId+"-item-"+n};wheelnav.prototype.getSliceId=function(n){return"wheelnav-"+this.holderId+"-slice-"+n};wheelnav.prototype.getClickableSliceId=function(n){return"wheelnav-"+this.holderId+"-clickableslice-"+n};wheelnav.prototype.getTitleId=function(n){return"wheelnav-"+this.holderId+"-title-"+n};wheelnav.prototype.getTitlePathId=function(n){return"wheelnav-"+this.holderId+"-titlepath-"+n};wheelnav.prototype.getLineId=function(n){return"wheelnav-"+this.holderId+"-line-"+n};wheelnav.prototype.getSpreaderId=function(){return"wheelnav-"+this.holderId+"-spreader"};wheelnav.prototype.getSpreaderTitleId=function(){return"wheelnav-"+this.holderId+"-spreadertitle"};wheelnav.prototype.getMarkerId=function(){return"wheelnav-"+this.holderId+"-marker"};wheelnav.prototype.parseWheel=function(n){var it,l,a,v,ut,ft,et,y,e,ot,o,p,w,st,ht,ct,lt,at,b,k,d,g,vt,yt,u,s,t;if(n!==undefined&&n!==null){if(it=n.hasAttribute("data-wheelnav"),it){var i=[],h=[],f=[],rt=!1,c=n.getAttribute("data-wheelnav-slicepath");for(c!==null&&slicePath()[c]!==undefined&&(this.slicePathFunction=slicePath()[c]),l=n.getAttribute("data-wheelnav-colors"),l!==null&&(this.colors=l.split(",")),a=n.getAttribute("data-wheelnav-wheelradius"),a!==null&&(this.wheelRadius=Number(a)),v=n.getAttribute("data-wheelnav-navangle"),v!==null&&(this.navAngle=Number(v)),ut=n.getAttribute("data-wheelnav-rotateoff"),ut!==null&&(this.clickModeRotate=!1),ft=n.getAttribute("data-wheelnav-cssmode"),ft!==null&&(this.cssMode=!0),et=n.getAttribute("data-wheelnav-spreader"),et!==null&&(this.spreaderEnable=!0),y=n.getAttribute("data-wheelnav-spreaderradius"),y!==null&&(this.spreaderRadius=Number(y)),e=n.getAttribute("data-wheelnav-spreaderpath"),e!==null&&markerPath()[e]!==undefined&&(this.spreaderPathFunction=spreaderPath()[e]),ot=n.getAttribute("data-wheelnav-marker"),ot!==null&&(this.markerEnable=!0),o=n.getAttribute("data-wheelnav-markerpath"),o!==null&&markerPath()[o]!==undefined&&(this.markerPathFunction=markerPath()[o]),p=n.getAttribute("data-wheelnav-titlewidth"),p!==null&&(this.titleWidth=Number(p)),w=n.getAttribute("data-wheelnav-titleheight"),w!==null&&(this.titleHeight=Number(w)),st=n.getAttribute("data-wheelnav-titlecurved"),st!==null&&(this.titleCurved=!0),ht=n.getAttribute("data-wheelnav-titlecurvedclockwise"),ht!==null&&(this.titleCurvedClockwise=!0),ct=n.getAttribute("data-wheelnav-titlecurvedbyrotateangle"),ct!==null&&(this.titleCurvedByRotateAngle=!0),lt=n.getAttribute("data-wheelnav-keynav"),lt!==null&&(this.keynavigateEnabled=!0),at=n.getAttribute("data-wheelnav-keynavonlyfocus"),at!==null&&(this.keynavigateOnlyFocus=!0),b=n.getAttribute("data-wheelnav-keynavdowncode"),b!==null&&(this.keynavigateDownCode=Number(b)),k=n.getAttribute("data-wheelnav-keynavdowncodealt"),k!==null&&(this.keynavigateDownCodeAlt=Number(k)),d=n.getAttribute("data-wheelnav-keynavupcode"),d!==null&&(this.keynavigateUpCode=Number(d)),g=n.getAttribute("data-wheelnav-keynavupcodealt"),g!==null&&(this.keynavigateUpCodeAlt=Number(g)),vt=n.getAttribute("data-wheelnav-init"),vt!==null&&(rt=!0),t=0;t<n.children.length;t++){var nt=n.children[t].getAttribute("data-wheelnav-navitemtext"),r=n.children[t].getAttribute("data-wheelnav-navitemicon"),tt=n.children[t].getAttribute("data-wheelnav-navitemimg");if(nt!==null||r!==null||tt!==null){if(nt!==null)i.push(nt);else if(r!==null)icon[r]!==undefined?i.push(icon[r]):i.push(r);else if(tt!==null)i.push("imgsrc:"+tt);else continue;for(n.children[t].onmouseup!==undefined?f.push(n.children[t].onmouseup):f.push(null),yt=!1,u=0;u<n.children[t].children.length;u++)n.children[t].children[u].getAttribute("href")!==undefined&&h.push(n.children[t].children[u].getAttribute("href"));yt||h.push(null)}}if(i.length>0){for(this.initWheel(i),t=0;t<f.length;t++)this.navItems[t].navigateFunction=f[t],this.navItems[t].navigateHref=h[t];rt||this.createWheel()}}for(s=[],t=0;t<n.children.length;t++)n.children[t].localName!=="svg"&&s.push(n.children[t]);for(t=0;t<s.length;t++)n.removeChild(s[t])}};wheelnavItem=function(n,t,i){return this.wheelnav=n,this.wheelItemIndex=i,this.itemIndex=n.clockwise?i:-i,this.enabled=n.navItemsEnabled,this.selected=!1,this.hovered=!1,this.navItem=null,this.navSlice=null,this.navTitle=null,this.navLine=null,this.navClickableSlice=null,this.navSliceCurrentTransformString=null,this.navTitleCurrentTransformString=null,this.navLineCurrentTransformString=null,this.navSliceUnderAnimation=!1,this.navTitleUnderAnimation=!1,this.navTitlePathUnderAnimation=!1,this.navLineUnderAnimation=!1,this.currentRotateAngle=0,this.setTitle(t),this.tooltip=null,this.fillAttr="#CCC",this.titleFont=this.wheelnav.titleFont,this.navigateHref=null,this.navigateFunction=null,this.titleWidth=null,this.titleHeight=null,this.titleHoverWidth=null,this.titleHoverHeight=null,this.titleSelectedWidth=null,this.titleSelectedHeight=null,this.animateeffect=null,this.animatetime=null,this.sliceInitPathFunction=null,this.sliceClickablePathFunction=null,this.slicePathFunction=null,this.sliceSelectedPathFunction=null,this.sliceHoverPathFunction=null,this.sliceTransformFunction=null,this.sliceSelectedTransformFunction=null,this.sliceHoverTransformFunction=null,this.sliceInitTransformFunction=null,this.slicePathCustom=null,this.sliceClickablePathCustom=null,this.sliceSelectedPathCustom=null,this.sliceHoverPathCustom=null,this.sliceInitPathCustom=null,this.sliceTransformCustom=null,this.sliceSelectedTransformCustom=null,this.sliceHoverTransformCustom=null,this.sliceInitTransformCustom=null,this.initPercent=null,this.minPercent=null,this.maxPercent=null,this.hoverPercent=null,this.selectedPercent=null,this.clickablePercentMin=null,this.clickablePercentMax=null,this.titleSpreadScale=null,this.sliceAngle=null,this.titleRotateAngle=null,this.titleCurved=null,this.titleCurvedClockwise=null,this.titleCurvedByRotateAngle=null,this.styleNavItem(),this};wheelnavItem.prototype.createNavItem=function(){var u,n,t,i,e,f,s;this.setWheelSettings(!1);this.navigateHref!==null&&(this.navigateFunction=function(){window.location.href=this.navigateHref});this.wheelnav.cssMode||(this.slicePathAttr.fill=this.fillAttr,this.sliceHoverAttr.fill=this.fillAttr,this.sliceSelectedAttr.fill=this.fillAttr);this.enabled||(this.wheelnav.cssMode||(this.slicePathAttr.cursor="default",this.sliceHoverAttr.cursor="default",this.titleAttr.cursor="default",this.titleHoverAttr.cursor="default",this.linePathAttr.cursor="default",this.lineHoverAttr.cursor="default"),this.sliceClickablePathAttr.cursor="default",this.sliceClickableHoverAttr.cursor="default");u=this.wheelItemIndex-1;n=360/this.wheelnav.navItemCount;this.sliceAngle===null&&(this.sliceAngle=360/this.wheelnav.navItemCount);this.wheelnav.clockwise?this.wheelnav.navItemsContinuous?this.baseAngle=this.itemIndex===0?this.itemIndex*this.sliceAngle+(-this.sliceAngle/2+this.wheelnav.navAngle):this.wheelnav.navItems[u].baseAngle+this.wheelnav.navItems[u].sliceAngle:this.wheelnav.navItemsCentered?this.baseAngle=this.itemIndex*n+(-this.sliceAngle/2+this.wheelnav.navAngle):(this.baseAngle=this.itemIndex*n+(-n/2+this.wheelnav.navAngle),this.currentRotateAngle+=n/2-this.wheelnav.navItems[0].sliceAngle/2):this.wheelnav.navItemsContinuous?this.baseAngle=this.itemIndex===0?this.itemIndex*this.sliceAngle+(-this.sliceAngle/2+this.wheelnav.navAngle):this.wheelnav.navItems[u].baseAngle-this.wheelnav.navItems[this.wheelItemIndex].sliceAngle:this.wheelnav.navItemsCentered?this.baseAngle=this.itemIndex*n+(-this.sliceAngle/2+this.wheelnav.navAngle):(this.baseAngle=this.itemIndex*n+(-n/2+this.wheelnav.navAngle)+(n-this.sliceAngle),this.currentRotateAngle-=n/2-this.wheelnav.navItems[0].sliceAngle/2);this.navAngle=this.baseAngle+this.sliceAngle/2;this.wheelnav.animatetimeCalculated&&(this.animatetime=this.wheelnav.animatetime/this.wheelnav.navItemCount);this.initPathsAndTransforms();t=this.sliceInitPath;this.navSlice=this.wheelnav.raphael.path(t.slicePathString);this.navSlice.attr(this.slicePathAttr);this.navSlice.id=this.wheelnav.getSliceId(this.wheelItemIndex);this.navSlice.node.id=this.navSlice.id;this.navLine=this.wheelnav.raphael.path(t.linePathString);this.navLine.attr(this.linePathAttr);this.navLine.id=this.wheelnav.getLineId(this.wheelItemIndex);this.navLine.node.id=this.navLine.id;i=this.initNavTitle;wheelnavTitle().isPathTitle(this.title)?this.navTitle=this.wheelnav.raphael.path(i.path):wheelnavTitle().isImageTitle(this.title)?this.navTitle=this.wheelnav.raphael.image(i.src,t.titlePosX-this.titleWidth/2,t.titlePosY-this.titleHeight/2,this.titleWidth,this.titleHeight):this.titleCurved?(this.navTitle=this.wheelnav.raphael.text(t.titlePosX,t.titlePosY,"."),i.title!==""&&this.addCurvedTitle(i.title)):this.navTitle=this.wheelnav.raphael.text(t.titlePosX,t.titlePosY,i.title);this.navTitle.id=this.wheelnav.getTitleId(this.wheelItemIndex);this.navTitle.node.id=this.navTitle.id;this.navTitle.attr(this.titleAttr);this.titleCurved&&(e=document.getElementById(this.navTitle.node.id),e!==null&&(f=e.getElementsByTagName("tspan"),f.length>0&&(f[0].setAttribute("fill","transparent"),f[0].setAttribute("stroke","transparent"))));this.navSliceCurrentTransformString="";this.initTransform.sliceTransformString!==""&&(this.navSliceCurrentTransformString+=this.initTransform.sliceTransformString);this.navLineCurrentTransformString="";this.initTransform.lineTransformString!==""&&(this.navLineCurrentTransformString+=this.initTransform.lineTransformString);this.navTitleCurrentTransformString="";this.navTitleCurrentTransformString+=this.getTitleRotateString(this.wheelnav.initTitleRotate);this.initTransform.titleTransformString!==""&&this.initTransform.titleTransformString!==undefined&&(this.navTitleCurrentTransformString+=this.initTransform.titleTransformString);this.wheelnav.currentPercent<.05&&(this.navTitleCurrentTransformString+=",s0.05");this.navTitleSizeTransform!==undefined&&(this.navTitleCurrentTransformString+=this.navTitleSizeTransform);this.navSlice.attr({transform:this.navSliceCurrentTransformString});this.navLine.attr({transform:this.navLineCurrentTransformString});this.navTitle.attr({transform:this.navTitleCurrentTransformString});this.navItem=this.wheelnav.raphael.set();this.sliceClickablePathFunction!==null?(s=this.getCurrentClickablePath(),this.navClickableSlice=this.wheelnav.raphael.path(s.slicePathString).attr(this.sliceClickablePathAttr).toBack(),this.navClickableSlice.id=this.wheelnav.getClickableSliceId(this.wheelItemIndex),this.navClickableSlice.node.id=this.navClickableSlice.id,this.navItem.push(this.navSlice,this.navLine,this.navTitle,this.navClickableSlice)):this.navItem.push(this.navSlice,this.navLine,this.navTitle);this.setTooltip(this.tooltip);this.navItem.id=this.wheelnav.getItemId(this.wheelItemIndex);var h=this.wheelnav,r=this,o=this.wheelItemIndex;this.enabled&&(this.navItem.mouseup(function(){r.navigateFunction!==null&&r.navigateFunction();h.navigateWheel(o)}),this.wheelnav.hoverEnable&&(this.navItem.mouseover(function(){r.hovered!==!0&&r.hoverEffect(o,!0)}),this.navItem.mouseout(function(){r.hovered=!1;r.hoverEffect(o,!1)})));this.setCurrentTransform(!0,!1)};wheelnavItem.prototype.addCurvedTitle=function(n){var r=[],i,u,t;this.sliceInitPath.titlePathString!==undefined&&this.sliceInitPath.titlePathString!==""?r=this.sliceInitPath.titlePathString:(this.sliceHelper.titleRadius=this.wheelnav.wheelRadius*.63,r=this.sliceHelper.getCurvedTitlePathString());this.navTitle.node.id=this.wheelnav.getTitleId(this.wheelItemIndex);i=this.wheelnav.getTitlePathId(this.wheelItemIndex);this.navTitlePath=this.wheelnav.raphael.path(r);this.navTitlePath.attr({fill:"transparent",stroke:"transparent"});this.navTitlePath.node.id=i;u=document.getElementById(this.navTitle.node.id);t=window.document.createElementNS("http://www.w3.org/2000/svg","textPath");t.setAttribute("id",i+"-text");t.setAttribute("href","#"+i);t.setAttribute("startOffset","50%");t.setAttribute("dominant-baseline","middle");t.setAttribute("alignment-baseline","middle");t.textContent=n;u.appendChild(t);this.titleCurvedByRotateAngle||(this.titleRotateAngle=-this.navAngle)};wheelnavItem.prototype.hoverEffect=function(n,t){this.wheelnav.animateLocked===!1&&(t&&(this.selected||(this.hovered=!0)),this.refreshNavItem(),(this.hoverPercent!==1||this.sliceHoverPathFunction!==null||this.sliceHoverTransformFunction!==null||this.titleHover!==this.title||this.titleHoverWidth!==this.titleWidth||this.titleHoverHeight!==this.titleHeight)&&this.setCurrentTransform(!1,!1),this.wheelnav.marker.setCurrentTransform(),this.wheelnav.spreader.setCurrentTransform(!0))};wheelnavItem.prototype.setCurrentTransform=function(n,t){var e,l,a,w,v,o,s,u,y,p,f,c;if(!this.wheelnav.clickModeRotate||!this.navSliceUnderAnimation&&!this.navTitleUnderAnimation&&!this.navTitlePathUnderAnimation&&!this.navLineUnderAnimation){n!==undefined&&n===!0&&(this.navSliceUnderAnimation=!0,this.navTitleUnderAnimation=!0,this.navTitlePath!==undefined&&(this.navTitlePathUnderAnimation=!0),this.navLineUnderAnimation=!0);this.navSliceCurrentTransformString="";this.wheelnav.clickModeRotate&&(this.navSliceCurrentTransformString+=this.getItemRotateString());this.selected?this.selectTransform.sliceTransformString!==undefined&&(this.navSliceCurrentTransformString+=this.selectTransform.sliceTransformString):this.hovered&&this.hoverTransform.sliceTransformString!==undefined&&(this.navSliceCurrentTransformString+=this.hoverTransform.sliceTransformString);this.sliceTransform.sliceTransformString!==undefined&&(this.navSliceCurrentTransformString+=this.sliceTransform.sliceTransformString);this.navLineCurrentTransformString="";this.wheelnav.clickModeRotate&&(this.navLineCurrentTransformString+=this.getItemRotateString());this.selected?this.selectTransform.lineTransformString!==undefined&&(this.navLineCurrentTransformString+=this.selectTransform.lineTransformString):this.hovered&&this.hoverTransform.lineTransformString!==undefined&&(this.navLineCurrentTransformString+=this.hoverTransform.lineTransformString);this.sliceTransform.lineTransformString!==undefined&&(this.navLineCurrentTransformString+=this.sliceTransform.lineTransformString);this.navTitleCurrentTransformString="";this.navTitleCurrentTransformString+=this.getTitleRotateString(!0);this.selected?(this.navTitleSizeSelectedTransform!==undefined&&(this.navTitleCurrentTransformString+=this.navTitleSizeSelectedTransform),this.navTitleCurrentTransformString+=this.selectTransform.titleTransformString===""||this.selectTransform.titleTransformString===undefined?",s1":","+this.selectTransform.titleTransformString,this.wheelnav.currentPercent<.05&&(this.navTitleCurrentTransformString+=",s0.05")):this.hovered?(this.navTitleSizeHoverTransform!==undefined&&(this.navTitleCurrentTransformString+=this.navTitleSizeHoverTransform),this.navTitleCurrentTransformString+=this.hoverTransform.titleTransformString===""||this.hoverTransform.titleTransformString===undefined?",s1":","+this.hoverTransform.titleTransformString):this.wheelnav.currentPercent<.05?this.navTitleCurrentTransformString+=",s0.05":this.titleSpreadScale?this.navTitleCurrentTransformString+=",s"+this.wheelnav.currentPercent:(this.navTitleSizeTransform!==undefined&&(this.navTitleCurrentTransformString+=this.navTitleSizeTransform),this.navTitleCurrentTransformString+=this.sliceTransform.titleTransformString===""||this.sliceTransform.titleTransformString===undefined?",s1":","+this.sliceTransform.titleTransformString);e=this.getCurrentPath();l={};l={path:e.slicePathString,transform:this.navSliceCurrentTransformString};a={};this.sliceClickablePathFunction!==null&&(w=this.getCurrentClickablePath(),a={path:w.slicePathString,transform:this.navSliceCurrentTransformString});v={};v={path:e.linePathString,transform:this.navLineCurrentTransformString};var r=this.getCurrentTitle(),h={},b=null;if(wheelnavTitle().isPathTitle(r.title)?h={path:r.path,transform:this.navTitleCurrentTransformString}:wheelnavTitle().isImageTitle(r.title)?(h={x:r.x,y:r.y,width:r.width,height:r.height,transform:this.navTitleCurrentTransformString},this.navTitle.attr({src:r.src})):(h={x:r.x,y:r.y,transform:this.navTitleCurrentTransformString},r.title!==null&&r.title!==""&&(this.titleCurved?e.titlePathString!==undefined&&e.titlePathString!==""&&(b={path:e.titlePathString}):this.navTitle.attr({text:r.title}))),o=this,s=this.wheelnav,this.animSlice=Raphael.animation(l,this.animatetime,this.animateeffect,function(){o.navSliceUnderAnimation=!1;s.animateUnlock(!1,t)}),this.animLine=Raphael.animation(v,this.animatetime,this.animateeffect,function(){o.navLineUnderAnimation=!1;s.animateUnlock(!1,t)}),this.animTitle=Raphael.animation(h,this.animatetime,this.animateeffect,function(){o.navTitleUnderAnimation=!1;s.animateUnlock(!1,t)}),this.titleCurved&&this.navTitlePath!==undefined&&(this.animTitlePath=Raphael.animation(b,this.animatetime,this.animateeffect,function(){o.navTitlePathUnderAnimation=!1;s.animateUnlock(!1,t)})),this.navClickableSlice!==null&&(this.animClickableSlice=Raphael.animation(a,this.animatetime,this.animateeffect)),u=this.wheelnav.animateRepeatCount,n!==undefined&&n===!0){if(this.wheelItemIndex===this.wheelnav.navItemCount-1){for(i=0;i<this.wheelnav.navItemCount;i++)y=this.wheelnav.navItems[i],y.navSlice.animate(y.animSlice.repeat(u));for(i=0;i<this.wheelnav.navItemCount;i++)p=this.wheelnav.navItems[i],p.navLine.animate(p.animLine.repeat(u));for(i=0;i<this.wheelnav.navItemCount;i++)f=this.wheelnav.navItems[i],f.navTitle.animate(f.animTitle.repeat(u)),f.titleCurved&&f.navTitlePath!==undefined&&f.navTitlePath.animate(f.animTitlePath.repeat(u));if(this.wheelnav.sliceClickablePathFunction!==null)for(i=0;i<this.wheelnav.navItemCount;i++)c=this.wheelnav.navItems[i],c.navClickableSlice!==null&&c.navClickableSlice.animate(c.animClickableSlice.repeat(u))}}else this.navSlice.animate(this.animSlice.repeat(u)),this.navLine.animate(this.animLine.repeat(u)),this.navTitle.animate(this.animTitle.repeat(u)),this.titleCurved&&this.navTitlePath!==undefined&&this.navTitlePath.animate(this.animTitlePath.repeat(u)),this.navClickableSlice!==null&&this.navClickableSlice.animate(this.animClickableSlice.repeat(u))}};wheelnavItem.prototype.setTitle=function(n){this.title=n===undefined?null:n;this.titleHover=this.title;this.titleSelected=this.title};wheelnavItem.prototype.setTooltip=function(n){n!==null&&this.navItem.attr({title:n})};wheelnavItem.prototype.refreshNavItem=function(n){this.selected?(this.navSlice.attr(this.sliceSelectedAttr),this.navLine.attr(this.lineSelectedAttr),this.navTitle.attr(this.titleSelectedAttr),this.navClickableSlice!==null&&this.navClickableSlice.attr(this.sliceClickableSelectedAttr),this.wheelnav.selectedToFront?(this.navSlice.toFront(),this.navLine.toFront(),this.navTitle.toFront(),this.navClickableSlice!==null&&this.navClickableSlice.toFront()):(this.navClickableSlice!==null&&this.navClickableSlice.toBack(),this.navTitle.toBack(),this.navLine.toBack(),this.navSlice.toBack())):this.hovered?this.wheelnav.hoverEnable&&(this.navSlice.attr(this.sliceHoverAttr),this.navLine.attr(this.lineHoverAttr),this.navTitle.attr(this.titleHoverAttr),this.navClickableSlice!==null&&this.navClickableSlice.attr(this.sliceClickableHoverAttr),this.wheelnav.hoveredToFront&&(this.navSlice.toFront(),this.navLine.toFront(),this.navTitle.toFront()),this.navClickableSlice!==null&&this.navClickableSlice.toFront()):(this.navSlice.attr(this.slicePathAttr),this.navLine.attr(this.linePathAttr),this.navTitle.attr(this.titleAttr),this.navClickableSlice!==null&&this.navClickableSlice.attr(this.sliceClickablePathAttr),this.navClickableSlice!==null&&this.navClickableSlice.toBack(),this.navTitle.toBack(),this.navLine.toBack(),this.navSlice.toBack());n!==undefined&&n===!0&&(this.initPathsAndTransforms(),this.setCurrentTransform(!1,!1))};wheelnavItem.prototype.setWheelSettings=function(n){this.wheelnav.slicePathAttr!==null&&(this.slicePathAttr=JSON.parse(JSON.stringify(this.wheelnav.slicePathAttr)));this.wheelnav.sliceHoverAttr!==null&&(this.sliceHoverAttr=JSON.parse(JSON.stringify(this.wheelnav.sliceHoverAttr)));this.wheelnav.sliceSelectedAttr!==null&&(this.sliceSelectedAttr=JSON.parse(JSON.stringify(this.wheelnav.sliceSelectedAttr)));this.wheelnav.titleAttr!==null&&(this.titleAttr=JSON.parse(JSON.stringify(this.wheelnav.titleAttr)));this.wheelnav.titleHoverAttr!==null&&(this.titleHoverAttr=JSON.parse(JSON.stringify(this.wheelnav.titleHoverAttr)));this.wheelnav.titleSelectedAttr!==null&&(this.titleSelectedAttr=JSON.parse(JSON.stringify(this.wheelnav.titleSelectedAttr)));this.wheelnav.titleRotateAngle!==null&&this.titleRotateAngle===null&&(this.titleRotateAngle=this.wheelnav.titleRotateAngle);this.wheelnav.titleCurved!==null&&this.titleCurved===null&&(this.titleCurved=this.wheelnav.titleCurved);this.wheelnav.titleCurvedClockwise!==null&&this.titleCurvedClockwise===null?this.titleCurvedClockwise=this.wheelnav.titleCurvedClockwise:this.titleCurvedClockwise===null&&(this.titleCurvedClockwise=!this.wheelnav.clockwise);this.wheelnav.titleCurvedByRotateAngle!==null&&this.titleCurvedByRotateAngle===null&&(this.titleCurvedByRotateAngle=this.wheelnav.titleCurvedByRotateAngle);this.wheelnav.titleWidth!==null&&this.titleWidth===null&&(this.titleWidth=this.wheelnav.titleWidth);this.wheelnav.titleHeight!==null&&this.titleHeight===null&&(this.titleHeight=this.wheelnav.titleHeight);this.titleWidth!==null&&this.titleHeight===null&&(this.titleHeight=this.titleWidth);this.titleWidth===null&&this.titleHeight!==null&&(this.titleWidth=this.titleHeight);wheelnavTitle().isImageTitle(this.title)&&(this.titleWidth===null&&(this.titleWidth=32),this.titleHeight===null&&(this.titleHeight=32));this.wheelnav.titleHoverWidth!==null&&this.titleHoverWidth===null&&(this.titleHoverWidth=this.wheelnav.titleHoverWidth);this.wheelnav.titleHoverHeight!==null&&this.titleHoverHeight===null&&(this.titleHoverHeight=this.wheelnav.titleHoverHeight);this.titleHoverWidth!==null&&this.titleHoverHeight===null&&(this.titleHoverHeight=this.titleHoverWidth);this.titleHoverWidth===null&&this.titleHoverHeight!==null&&(this.titleHoverWidth=this.titleHoverHeight);this.wheelnav.titleSelectedWidth!==null&&this.titleSelectedWidth===null&&(this.titleSelectedWidth=this.wheelnav.titleSelectedWidth);this.wheelnav.titleSelectedHeight!==null&&this.titleSelectedHeight===null&&(this.titleSelectedHeight=this.wheelnav.titleSelectedHeight);this.titleSelectedWidth!==null&&this.titleSelectedHeight===null&&(this.titleSelectedHeight=this.titleSelectedWidth);this.titleSelectedWidth===null&&this.titleSelectedHeight!==null&&(this.titleSelectedWidth=this.titleSelectedHeight);this.titleHoverHeight===null&&(this.titleHoverHeight=this.titleHeight);this.titleHoverWidth===null&&(this.titleHoverWidth=this.titleWidth);this.titleSelectedHeight===null&&(this.titleSelectedHeight=this.titleHeight);this.titleSelectedWidth===null&&(this.titleSelectedWidth=this.titleWidth);this.wheelnav.linePathAttr!==null&&(this.linePathAttr=JSON.parse(JSON.stringify(this.wheelnav.linePathAttr)));this.wheelnav.lineHoverAttr!==null&&(this.lineHoverAttr=JSON.parse(JSON.stringify(this.wheelnav.lineHoverAttr)));this.wheelnav.lineSelectedAttr!==null&&(this.lineSelectedAttr=JSON.parse(JSON.stringify(this.wheelnav.lineSelectedAttr)));(this.animateeffect===null||n)&&(this.animateeffect=this.wheelnav.animateeffect!==null?this.wheelnav.animateeffect:"bounce");(this.animatetime===null||n)&&(this.animatetime=this.wheelnav.animatetime!==null?this.wheelnav.animatetime:1500);this.title!==null?((this.sliceInitPathFunction===null||n)&&(this.sliceInitPathFunction=this.wheelnav.sliceInitPathFunction),(this.sliceClickablePathFunction===null||n)&&(this.sliceClickablePathFunction=this.wheelnav.sliceClickablePathFunction),(this.slicePathFunction===null||n)&&(this.slicePathFunction=this.wheelnav.slicePathFunction),(this.sliceSelectedPathFunction===null||n)&&(this.sliceSelectedPathFunction=this.wheelnav.sliceSelectedPathFunction),(this.sliceHoverPathFunction===null||n)&&(this.sliceHoverPathFunction=this.wheelnav.sliceHoverPathFunction),(this.sliceTransformFunction===null||n)&&(this.sliceTransformFunction=this.wheelnav.sliceTransformFunction),(this.sliceSelectedTransformFunction===null||n)&&(this.sliceSelectedTransformFunction=this.wheelnav.sliceSelectedTransformFunction),(this.sliceHoverTransformFunction===null||n)&&(this.sliceHoverTransformFunction=this.wheelnav.sliceHoverTransformFunction),(this.sliceInitTransformFunction===null||n)&&(this.sliceInitTransformFunction=this.wheelnav.sliceInitTransformFunction)):(this.sliceInitPathFunction=slicePath().NullInitSlice,this.sliceClickablePathFunction=slicePath().NullSlice,this.slicePathFunction=slicePath().NullSlice,this.sliceSelectedPathFunction=null,this.sliceHoverPathFunction=null,this.sliceTransformFunction=null,this.sliceSelectedTransformFunction=null,this.sliceHoverTransformFunction=null,this.sliceInitTransformFunction=null);(this.slicePathCustom===null||n)&&(this.slicePathCustom=this.wheelnav.slicePathCustom);(this.sliceClickablePathCustom===null||n)&&(this.sliceClickablePathCustom=this.wheelnav.sliceClickablePathCustom);(this.sliceSelectedPathCustom===null||n)&&(this.sliceSelectedPathCustom=this.wheelnav.sliceSelectedPathCustom);(this.sliceHoverPathCustom===null||n)&&(this.sliceHoverPathCustom=this.wheelnav.sliceHoverPathCustom);(this.sliceInitPathCustom===null||n)&&(this.sliceInitPathCustom=this.wheelnav.sliceInitPathCustom);(this.sliceTransformCustom===null||n)&&(this.sliceTransformCustom=this.wheelnav.sliceTransformCustom);(this.sliceSelectedTransformCustom===null||n)&&(this.sliceSelectedTransformCustom=this.wheelnav.sliceSelectedTransformCustom);(this.sliceHoverTransformCustom===null||n)&&(this.sliceHoverTransformCustom=this.wheelnav.sliceHoverTransformCustom);(this.sliceInitTransformCustom===null||n)&&(this.sliceInitTransformCustom=this.wheelnav.sliceInitTransformCustom);(this.initPercent===null||n)&&(this.initPercent=this.wheelnav.initPercent);(this.minPercent===null||n)&&(this.minPercent=this.wheelnav.minPercent);(this.maxPercent===null||n)&&(this.maxPercent=this.wheelnav.maxPercent);(this.hoverPercent===null||n)&&(this.hoverPercent=this.wheelnav.hoverPercent);(this.selectedPercent===null||n)&&(this.selectedPercent=this.wheelnav.selectedPercent);(this.clickablePercentMin===null||n)&&(this.clickablePercentMin=this.wheelnav.clickablePercentMin);(this.clickablePercentMax===null||n)&&(this.clickablePercentMax=this.wheelnav.clickablePercentMax);(this.titleSpreadScale===null||n)&&(this.titleSpreadScale=this.wheelnav.titleSpreadScale!==null?this.wheelnav.titleSpreadScale:!1);(this.sliceAngle===null||n)&&this.wheelnav.sliceAngle!==null&&(this.sliceAngle=this.wheelnav.sliceAngle)};wheelnavItem.prototype.initPathsAndTransforms=function(){this.sliceHelper=new pathHelper;this.sliceHelper.centerX=this.wheelnav.centerX;this.sliceHelper.centerY=this.wheelnav.centerY;this.sliceHelper.wheelRadius=this.wheelnav.wheelRadius;this.sliceHelper.startAngle=this.baseAngle;this.sliceHelper.sliceAngle=this.sliceAngle;this.sliceHelper.itemIndex=this.itemIndex;this.sliceHelper.titleCurvedClockwise=this.titleCurvedClockwise;this.slicePathMin=this.slicePathFunction(this.sliceHelper,this.minPercent,this.slicePathCustom);this.slicePathMax=this.slicePathFunction(this.sliceHelper,this.maxPercent,this.slicePathCustom);this.selectedSlicePathMin=this.sliceSelectedPathFunction!==null?this.sliceSelectedPathFunction(this.sliceHelper,this.selectedPercent*this.minPercent,this.sliceSelectedPathCustom):this.slicePathFunction(this.sliceHelper,this.selectedPercent*this.minPercent,this.sliceSelectedPathCustom);this.selectedSlicePathMax=this.sliceSelectedPathFunction!==null?this.sliceSelectedPathFunction(this.sliceHelper,this.selectedPercent*this.maxPercent,this.sliceSelectedPathCustom):this.slicePathFunction(this.sliceHelper,this.selectedPercent*this.maxPercent,this.sliceSelectedPathCustom);this.hoverSlicePathMin=this.sliceHoverPathFunction!==null?this.sliceHoverPathFunction(this.sliceHelper,this.hoverPercent*this.minPercent,this.sliceHoverPathCustom):this.slicePathFunction(this.sliceHelper,this.hoverPercent*this.minPercent,this.sliceHoverPathCustom);this.hoverSlicePathMax=this.sliceHoverPathFunction!==null?this.sliceHoverPathFunction(this.sliceHelper,this.hoverPercent*this.maxPercent,this.sliceHoverPathCustom):this.slicePathFunction(this.sliceHelper,this.hoverPercent*this.maxPercent,this.sliceHoverPathCustom);this.sliceClickablePathFunction!==null&&(this.clickableSlicePathMin=this.sliceClickablePathFunction(this.sliceHelper,this.clickablePercentMin,this.sliceClickablePathCustom),this.clickableSlicePathMax=this.sliceClickablePathFunction(this.sliceHelper,this.clickablePercentMax,this.sliceClickablePathCustom));this.sliceInitPath=this.sliceInitPathFunction!==null?this.sliceInitPathFunction(this.sliceHelper,this.initPercent,this.sliceInitPathCustom):this.wheelnav.currentPercent===this.wheelnav.maxPercent?this.slicePathFunction(this.sliceHelper,this.maxPercent,this.sliceInitPathCustom):this.slicePathFunction(this.sliceHelper,this.minPercent,this.sliceInitPathCustom);this.sliceTransform=this.sliceTransformFunction!==null?this.sliceTransformFunction(this.wheelnav.centerX,this.wheelnav.centerY,this.wheelnav.wheelRadius,this.baseAngle,this.sliceAngle,this.titleRotateAngle,this.itemIndex,this.sliceTransformCustom):sliceTransform().NullTransform;this.selectTransform=this.sliceSelectedTransformFunction!==null?this.sliceSelectedTransformFunction(this.wheelnav.centerX,this.wheelnav.centerY,this.wheelnav.wheelRadius,this.baseAngle,this.sliceAngle,this.titleRotateAngle,this.itemIndex,this.sliceSelectedTransformCustom):sliceTransform().NullTransform;this.hoverTransform=this.sliceHoverTransformFunction!==null?this.sliceHoverTransformFunction(this.wheelnav.centerX,this.wheelnav.centerY,this.wheelnav.wheelRadius,this.baseAngle,this.sliceAngle,this.titleRotateAngle,this.itemIndex,this.sliceHoverTransformCustom):sliceTransform().NullTransform;this.initTransform=this.sliceInitTransformFunction!==null?this.sliceInitTransformFunction(this.wheelnav.centerX,this.wheelnav.centerY,this.wheelnav.wheelRadius,this.baseAngle,this.sliceAngle,this.titleRotateAngle,this.itemIndex,this.sliceInitTransformCustom):sliceTransform().NullTransform;wheelnavTitle().isPathTitle(this.title)?(initNavTitle=new wheelnavTitle(this.title,this.wheelnav.raphael.raphael),basicNavTitleMin=new wheelnavTitle(this.title,this.wheelnav.raphael.raphael),basicNavTitleMax=new wheelnavTitle(this.title,this.wheelnav.raphael.raphael),hoverNavTitleMin=new wheelnavTitle(this.titleHover,this.wheelnav.raphael.raphael),hoverNavTitleMax=new wheelnavTitle(this.titleHover,this.wheelnav.raphael.raphael),selectedNavTitleMin=new wheelnavTitle(this.titleSelected,this.wheelnav.raphael.raphael),selectedNavTitleMax=new wheelnavTitle(this.titleSelected,this.wheelnav.raphael.raphael),this.navTitleSizeTransform=basicNavTitleMax.getTitleSizeTransform(this.titleWidth,this.titleHeight),this.navTitleSizeHoverTransform=hoverNavTitleMax.getTitleSizeTransform(this.titleHoverWidth,this.titleHoverHeight),this.navTitleSizeSelectedTransform=selectedNavTitleMax.getTitleSizeTransform(this.titleSelectedWidth,this.titleSelectedHeight)):(initNavTitle=new wheelnavTitle(this.title),basicNavTitleMin=new wheelnavTitle(this.title),basicNavTitleMax=new wheelnavTitle(this.title),hoverNavTitleMin=new wheelnavTitle(this.titleHover),hoverNavTitleMax=new wheelnavTitle(this.titleHover),selectedNavTitleMin=new wheelnavTitle(this.titleSelected),selectedNavTitleMax=new wheelnavTitle(this.titleSelected));this.initNavTitle=initNavTitle.getTitlePercentAttr(this.sliceInitPath.titlePosX,this.sliceInitPath.titlePosY,this.titleWidth,this.titleHeight);this.basicNavTitleMin=basicNavTitleMin.getTitlePercentAttr(this.slicePathMin.titlePosX,this.slicePathMin.titlePosY,this.titleWidth,this.titleHeight);this.basicNavTitleMax=basicNavTitleMax.getTitlePercentAttr(this.slicePathMax.titlePosX,this.slicePathMax.titlePosY,this.titleWidth,this.titleHeight);this.hoverNavTitleMin=hoverNavTitleMin.getTitlePercentAttr(this.hoverSlicePathMin.titlePosX,this.hoverSlicePathMin.titlePosY,this.titleHoverWidth,this.titleHoverHeight);this.hoverNavTitleMax=hoverNavTitleMax.getTitlePercentAttr(this.hoverSlicePathMax.titlePosX,this.hoverSlicePathMax.titlePosY,this.titleHoverWidth,this.titleHoverHeight);this.selectedNavTitleMin=selectedNavTitleMin.getTitlePercentAttr(this.selectedSlicePathMin.titlePosX,this.selectedSlicePathMin.titlePosY,this.titleSelectedWidth,this.titleSelectedHeight);this.selectedNavTitleMax=selectedNavTitleMax.getTitlePercentAttr(this.selectedSlicePathMax.titlePosX,this.selectedSlicePathMax.titlePosY,this.titleSelectedWidth,this.titleSelectedHeight)};wheelnavItem.prototype.getCurrentPath=function(){return this.wheelnav.currentPercent===this.wheelnav.maxPercent?this.selected?this.selectedSlicePathMax:this.hovered?this.hoverSlicePathMax:this.slicePathMax:this.selected?this.selectedSlicePathMin:this.hovered?this.hoverSlicePathMin:this.slicePathMin};wheelnavItem.prototype.getCurrentClickablePath=function(){return this.wheelnav.currentPercent===this.wheelnav.maxPercent?this.clickableSlicePathMax:this.clickableSlicePathMin};wheelnavItem.prototype.getCurrentTitle=function(){return this.wheelnav.currentPercent===this.wheelnav.maxPercent?this.selected?this.selectedNavTitleMax:this.hovered?this.hoverNavTitleMax:this.basicNavTitleMax:this.selected?this.selectedNavTitleMin:this.hovered?this.hoverNavTitleMin:this.basicNavTitleMin};wheelnavItem.prototype.getItemRotateString=function(){return"r,"+this.currentRotateAngle.toString()+","+this.wheelnav.centerX+","+this.wheelnav.centerY};wheelnavItem.prototype.getTitleRotateString=function(n){var t="";return t+=this.getItemRotateString(),t+(this.titleRotateAngle!==null&&n?",r,"+(this.navAngle+this.titleRotateAngle).toString():",r,"+(-this.currentRotateAngle).toString())};wheelnavTitle=function(n,t){if(this.title=n,n!==null){if(t!==undefined){this.relativePath=t.pathToRelative(n);var i=t.pathBBox(this.relativePath);this.centerX=i.cx;this.centerY=i.cy;this.width=i.width;this.height=i.height;this.startX=this.relativePath[0][1];this.startY=this.relativePath[0][2]}this.title=n}else this.title="";return this.isPathTitle=function(n){return n!==null&&(n.substr(0,1)==="m"||n.substr(0,1)==="M")&&(n.substr(n.length-1,1)==="z"||n.substr(n.length-1,1)==="Z")&&(n.indexOf(",")>-1||n.indexOf(" ")>-1)?!0:!1},this.isImageTitle=function(n){return n===undefined&&(n=this.title),n!==null&&n.substr(0,7)==="imgsrc:"?!0:!1},this};wheelnavTitle.prototype.getTitlePercentAttr=function(n,t,i,r){var u={},f,e;return this.relativePath!==undefined?(f=n+(this.startX-this.centerX),e=t+(this.startY-this.centerY),this.relativePath[0][1]=f,this.relativePath[0][2]=e,u={path:this.relativePath,title:this.title}):u=this.isImageTitle()?{x:n-i/2,y:t-r/2,width:i,height:r,title:this.title,src:this.title.substr(7,this.title.length)}:{x:n,y:t,title:this.title},u};wheelnavTitle.prototype.getTitleSizeTransform=function(n,t){var i="";return n!==null&&t!==null&&(i="s",this.height>this.width?(i+=(n/this.height).toString()+",",i+=(t/this.height).toString()):(i+=(n/this.width).toString()+",",i+=(t/this.width).toString())),i};wheelnav.prototype.styleWheel=function(){this.cssMode?(this.spreaderPathInAttr={"class":this.getSpreaderCssClass("in")},this.spreaderPathOutAttr={"class":this.getSpreaderCssClass("out")},this.spreaderTitleInAttr={"class":this.getSpreaderTitleCssClass("in")},this.spreaderTitleOutAttr={"class":this.getSpreaderTitleCssClass("out")},this.markerAttr={"class":this.getMarkerCssClass()}):((this.spreaderPathInAttr===undefined||this.spreaderPathInAttr===null)&&(this.spreaderPathInAttr={fill:"#f6bc53",stroke:"#f6bc53","stroke-width":2,cursor:"pointer"}),(this.spreaderPathOutAttr===undefined||this.spreaderPathOutAttr===null)&&(this.spreaderPathOutAttr={fill:"#f6bc53",stroke:"#f6bc53","stroke-width":2,cursor:"pointer"}),(this.spreaderTitleInAttr===undefined||this.spreaderTitleInAttr===null)&&(this.spreaderTitleInAttr={fill:"#e98b07",stroke:"#f6bc53",cursor:"pointer"}),(this.spreaderTitleOutAttr===undefined||this.spreaderTitleOutAttr===null)&&(this.spreaderTitleOutAttr={fill:"#e98b07",stroke:"#f6bc53",cursor:"pointer"}),(this.markerAttr===undefined||this.markerAttr===null)&&(this.markerAttr={stroke:"#f6bc53","stroke-width":3}))};wheelnavItem.prototype.styleNavItem=function(){this.wheelnav.cssMode?(this.slicePathAttr={"class":this.wheelnav.getSliceCssClass(this.wheelItemIndex,"basic")},this.sliceHoverAttr={"class":this.wheelnav.getSliceCssClass(this.wheelItemIndex,"hover")},this.sliceSelectedAttr={"class":this.wheelnav.getSliceCssClass(this.wheelItemIndex,"selected")},this.titleAttr={"class":this.wheelnav.getTitleCssClass(this.wheelItemIndex,"basic")},this.titleHoverAttr={"class":this.wheelnav.getTitleCssClass(this.wheelItemIndex,"hover")},this.titleSelectedAttr={"class":this.wheelnav.getTitleCssClass(this.wheelItemIndex,"selected")},this.linePathAttr={"class":this.wheelnav.getLineCssClass(this.wheelItemIndex,"basic")},this.lineHoverAttr={"class":this.wheelnav.getLineCssClass(this.wheelItemIndex,"hover")},this.lineSelectedAttr={"class":this.wheelnav.getLineCssClass(this.wheelItemIndex,"selected")}):(this.slicePathAttr={stroke:"#333","stroke-width":0,cursor:"pointer","fill-opacity":1},this.sliceHoverAttr={stroke:"#222","stroke-width":0,cursor:"pointer","fill-opacity":.77},this.sliceSelectedAttr={stroke:"#111","stroke-width":0,cursor:"default","fill-opacity":1},this.titleAttr={font:this.titleFont,fill:"#333",stroke:"none",cursor:"pointer"},this.titleHoverAttr={font:this.titleFont,fill:"#222",cursor:"pointer",stroke:"none"},this.titleSelectedAttr={font:this.titleFont,fill:"#fff",cursor:"default"},this.linePathAttr={stroke:"#444","stroke-width":1,cursor:"pointer"},this.lineHoverAttr={stroke:"#222","stroke-width":2,cursor:"pointer"},this.lineSelectedAttr={stroke:"#444","stroke-width":1,cursor:"default"});this.sliceClickablePathAttr={fill:"#FFF",stroke:"#FFF","stroke-width":0,cursor:"pointer","fill-opacity":.01};this.sliceClickableHoverAttr={stroke:"#FFF","stroke-width":0,cursor:"pointer"};this.sliceClickableSelectedAttr={stroke:"#FFF","stroke-width":0,cursor:"default"}};wheelnav.prototype.getSliceCssClass=function(n,t){return"wheelnav-"+this.holderId+"-slice-"+t+"-"+n};wheelnav.prototype.getTitleCssClass=function(n,t){return"wheelnav-"+this.holderId+"-title-"+t+"-"+n};wheelnav.prototype.getLineCssClass=function(n,t){return"wheelnav-"+this.holderId+"-line-"+t+"-"+n};wheelnav.prototype.getSpreaderCssClass=function(n){return"wheelnav-"+this.holderId+"-spreader-"+n};wheelnav.prototype.getSpreaderTitleCssClass=function(n){return"wheelnav-"+this.holderId+"-spreadertitle-"+n};wheelnav.prototype.getMarkerCssClass=function(){return"wheelnav-"+this.holderId+"-marker"};var pathHelper=function(){return this.sliceRadius=0,this.startAngle=0,this.middleAngle=0,this.endAngle=0,this.sliceAngle=0,this.startTheta=0,this.middleTheta=0,this.endTheta=0,this.titlePosX=0,this.titlePosY=0,this.titleRadius=0,this.titleTheta=0,this.titleAngle=0,this.custom=null,this.centerX=0,this.centerY=0,this.wheelRadius=0,this.itemIndex=0,this.navItemCount=0,this.navAngle=0,this.titleCurvedClockwise=!1,this.setBaseValue=function(n,t){t===null?t=new slicePathCustomization:this.custom=t;this.sliceRadius=this.wheelRadius*n*.9;this.middleAngle=this.startAngle+this.sliceAngle/2;this.endAngle=this.startAngle+this.sliceAngle;this.startTheta=this.getTheta(this.startAngle);this.middleTheta=this.getTheta(this.middleAngle);this.endTheta=this.getTheta(this.endAngle);t!==null?(t.titleRadiusPercent!==null&&(this.titleRadius=this.sliceRadius*t.titleRadiusPercent),t.titleSliceAnglePercent!==null&&(this.titleTheta=this.getTheta(this.startAngle+this.sliceAngle*t.titleSliceAnglePercent),this.titleAngle=this.startAngle+this.sliceAngle*t.titleSliceAnglePercent)):(this.titleRadius=this.sliceRadius*.5,this.titleTheta=this.middleTheta,this.titleAngle=this.middleAngle);this.setTitlePos()},this.setTitlePos=function(){this.titlePosX=this.titleRadius*Math.cos(this.titleTheta)+this.centerX;this.titlePosY=this.titleRadius*Math.sin(this.titleTheta)+this.centerY},this.getX=function(n,t){return t*Math.cos(this.getTheta(n))+this.centerX},this.getY=function(n,t){return t*Math.sin(this.getTheta(n))+this.centerY},this.MoveTo=function(n,t){return["M",this.getX(n,t),this.getY(n,t)]},this.MoveToXY=function(n,t){return["M",n,t]},this.MoveToCenter=function(){return["M",this.centerX,this.centerY]},this.LineTo=function(n,t,i,r){return i===undefined&&(i=n),r===undefined&&(r=t),["L",this.getX(n,t),this.getY(i,r)]},this.LineToXY=function(n,t){return["L",n,t]},this.ArcTo=function(n,t,i){return["A",n,n,0,0,1,this.getX(t,i),this.getY(t,i)]},this.ArcToXY=function(n,t,i){return["A",n,n,0,0,1,t,i]},this.ArcBackTo=function(n,t,i){return["A",n,n,0,0,0,this.getX(t,i),this.getY(t,i)]},this.ArcBackToXY=function(n,t,i){return["A",n,n,0,0,0,t,i]},this.CubicBezierTo=function(n,t,i,r,u,f){return["C",this.getX(n,t),this.getY(n,t),this.getX(i,r),this.getY(i,r),this.getX(u,f),this.getY(u,f)]},this.CubicBezierToXY=function(n,t,i,r,u,f){return["C",n,t,i,r,u,f]},this.StartSpreader=function(n,t,i){this.endAngle-this.startAngle==360?n.push(this.MoveTo(t,i)):(n.push(this.MoveToCenter()),n.push(this.LineTo(t,i)))},this.getCurvedTitlePathString=function(){var t=this.titleAngle-this.sliceAngle/2,i=this.titleAngle+this.sliceAngle/2,n=[];return this.titleCurvedClockwise?(n.push(this.MoveTo(t,this.titleRadius)),n.push(this.ArcTo(this.titleRadius,i,this.titleRadius))):(n.push(this.MoveTo(i,this.titleRadius)),n.push(this.ArcBackTo(this.titleRadius,t,this.titleRadius))),n},this.Close=function(){return["z"]},this.getTheta=function(n){return n%360*Math.PI/180},this.radians=function(n){return n*Math.PI/180},this.degrees=function(n){return n*180/Math.PI},this},slicePathCustomization=function(){return this.titleRadiusPercent=.5,this.titleSliceAnglePercent=.5,this},spreaderPathCustomization=function(){return this.titleRadiusPercent=0,this.titleSliceAnglePercent=.5,this.spreaderPercent=1,this},markerPathCustomization=function(){return this.titleRadiusPercent=1,this.titleSliceAnglePercent=.5,this.markerPercent=1.05,this};slicePath=function(){return this.NullSlice=function(n,t,i){return n.setBaseValue(t,i),titlePathString=n.getCurvedTitlePathString(),{slicePathString:"",linePathString:"",titlePosX:n.titlePosX,titlePosY:n.titlePosY,titlePathString:titlePathString}},this.NullInitSlice=function(n,t,i){return n.setBaseValue(t,i),slicePathString=[n.MoveToCenter(),n.Close()],titlePathString=n.getCurvedTitlePathString(),{slicePathString:slicePathString,linePathString:slicePathString,titlePosX:n.centerX,titlePosY:n.centerY,titlePathString:titlePathString}},this.PieSliceCustomization=function(){var n=new slicePathCustomization;return n.titleRadiusPercent=.6,n.arcBaseRadiusPercent=1,n.arcRadiusPercent=1,n.startRadiusPercent=0,n},this.PieSlice=function(n,t,i){i===null&&(i=PieSliceCustomization());n.setBaseValue(t,i);var r=n.sliceRadius*i.arcBaseRadiusPercent,u=n.sliceRadius*i.arcRadiusPercent;return slicePathString=[],slicePathString.push(n.MoveTo(n.middleAngle,i.startRadiusPercent*n.sliceRadius)),slicePathString.push(n.LineTo(n.startAngle,r)),n.sliceAngle>180&&slicePathString.push(n.ArcTo(u,n.middleAngle,r)),slicePathString.push(n.ArcTo(u,n.endAngle,r)),slicePathString.push(n.Close()),titlePathString=n.getCurvedTitlePathString(),{slicePathString:slicePathString,linePathString:"",titlePosX:n.titlePosX,titlePosY:n.titlePosY,titlePathString:titlePathString}},this.FlowerSlice=function(n,t,i){i===null&&(i=PieSliceCustomization(),i.titleRadiusPercent=.5,i.arcBaseRadiusPercent=.65,i.arcRadiusPercent=.14);var r=PieSlice(n,t,i);return{slicePathString:r.slicePathString,linePathString:"",titlePosX:r.titlePosX,titlePosY:r.titlePosY,titlePathString:r.titlePathString}},this.PieArrowSliceCustomization=function(){var n=new slicePathCustomization;return n.titleRadiusPercent=.6,n.arrowRadiusPercent=1.1,n},this.PieArrowSlice=function(n,t,i){i===null&&(i=PieArrowSliceCustomization());n.setBaseValue(t,i);r=n.sliceRadius;arrowAngleStart=n.startAngle+n.sliceAngle*.45;arrowAngleEnd=n.startAngle+n.sliceAngle*.55;var u=r*i.arrowRadiusPercent;return slicePathString=[n.MoveToCenter(),n.LineTo(n.startAngle,r),n.ArcTo(r,arrowAngleStart,r),n.LineTo(n.middleAngle,u),n.LineTo(arrowAngleEnd,r),n.ArcTo(r,n.endAngle,r),n.Close()],titlePathString=n.getCurvedTitlePathString(),{slicePathString:slicePathString,linePathString:"",titlePosX:n.titlePosX,titlePosY:n.titlePosY,titlePathString:titlePathString}},this.PieArrowBasePieSlice=function(n,t,i){i===null&&(i=PieArrowSliceCustomization());i.arrowRadiusPercent=1;var r=PieArrowSlice(n,t,i);return{slicePathString:r.slicePathString,linePathString:"",titlePosX:r.titlePosX,titlePosY:r.titlePosY,titlePathString:r.titlePathString}},this.DonutSliceCustomization=function(){var n=new slicePathCustomization;return n.minRadiusPercent=.37,n.maxRadiusPercent=.9,n},this.DonutSlice=function(n,t,i){return i===null&&(i=DonutSliceCustomization()),maxRadius=n.wheelRadius*t*i.maxRadiusPercent,minRadius=n.wheelRadius*t*i.minRadiusPercent,n.setBaseValue(t,i),n.titleRadius=(maxRadius+minRadius)/2,n.setTitlePos(),slicePathString=[n.MoveTo(n.startAngle,minRadius),n.LineTo(n.startAngle,maxRadius),n.ArcTo(maxRadius,n.middleAngle,maxRadius),n.ArcTo(maxRadius,n.endAngle,maxRadius),n.LineTo(n.endAngle,minRadius),n.ArcBackTo(minRadius,n.middleAngle,minRadius),n.ArcBackTo(minRadius,n.startAngle,minRadius),n.Close()],titlePathString=n.getCurvedTitlePathString(),{slicePathString:slicePathString,linePathString:"",titlePosX:n.titlePosX,titlePosY:n.titlePosY,titlePathString:titlePathString}},this.CogSliceCustomization=function(){var n=new slicePathCustomization;return n.titleRadiusPercent=.55,n.isBasePieSlice=!1,n},this.CogSlice=function(n,t,i){return i===null&&(i=CogSliceCustomization()),n.setBaseValue(t,i),r=n.sliceRadius,rbase=n.wheelRadius*t*.83,percentAngle0625=n.startAngle+n.sliceAngle*.0625,percentAngle1250=n.startAngle+n.sliceAngle*.125,percentAngle1875=n.startAngle+n.sliceAngle*.1875,percentAngle2500=n.startAngle+n.sliceAngle*.25,percentAngle3125=n.startAngle+n.sliceAngle*.3125,percentAngle3750=n.startAngle+n.sliceAngle*.375,percentAngle4375=n.startAngle+n.sliceAngle*.4375,percentAngle5000=n.startAngle+n.sliceAngle*.5,percentAngle5625=n.startAngle+n.sliceAngle*.5625,percentAngle6250=n.startAngle+n.sliceAngle*.625,percentAngle6875=n.startAngle+n.sliceAngle*.6875,percentAngle7500=n.startAngle+n.sliceAngle*.75,percentAngle8125=n.startAngle+n.sliceAngle*.8125,percentAngle8750=n.startAngle+n.sliceAngle*.875,percentAngle9375=n.startAngle+n.sliceAngle*.9375,percentAngle9687=n.startAngle+n.sliceAngle*.96875,i.isBasePieSlice?(r=rbase,slicePathString=[n.MoveToCenter(),n.LineTo(n.startAngle,r),n.ArcTo(r,percentAngle0625,r),n.ArcTo(r,percentAngle1250,r),n.ArcTo(r,percentAngle1875,r),n.ArcTo(r,percentAngle2500,r),n.ArcTo(r,percentAngle3125,r),n.ArcTo(r,percentAngle3750,r),n.ArcTo(r,percentAngle4375,r),n.ArcTo(r,percentAngle5000,r),n.ArcTo(r,percentAngle5625,r),n.ArcTo(r,percentAngle6250,r),n.ArcTo(r,percentAngle6875,r),n.ArcTo(r,percentAngle7500,r),n.ArcTo(r,percentAngle8125,r),n.ArcTo(r,percentAngle8750,r),n.ArcTo(r,percentAngle9375,r),n.ArcTo(r,percentAngle9687,r),n.ArcTo(r,n.endAngle,r),n.Close()]):slicePathString=[n.MoveToCenter(),n.LineTo(n.startAngle,r),n.ArcTo(r,percentAngle0625,r),n.LineTo(percentAngle0625,rbase),n.ArcTo(rbase,percentAngle1875,rbase),n.LineTo(percentAngle1875,r),n.ArcTo(r,percentAngle3125,r),n.LineTo(percentAngle3125,rbase),n.ArcTo(rbase,percentAngle4375,rbase),n.LineTo(percentAngle4375,r),n.ArcTo(r,percentAngle5625,r),n.LineTo(percentAngle5625,rbase),n.ArcTo(rbase,percentAngle6875,rbase),n.LineTo(percentAngle6875,r),n.ArcTo(r,percentAngle8125,r),n.LineTo(percentAngle8125,rbase),n.ArcTo(rbase,percentAngle9375,rbase),n.LineTo(percentAngle9375,r),n.ArcTo(r,n.endAngle,r),n.Close()],titlePathString=n.getCurvedTitlePathString(),{slicePathString:slicePathString,linePathString:"",titlePosX:n.titlePosX,titlePosY:n.titlePosY,titlePathString:titlePathString}},this.CogBasePieSlice=function(n,t,i){i===null&&(i=CogSliceCustomization());i.isBasePieSlice=!0;var r=CogSlice(n,t,i);return{slicePathString:r.slicePathString,linePathString:"",titlePosX:r.titlePosX,titlePosY:r.titlePosY,titlePathString:r.titlePathString}},this.StarSliceCustomization=function(){var n=new slicePathCustomization;return n.titleRadiusPercent=.44,n.minRadiusPercent=.5,n.isBasePieSlice=!1,n},this.StarSlice=function(n,t,i){return i===null&&(i=StarSliceCustomization()),n.setBaseValue(t,i),r=n.wheelRadius*t,rbase=r*i.minRadiusPercent,i.isBasePieSlice?(r=n.sliceRadius,slicePathString=[n.MoveToCenter(),n.LineTo(n.startAngle,r),n.ArcTo(r,n.middleAngle,r),n.ArcTo(r,n.endAngle,r),n.Close()]):slicePathString=[n.MoveToCenter(),n.LineTo(n.startAngle,rbase),n.LineTo(n.middleAngle,r),n.LineTo(n.endAngle,rbase),n.Close()],titlePathString=n.getCurvedTitlePathString(),{slicePathString:slicePathString,linePathString:"",titlePosX:n.titlePosX,titlePosY:n.titlePosY,titlePathString:titlePathString}},this.StarBasePieSlice=function(n,t,i){i===null&&(i=StarSliceCustomization());i.titleRadiusPercent=.6;i.isBasePieSlice=!0;var r=StarSlice(n,t,i);return{slicePathString:r.slicePathString,linePathString:"",titlePosX:r.titlePosX,titlePosY:r.titlePosY,titlePathString:r.titlePathString}},this.MenuSliceCustomization=function(){var n=new slicePathCustomization;return n.menuRadius=35,n.titleRadiusPercent=.63,n.isSelectedLine=!1,n.lineBaseRadiusPercent=0,n},this.MenuSlice=function(n,t,i){var u,r;return i===null&&(i=MenuSliceCustomization()),n.setBaseValue(t,i),x=n.centerX,y=n.centerY,u=n.wheelRadius*t,n.titleRadius=u*i.titleRadiusPercent,n.setTitlePos(),r=t*i.menuRadius,t<=.05&&(r=10),middleTheta=n.middleTheta,slicePathString=[["M",n.titlePosX-r*Math.cos(middleTheta),n.titlePosY-r*Math.sin(middleTheta)],["A",r,r,0,0,1,n.titlePosX+r*Math.cos(middleTheta),n.titlePosY+r*Math.sin(middleTheta)],["A",r,r,0,0,1,n.titlePosX-r*Math.cos(middleTheta),n.titlePosY-r*Math.sin(middleTheta)],["z"]],linePathString=t<=.05?[["M",x,y],["A",1,1,0,0,1,x+1,y+1]]:i.isSelectedLine?[n.MoveTo(n.middleAngle,i.lineBaseRadiusPercent*u),n.ArcTo(u/3,n.middleAngle,n.titleRadius-r)]:[n.MoveTo(n.middleAngle,i.lineBaseRadiusPercent*u),n.ArcTo(u/2,n.middleAngle,n.titleRadius-r)],titlePathString=n.getCurvedTitlePathString(),{slicePathString:slicePathString,linePathString:linePathString,titlePosX:n.titlePosX,titlePosY:n.titlePosY,titlePathString:titlePathString}},this.MenuSliceSelectedLine=function(n,t,i){i===null&&(i=MenuSliceCustomization());i.isSelectedLine=!0;var r=MenuSlice(n,t,i);return{slicePathString:r.slicePathString,linePathString:r.linePathString,titlePosX:r.titlePosX,titlePosY:r.titlePosY,titlePathString:r.titlePathString}},this.MenuSliceWithoutLine=function(n,t,i){var r=MenuSlice(n,t,i);return{slicePathString:r.slicePathString,linePathString:"",titlePosX:r.titlePosX,titlePosY:r.titlePosY,titlePathString:r.titlePathString}},this.LineSlice=function(n,t,i){return n.setBaseValue(t,i),r=n.sliceRadius,n.sliceAngle>60&&n.sliceAngle<180?(n.titleRadius=r*(36/n.sliceAngle),n.setTitlePos()):(n.titleRadius=r*.55,n.setTitlePos()),slicePathString=n.sliceAngle<180?[n.MoveToCenter(),n.LineTo(n.startAngle,r),n.LineTo(n.endAngle,r),n.Close()]:n.startAngle===180||n.startAngle===0||n.startAngle===-180||n.startAngle===360?[n.MoveToCenter(),n.LineTo(n.startAngle,r),n.LineTo(n.startAngle,r,n.middleAngle,r),n.LineTo(n.endAngle,r,n.middleAngle,r),n.LineTo(n.endAngle,r),n.Close()]:[n.MoveToCenter(),n.LineTo(n.startAngle,r),n.LineTo(n.middleAngle,r,n.startAngle,r),n.LineTo(n.middleAngle,r,n.endAngle,r),n.LineTo(n.endAngle,r),n.Close()],titlePathString=n.getCurvedTitlePathString(),{slicePathString:slicePathString,linePathString:"",titlePosX:n.titlePosX,titlePosY:n.titlePosY,titlePathString:titlePathString}},this.EyeSliceCustomization=function(){var n=new slicePathCustomization;return n.titleRadiusPercent=.68,n},this.EyeSlice=function(n,t,i){return i===null&&(i=EyeSliceCustomization()),n.setBaseValue(t,i),r=n.wheelRadius*t*.7,t===0&&(r=.01),startAngle=n.startAngle,endAngle=n.endAngle,n.sliceAngle===180&&(startAngle=n.startAngle+n.sliceAngle/4,endAngle=n.startAngle+n.sliceAngle-n.sliceAngle/4),slicePathString=[n.MoveTo(endAngle,r),n.ArcTo(r,startAngle,r),n.ArcTo(r,endAngle,r),n.Close()],titlePathString=n.getCurvedTitlePathString(),{slicePathString:slicePathString,linePathString:"",titlePosX:n.titlePosX,titlePosY:n.titlePosY,titlePathString:titlePathString}},this.WheelSlice=function(n,t,i){n.setBaseValue(t,i);x=n.centerX;y=n.centerY;r=n.sliceRadius;startTheta=n.startTheta;middleTheta=n.middleTheta;endTheta=n.endTheta;var u,f;return n.sliceAngle<120?(n.titleRadius=r*.57,u=.9,middleRadiusPercent=.87,f=.87):n.sliceAngle<180?(n.titleRadius=r*.52,u=.91,middleRadiusPercent=.87,f=.87):(n.titleRadius=r*.45,u=.873,middleRadiusPercent=.87,f=.94),slicePathString=[n.MoveTo(n.middleAngle,r*.07),["L",r*.07*Math.cos(middleTheta)+r*f*Math.cos(startTheta)+x,r*.07*Math.sin(middleTheta)+r*f*Math.sin(startTheta)+y],["A",r*u,r*u,0,0,1,r*.07*Math.cos(middleTheta)+r*middleRadiusPercent*Math.cos(middleTheta)+x,r*.07*Math.sin(middleTheta)+r*middleRadiusPercent*Math.sin(middleTheta)+y],["A",r*u,r*u,0,0,1,r*.07*Math.cos(middleTheta)+r*f*Math.cos(endTheta)+x,r*.07*Math.sin(middleTheta)+r*f*Math.sin(endTheta)+y],n.Close()],linePathString=[n.MoveTo(n.startAngle,r),n.ArcTo(r,n.middleAngle,r),n.ArcTo(r,n.endAngle,r),n.ArcBackTo(r,n.middleAngle,r),n.ArcBackTo(r,n.startAngle,r)],n.setTitlePos(),titlePathString=n.getCurvedTitlePathString(),{slicePathString:slicePathString,linePathString:linePathString,titlePosX:n.titlePosX,titlePosY:n.titlePosY,titlePathString:titlePathString}},this.OuterStrokeSlice=function(n,t,i){return n.setBaseValue(t,i),x=n.centerX,y=n.centerY,r=n.sliceRadius,innerRadius=r/4,n.titleRadius=n.sliceAngle<120?r*.57:n.sliceAngle<180?r*.52:r*.45,linePathString=[n.MoveTo(n.startAngle,innerRadius),n.LineTo(n.startAngle,r),n.MoveTo(n.endAngle,innerRadius),n.LineTo(n.endAngle,r)],slicePathString=[n.MoveTo(n.startAngle,r),n.ArcTo(r,n.middleAngle,r),n.ArcTo(r,n.endAngle,r),n.ArcBackTo(r,n.middleAngle,r),n.ArcBackTo(r,n.startAngle,r),n.MoveTo(n.startAngle,innerRadius),n.ArcTo(innerRadius,n.middleAngle,innerRadius),n.ArcTo(innerRadius,n.endAngle,innerRadius),n.ArcBackTo(innerRadius,n.middleAngle,innerRadius),n.ArcBackTo(innerRadius,n.startAngle,innerRadius)],n.setTitlePos(),titlePathString=n.getCurvedTitlePathString(),{slicePathString:slicePathString,linePathString:linePathString,titlePosX:n.titlePosX,titlePosY:n.titlePosY,titlePathString:titlePathString}},this.TabSlice=function(n){var i=n.wheelRadius*.9,r=360/n.sliceAngle,t=2*i/r;return x=n.centerX,y=n.centerY,itemIndex=n.itemIndex,titlePosX=x,titlePosY=itemIndex*t+y+t/2-i,slicePathString=[],slicePathString.push(n.MoveToXY(x-t/2,itemIndex*t+y-i)),slicePathString.push(n.LineToXY(t/2+x,itemIndex*t+y-i)),slicePathString.push(n.LineToXY(t/2+x,(itemIndex+1)*t+y-i)),slicePathString.push(n.LineToXY(x-t/2,(itemIndex+1)*t+y-i)),slicePathString.push(n.Close()),titlePathString=[],titlePathString.push(n.MoveToXY(x-t/2,(itemIndex+1)*t+y-i)),titlePathString.push(n.ArcToXY(t*2,t/2+x,itemIndex*t+y-i)),{slicePathString:slicePathString,linePathString:"",titlePosX:titlePosX,titlePosY:titlePosY,titlePathString:titlePathString}},this.YinYangSlice=function(n,t,i){return n.setBaseValue(t,i),r=n.sliceRadius,slicePathString=[n.MoveToCenter(),n.ArcTo(r/2,n.startAngle,r),n.ArcTo(r,n.middleAngle,r),n.ArcTo(r,n.endAngle,r),n.ArcBackTo(r/2,0,0),n.Close()],titlePosX=n.getX(n.startAngle,r/2),titlePosY=n.getY(n.startAngle,r/2),titlePathString=[n.MoveToCenter(),n.ArcTo(r/4,n.startAngle+n.sliceAngle*.2,r*.8)],{slicePathString:slicePathString,linePathString:slicePathString,titlePosX:titlePosX,titlePosY:titlePosY,titlePathString:titlePathString}},this.WebSlice=function(n,t,i){return n.setBaseValue(t,i),r=n.sliceRadius,n.titleRadius=r*.55,n.setTitlePos(),linePathString=[n.MoveToCenter(),n.LineTo(n.startAngle,r*1.1),n.MoveToCenter(),n.LineTo(n.endAngle,r*1.1),n.MoveTo(n.startAngle,r*.15),n.LineTo(n.endAngle,r*.15),n.MoveTo(n.startAngle,r*.35),n.LineTo(n.endAngle,r*.35),n.MoveTo(n.startAngle,r*.55),n.LineTo(n.endAngle,r*.55),n.MoveTo(n.startAngle,r*.75),n.LineTo(n.endAngle,r*.75),n.MoveTo(n.startAngle,r*.95),n.LineTo(n.endAngle,r*.95),n.Close()],titlePathString=n.getCurvedTitlePathString(),{slicePathString:"",linePathString:linePathString,titlePosX:n.titlePosX,titlePosY:n.titlePosY,titlePathString:titlePathString}},this.WinterSliceCustomization=function(){var n=new slicePathCustomization;return n.titleRadiusPercent=.85,n.arcRadiusPercent=1,n},this.WinterSlice=function(n,t,i){i===null&&(i=WinterSliceCustomization());n.setBaseValue(t,i);sliceAngle=n.sliceAngle;parallelAngle=n.startAngle+sliceAngle/4;parallelAngle2=n.startAngle+sliceAngle/4*3;borderAngle1=n.startAngle+sliceAngle/200;borderAngle2=n.startAngle+sliceAngle/2-sliceAngle/200;borderAngle3=n.startAngle+sliceAngle/2+sliceAngle/200;borderAngle4=n.startAngle+sliceAngle-sliceAngle/200;var r=n.sliceRadius*i.arcRadiusPercent;return slicePathString=[n.MoveToCenter(),n.MoveTo(parallelAngle,r/100),n.LineTo(borderAngle1,r/2),n.LineTo(parallelAngle,r-r/100),n.LineTo(borderAngle2,r/2),n.LineTo(parallelAngle,r/100),n.MoveTo(parallelAngle2,r/100),n.LineTo(borderAngle4,r/2),n.LineTo(parallelAngle2,r-r/100),n.LineTo(borderAngle3,r/2),n.LineTo(parallelAngle2,r/100),n.Close()],linePathString=[n.MoveTo(parallelAngle,r),n.LineTo(borderAngle2,r/2),n.MoveTo(borderAngle3,r/2),n.LineTo(parallelAngle2,r)],titlePathString=n.getCurvedTitlePathString(),{slicePathString:slicePathString,linePathString:linePathString,titlePosX:n.titlePosX,titlePosY:n.titlePosY,titlePathString:titlePathString}},this.TutorialSliceCustomization=function(){var n=new slicePathCustomization;return n.titleRadiusPercent=.6,n.isMoveTo=!1,n.isLineTo=!1,n.isArcTo=!1,n.isArcBackTo=!1,n},this.TutorialSlice=function(n,t,i){return i===null&&(i=TutorialSliceCustomization()),n.setBaseValue(t,i),slicePathString=[],titlePathString=[],slicePathString.push(n.MoveToCenter()),titlePathRadius1=n.titleRadius,titlePathRadius2=n.titleRadius,titlePathEndangle=n.startAngle,titlePathStartRadius=0,i.isMoveTo===!0&&(slicePathString.push(n.MoveTo(n.middleAngle,n.sliceRadius/4)),titlePathRadius1*=1.05,titlePathRadius2*=.95,titlePathStartRadius+=n.sliceRadius/16,titlePathEndangle=n.startAngle+n.sliceAngle/8),i.isLineTo&&(slicePathString.push(n.LineTo(n.startAngle,n.sliceRadius)),titlePathRadius1*=1.1,titlePathRadius2*=.9,titlePathStartRadius+=n.sliceRadius/16,titlePathEndangle=n.startAngle+n.sliceAngle/4),i.isArcTo&&(slicePathString.push(n.ArcTo(n.sliceRadius,n.middleAngle,n.sliceRadius)),titlePathRadius1*=1.2,titlePathRadius2*=.8,titlePathStartRadius+=n.sliceRadius/8,titlePathEndangle=n.middleAngle-n.sliceAngle/8),i.isArcBackTo&&(slicePathString.push(n.ArcBackTo(n.sliceRadius,n.endAngle,n.sliceRadius)),titlePathRadius1*=1.3,titlePathRadius2*=.7,titlePathStartRadius+=n.sliceRadius/8,titlePathEndangle=n.endAngle),slicePathString.push(n.Close()),titlePathString.push(n.MoveTo(n.startAngle,titlePathStartRadius)),titlePathString.push(n.CubicBezierTo(n.middleAngle-n.sliceAngle/8,titlePathRadius1,n.middleAngle+n.sliceAngle/8,titlePathRadius2,titlePathEndangle,n.sliceRadius)),linePathString=[n.MoveToCenter(),n.LineTo(n.startAngle,n.sliceRadius),n.ArcTo(n.sliceRadius,n.middleAngle,n.sliceRadius),n.ArcTo(n.sliceRadius,n.endAngle,n.sliceRadius),n.Close()],{slicePathString:slicePathString,linePathString:linePathString,titlePosX:n.titlePosX,titlePosY:n.titlePosY,titlePathString:titlePathString}},this};sliceTransform=function(){this.startAngle=0;this.startTheta=0;this.middleTheta=0;this.endTheta=0;var t=function(t,i,r,u,f){this.startAngle=u;this.startTheta=n(startAngle);this.middleTheta=n(startAngle+f/2);this.endTheta=n(startAngle+f)},n=function(n){return n%360*Math.PI/180};return this.NullTransform=function(){return{sliceTransformString:"",lineTransformString:"",titleTransformString:""}},this.MoveMiddleTransform=function(i,r,u,f,e,o,s){var c,h,l,a;return t(i,r,u,f,e,o,s),c="t"+(u/10*Math.cos(middleTheta)).toString()+","+(u/10*Math.sin(middleTheta)).toString(),o!==null?h=n(-o):(l=f-s*e,h=n(l+e/2)),a="s1,r0,t"+(u/10*Math.cos(h)).toString()+","+(u/10*Math.sin(h)).toString(),{sliceTransformString:c,lineTransformString:c,titleTransformString:a}},this.RotateTransform=function(){var n="s1,r360";return{sliceTransformString:n,lineTransformString:n,titleTransformString:n}},this.RotateHalfTransform=function(){var n="s1,r90";return{sliceTransformString:n,lineTransformString:n,titleTransformString:n}},this.RotateTitleTransform=function(){return{sliceTransformString:"",lineTransformString:"",titleTransformString:"s1,r360"}},this.ScaleTransform=function(){var n="s1.2";return{sliceTransformString:n,lineTransformString:"",titleTransformString:n}},this.ScaleTitleTransform=function(){return{sliceTransformString:"",lineTransformString:"",titleTransformString:"s1.3"}},this.RotateScaleTransform=function(){var n="r360,s1.3";return{sliceTransformString:n,lineTransformString:"",titleTransformString:n}},this.CustomTransform=function(n,t,i,r,u,f,e,o){var s=o.scaleString+","+o.rotateString;return{sliceTransformString:s,lineTransformString:s,titleTransformString:s}},this.CustomTitleTransform=function(n,t,i,r,u,f,e,o){var s=o.scaleString+","+o.rotateString;return{sliceTransformString:"",lineTransformString:"",titleTransformString:s}},this};sliceTransformCustomization=function(){return this.scaleString="s1",this.rotateString="r0",this};spreader=function(n){var t,i;if(this.wheelnav=n,this.wheelnav.spreaderEnable){this.spreaderHelper=new pathHelper;this.spreaderHelper.centerX=this.wheelnav.centerX;this.spreaderHelper.centerY=this.wheelnav.centerY;this.spreaderHelper.navItemCount=this.wheelnav.navItemCount;this.spreaderHelper.navAngle=this.wheelnav.navAngle;this.spreaderHelper.wheelRadius=this.wheelnav.spreaderRadius;this.spreaderHelper.startAngle=this.wheelnav.spreaderStartAngle;this.spreaderHelper.sliceAngle=this.wheelnav.spreaderSliceAngle;t=this.wheelnav;this.animateeffect="bounce";this.animatetime=1500;this.wheelnav.animateeffect!==null&&(this.animateeffect=this.wheelnav.animateeffect);this.wheelnav.animatetime!==null&&(this.animatetime=this.wheelnav.animatetime);this.fontAttr=this.wheelnav.spreaderTitleFont!==null?{font:this.wheelnav.spreaderTitleFont}:{font:"18px Impact, Charcoal, sans-serif"};this.spreaderPathIn=this.wheelnav.spreaderPathFunction(this.spreaderHelper,this.wheelnav.spreaderInPercent,this.wheelnav.spreaderPathCustom);this.spreaderPathOut=this.wheelnav.spreaderPathFunction(this.spreaderHelper,this.wheelnav.spreaderOutPercent,this.wheelnav.spreaderPathCustom);i=this.spreaderPathOut;t.initPercent<t.maxPercent&&(i=this.spreaderPathIn);this.spreaderPath=this.wheelnav.raphael.path(i.spreaderPathString);this.spreaderPath.attr(t.spreaderPathAttr);this.spreaderPath.id=t.getSpreaderId();this.spreaderPath.node.id=this.spreaderPath.id;this.spreaderPath.click(function(){t.spreadWheel()});this.inTitleWidth=this.wheelnav.spreaderInTitleWidth;this.inTitleHeight=this.wheelnav.spreaderInTitleHeight;this.outTitleWidth=this.wheelnav.spreaderOutTitleWidth;this.outTitleHeight=this.wheelnav.spreaderOutTitleHeight;this.inTitleWidth!==null&&this.inTitleHeight===null&&(this.inTitleHeight=this.inTitleWidth);this.inTitleWidth===null&&this.inTitleHeight!==null&&(this.inTitleWidth=this.inTitleHeight);this.outTitleWidth!==null&&this.outTitleHeight===null&&(this.outTitleHeight=this.outTitleWidth);this.outTitleWidth===null&&this.outTitleHeight!==null&&(this.outTitleWidth=this.outTitleHeight);wheelnavTitle().isImageTitle(this.wheelnav.spreaderOutTitle)&&(this.inTitleWidth===null&&(this.inTitleWidth=32),this.inTitleHeight===null&&(this.inTitleHeight=32),this.outTitleWidth===null&&(this.outTitleWidth=32),this.outTitleHeight===null&&(this.outTitleHeight=32));inTitle=wheelnavTitle().isPathTitle(this.wheelnav.spreaderInTitle)?new wheelnavTitle(this.wheelnav.spreaderInTitle,this.wheelnav.raphael.raphael):new wheelnavTitle(this.wheelnav.spreaderInTitle);this.inTitleSizeTransform=inTitle.getTitleSizeTransform(this.inTitleWidth,this.inTitleHeight);this.inTitle=inTitle.getTitlePercentAttr(this.spreaderPathIn.titlePosX,this.spreaderPathIn.titlePosY,this.inTitleWidth,this.inTitleHeight);outTitle=wheelnavTitle().isPathTitle(this.wheelnav.spreaderOutTitle)?new wheelnavTitle(this.wheelnav.spreaderOutTitle,this.wheelnav.raphael.raphael):new wheelnavTitle(this.wheelnav.spreaderOutTitle);this.outTitleSizeTransform=outTitle.getTitleSizeTransform(this.outTitleWidth,this.outTitleHeight);this.outTitle=outTitle.getTitlePercentAttr(this.spreaderPathOut.titlePosX,this.spreaderPathOut.titlePosY,this.outTitleWidth,this.outTitleHeight);var r=this.outTitle,e=this.wheelnav.spreaderTitleOutAttr,u=this.outTitleWidth,f=this.outTitleHeight,o=this.outTitleSizeTransform;t.initPercent<t.maxPercent&&(r=this.inTitle,e=this.wheelnav.spreaderTitleInAttr,u=this.inTitleWidth,f=this.inTitleHeight,o=this.inTitleSizeTransform);this.spreaderTitle=wheelnavTitle().isPathTitle(this.wheelnav.spreaderOutTitle)?t.raphael.path(r.path):wheelnavTitle().isImageTitle(this.wheelnav.spreaderOutTitle)?this.wheelnav.raphael.image(r.src,i.titlePosX-u/2,i.titlePosY-f/2,u,f):t.raphael.text(i.titlePosX,i.titlePosY,r.title);this.spreaderTitle.attr(this.fontAttr);this.spreaderTitle.attr(e);this.spreaderTitle.attr({transform:o});this.spreaderTitle.id=t.getSpreaderTitleId();this.spreaderTitle.node.id=this.spreaderTitle.id;this.spreaderTitle.click(function(){t.spreadWheel()});this.setCurrentTransform()}return this};spreader.prototype.setCurrentTransform=function(n){if(this.wheelnav.spreaderEnable){if(n===undefined||n===!1){currentPath=this.wheelnav.currentPercent>this.wheelnav.minPercent?this.spreaderPathOut.spreaderPathString:this.spreaderPathIn.spreaderPathString;spreaderTransformAttr={path:currentPath};this.spreaderPath.animate(spreaderTransformAttr,this.animatetime,this.animateeffect);var t,i,r;this.wheelnav.currentPercent===this.wheelnav.maxPercent?(t=this.outTitle,i=this.wheelnav.spreaderTitleOutAttr,this.spreaderPath.attr(this.wheelnav.spreaderPathOutAttr),r=this.outTitleSizeTransform):(t=this.inTitle,i=this.wheelnav.spreaderTitleInAttr,this.spreaderPath.attr(this.wheelnav.spreaderPathInAttr),r=this.inTitleSizeTransform);wheelnavTitle().isPathTitle(t.title)?(i.path=t.path,i.transform=r):wheelnavTitle().isImageTitle(t.title)?(i.x=t.x,i.y=t.y,i.width=t.width,i.height=t.height,this.spreaderTitle.attr({src:t.src})):(offYOffset=0,t.title==="-"&&(offYOffset=3),i.x=t.x,i.y=t.y-offYOffset,t.title!==null&&this.spreaderTitle.attr({text:t.title}));this.spreaderTitle.animate(i,this.animatetime,this.animateeffect)}this.spreaderPath.toFront();this.spreaderTitle.toFront()}};spreaderPath=function(){return this.NullSpreader=function(n,t){return t===null&&(t=new spreaderPathCustomization),n.setBaseValue(t.spreaderPercent,t),{spreaderPathString:"",titlePosX:n.titlePosX,titlePosY:n.titlePosY}},this.PieSpreaderCustomization=function(){var n=new spreaderPathCustomization;return n.spreaderRadius=25,n.arcBaseRadiusPercent=1,n.arcRadiusPercent=1,n.startRadiusPercent=0,n},this.PieSpreader=function(n,t,i){i===null&&(i=PieSpreaderCustomization());n.setBaseValue(i.spreaderPercent*t,i);var r=n.sliceRadius*i.arcBaseRadiusPercent,u=n.sliceRadius*i.arcRadiusPercent;return spreaderPathString=[],n.StartSpreader(spreaderPathString,n.startAngle,r),spreaderPathString.push(n.ArcTo(u,n.middleAngle,r)),spreaderPathString.push(n.ArcTo(u,n.endAngle,r)),spreaderPathString.push(n.Close()),{spreaderPathString:spreaderPathString,titlePosX:n.titlePosX,titlePosY:n.titlePosY}},this.StarSpreaderCustomization=function(){var n=new spreaderPathCustomization;return n.minRadiusPercent=.5,n},this.StarSpreader=function(n,t,i){i===null&&(i=StarSpreaderCustomization());n.setBaseValue(i.spreaderPercent*t,i);rbase=n.wheelRadius*i.spreaderPercent*i.minRadiusPercent*t;r=n.sliceRadius;spreaderPathString=[];sliceAngle=n.sliceAngle/n.navItemCount;baseAngle=n.navAngle;n.endAngle-n.startAngle<360&&(baseAngle=n.startAngle);n.StartSpreader(spreaderPathString,baseAngle,r);for(var u=0;u<n.navItemCount;u++)startAngle=u*sliceAngle+(baseAngle+sliceAngle/2),middleAngle=startAngle+sliceAngle/2,endAngle=startAngle+sliceAngle,n.endAngle-n.startAngle<360&&u===n.navItemCount-1&&(endAngle=middleAngle),spreaderPathString.push(n.LineTo(startAngle,rbase)),spreaderPathString.push(n.LineTo(middleAngle,r)),spreaderPathString.push(n.LineTo(endAngle,rbase));return spreaderPathString.push(n.Close()),{spreaderPathString:spreaderPathString,titlePosX:n.titlePosX,titlePosY:n.titlePosY}},this.AntiStarSpreaderCustomization=function(){var n=new spreaderPathCustomization;return n.minRadiusPercent=.21,n},this.AntiStarSpreader=function(n,t,i){i===null&&(i=AntiStarSpreaderCustomization());n.setBaseValue(i.spreaderPercent*t,i);rbase=n.wheelRadius*i.spreaderPercent*i.minRadiusPercent*t;r=n.sliceRadius;spreaderPathString=[];sliceAngle=n.sliceAngle/n.navItemCount;baseAngle=n.navAngle;n.endAngle-n.startAngle<360?(baseAngle=n.startAngle,n.StartSpreader(spreaderPathString,baseAngle,rbase)):spreaderPathString.push(n.MoveTo(n.startAngle+(n.navAngle+sliceAngle/2),rbase));for(var u=0;u<n.navItemCount;u++)startAngle=u*sliceAngle+(baseAngle+sliceAngle/2),middleAngle=startAngle+sliceAngle/2,endAngle=startAngle+sliceAngle,n.endAngle-n.startAngle<360&&u===n.navItemCount-1&&(endAngle=middleAngle),spreaderPathString.push(n.LineTo(startAngle,r)),spreaderPathString.push(n.LineTo(middleAngle,rbase)),spreaderPathString.push(n.LineTo(endAngle,r));return spreaderPathString.push(n.Close()),{spreaderPathString:spreaderPathString,titlePosX:n.titlePosX,titlePosY:n.titlePosY}},this.FlowerSpreaderCustomization=function(){var n=new spreaderPathCustomization;return n.minRadiusPercent=.63,n.menuRadius=7,n},this.FlowerSpreader=function(n,t,i){i===null&&(i=FlowerSpreaderCustomization());n.setBaseValue(i.spreaderPercent*t,i);rbase=n.wheelRadius*i.spreaderPercent*i.minRadiusPercent*t;r=n.sliceRadius;spreaderPathString=[];sliceAngle=n.sliceAngle/n.navItemCount;baseAngle=n.navAngle;n.endAngle-n.startAngle<360?(baseAngle=n.startAngle,n.StartSpreader(spreaderPathString,baseAngle,rbase)):spreaderPathString.push(n.MoveTo(n.startAngle+(n.navAngle+sliceAngle/2),rbase));for(var u=0;u<n.navItemCount;u++)startAngle=u*sliceAngle+(baseAngle+sliceAngle/2),middleAngle=startAngle+sliceAngle/2,endAngle=startAngle+sliceAngle,n.endAngle-n.startAngle<360?(u===0&&spreaderPathString.push(n.ArcTo(i.menuRadius,startAngle,rbase)),u===n.navItemCount-1&&(endAngle=middleAngle)):spreaderPathString.push(n.LineTo(startAngle,rbase)),spreaderPathString.push(n.ArcTo(i.menuRadius,endAngle,rbase));return spreaderPathString.push(n.Close()),{spreaderPathString:spreaderPathString,titlePosX:n.titlePosX,titlePosY:n.titlePosY}},this.HolderSpreaderCustomization=function(){var n=new spreaderPathCustomization;return n.minRadiusPercent=.5,n.menuRadius=37,n},this.HolderSpreader=function(n,t,i){i===null&&(i=HolderSpreaderCustomization());n.setBaseValue(i.spreaderPercent*t,i);rbase=n.wheelRadius*i.spreaderPercent*i.minRadiusPercent*t;r=n.sliceRadius;spreaderPathString=[];sliceAngle=n.sliceAngle/n.navItemCount;baseAngle=n.navAngle;n.endAngle-n.startAngle<360?(baseAngle=n.startAngle,n.StartSpreader(spreaderPathString,baseAngle,rbase)):spreaderPathString.push(n.MoveTo(n.startAngle+(n.navAngle+sliceAngle/2),rbase));for(var u=0;u<n.navItemCount;u++)startAngle=u*sliceAngle+(baseAngle+sliceAngle/2),middleAngle=startAngle+sliceAngle/4,endAngle=startAngle+sliceAngle,n.endAngle-n.startAngle<360?u===n.navItemCount-1&&(endAngle=middleAngle):spreaderPathString.push(n.LineTo(startAngle,rbase)),spreaderPathString.push(n.LineTo(startAngle,r)),spreaderPathString.push(n.ArcBackTo(i.menuRadius,middleAngle,rbase)),spreaderPathString.push(n.ArcTo(i.menuRadius,endAngle,r));return spreaderPathString.push(n.Close()),{spreaderPathString:spreaderPathString,titlePosX:n.titlePosX,titlePosY:n.titlePosY}},this.LineSpreaderCustomization=function(){var n=new spreaderPathCustomization;return n.minRadiusPercent=.5,n},this.LineSpreader=function(n,t,i){i===null&&(i=LineSpreaderCustomization());n.setBaseValue(i.spreaderPercent*t,i);rbase=n.wheelRadius*i.spreaderPercent*i.minRadiusPercent*t;r=n.sliceRadius;spreaderPathString=[];sliceAngle=n.sliceAngle/n.navItemCount;baseAngle=n.navAngle;n.endAngle-n.startAngle<360&&(baseAngle=n.startAngle);spreaderPathString.push(n.MoveTo(baseAngle+sliceAngle/2,r));for(var u=0;u<n.navItemCount;u++)startAngle=u*sliceAngle+(baseAngle+sliceAngle/2),endAngle=startAngle+sliceAngle,n.navItemCount===2&&(endAngle-=90),spreaderPathString.push(n.LineTo(startAngle,r)),spreaderPathString.push(n.LineTo(endAngle,r));return spreaderPathString.push(n.Close()),{spreaderPathString:spreaderPathString,titlePosX:n.titlePosX,titlePosY:n.titlePosY}},this};marker=function(n){return this.wheelnav=n,this.wheelnav.markerEnable&&(this.markerHelper=new pathHelper,this.markerHelper.centerX=this.wheelnav.centerX,this.markerHelper.centerY=this.wheelnav.centerY,this.markerHelper.navItemCount=this.wheelnav.navItemCount,this.markerHelper.navAngle=this.wheelnav.navAngle,this.markerHelper.wheelRadius=this.wheelnav.wheelRadius*this.wheelnav.maxPercent,this.markerHelper.sliceAngle=this.wheelnav.navItems[0].sliceAngle,this.markerHelper.startAngle=this.markerHelper.navAngle-this.markerHelper.sliceAngle/2,this.animateeffect="bounce",this.animatetime=1500,this.wheelnav.animateeffect!==null&&(this.animateeffect=this.wheelnav.animateeffect),this.wheelnav.animatetime!==null&&(this.animatetime=this.wheelnav.animatetime),this.markerPathMin=this.wheelnav.markerPathFunction(this.markerHelper,this.wheelnav.minPercent,this.wheelnav.markerPathCustom),this.markerPathMax=this.wheelnav.markerPathFunction(this.markerHelper,this.wheelnav.maxPercent,this.wheelnav.markerPathCustom),this.marker=this.wheelnav.raphael.path(this.markerPathMax.markerPathString),this.marker.attr(this.wheelnav.markerAttr),this.marker.id=this.wheelnav.getMarkerId(),this.marker.node.id=this.marker.id),this};marker.prototype.setCurrentTransform=function(n){var t,i;this.wheelnav.markerEnable&&(t="",t=this.wheelnav.currentPercent===this.wheelnav.maxPercent?this.markerPathMax.markerPathString:this.markerPathMin.markerPathString,n!==undefined?(i=n-this.markerHelper.navAngle,markerTransformAttr={transform:"r,"+i.toString()+","+this.wheelnav.centerX+","+this.wheelnav.centerY,path:t}):markerTransformAttr={path:t},this.marker.animate(markerTransformAttr,this.animatetime,this.animateeffect),this.marker.toFront())};markerPath=function(){return this.NullMarker=function(n,t){return t===null&&(t=new markerPathCustomization),n.setBaseValue(t),{markerPathString:"",titlePosX:n.titlePosX,titlePosY:n.titlePosY}},this.TriangleMarkerCustomization=function(){var n=new markerPathCustomization;return n.arcBaseRadiusPercent=1.09,n.arcRadiusPercent=1.2,n.startRadiusPercent=0,n},this.TriangleMarker=function(n,t,i){i===null&&(i=TriangleMarkerCustomization());n.setBaseValue(i.markerPercent*t,i);var u=n.sliceRadius*i.arcBaseRadiusPercent,r=n.sliceRadius*i.arcRadiusPercent,f=n.startAngle+n.sliceAngle*.46,e=n.startAngle+n.sliceAngle*.54;return markerPathString=[n.MoveTo(n.navAngle,u),n.LineTo(f,r),n.LineTo(e,r),n.Close()],{markerPathString:markerPathString,titlePosX:n.titlePosX,titlePosY:n.titlePosY}},this.PieLineMarkerCustomization=function(){var n=new markerPathCustomization;return n.arcBaseRadiusPercent=1,n.arcRadiusPercent=1,n.startRadiusPercent=0,n.sliceAngle=null,n},this.PieLineMarker=function(n,t,i){i===null&&(i=PieLineMarkerCustomization());n.setBaseValue(i.markerPercent*t,i);var r=n.sliceRadius*i.arcBaseRadiusPercent,u=n.sliceRadius*i.arcRadiusPercent;return i.sliceAngle!==null&&(n.startAngle=n.navAngle-i.sliceAngle/2,n.endAngle=n.navAngle+i.sliceAngle/2),markerPathString=[n.MoveTo(n.startAngle,r),n.ArcTo(u,n.endAngle,r),n.ArcBackTo(u,n.startAngle,r),n.Close()],{markerPathString:markerPathString,titlePosX:n.titlePosX,titlePosY:n.titlePosY}},this.MenuMarkerCustomization=function(){var n=new markerPathCustomization;return n.menuRadius=40,n.titleRadiusPercent=.63,n.lineBaseRadiusPercent=0,n},this.MenuMarker=function(n,t,i){i===null&&(i=MenuMarkerCustomization());n.setBaseValue(i.markerPercent*t,i);x=n.centerX;y=n.centerY;n.titleRadius=n.wheelRadius*i.titleRadiusPercent*t;n.setTitlePos();var r=i.menuRadius*t;return t<=.05&&(r=11),middleTheta=n.middleTheta,markerPathString=[["M",n.titlePosX-r*Math.cos(middleTheta),n.titlePosY-r*Math.sin(middleTheta)],["A",r,r,0,0,1,n.titlePosX+r*Math.cos(middleTheta),n.titlePosY+r*Math.sin(middleTheta)],["A",r,r,0,0,1,n.titlePosX-r*Math.cos(middleTheta),n.titlePosY-r*Math.sin(middleTheta)],["z"]],{markerPathString:markerPathString,titlePosX:n.titlePosX,titlePosY:n.titlePosY}},this.LineMarkerCustomization=function(){var n=new markerPathCustomization;return n.arcBaseRadiusPercent=1.05,n.arcRadiusPercent=1.2,n.startRadiusPercent=0,n},this.LineMarker=function(n,t,i){i===null&&(i=LineMarkerCustomization());n.setBaseValue(i.markerPercent*t,i);var r=n.sliceRadius*i.arcBaseRadiusPercent,u=n.sliceRadius*i.arcRadiusPercent;return markerPathString=[n.MoveTo(n.navAngle,r),n.LineTo(n.navAngle,u),n.Close()],{markerPathString:markerPathString,titlePosX:n.titlePosX,titlePosY:n.titlePosY}},this.DropMarkerCustomization=function(){var n=new markerPathCustomization;return n.dropBaseRadiusPercent=0,n.dropRadiusPercent=.15,n},this.DropMarker=function(n,t,i){i===null&&(i=DropMarkerCustomization());n.setBaseValue(i.markerPercent*t,i);var u=n.sliceRadius*i.dropBaseRadiusPercent,f=n.startAngle+n.sliceAngle*.2,e=n.startAngle,o=n.startAngle+n.sliceAngle*.8,s=n.startAngle+n.sliceAngle,r=n.sliceRadius*i.dropRadiusPercent;return markerPathString=[n.MoveTo(0,r),n.ArcTo(r,180,r),n.ArcTo(r,360,r),n.MoveTo(n.navAngle,u),n.LineTo(f,r),n.LineTo(e,r),n.LineTo(n.navAngle,r*1.6),n.LineTo(s,r),n.LineTo(o,r),n.Close()],{markerPathString:markerPathString,titlePosX:n.titlePosX,titlePosY:n.titlePosY}},this};colorpalette={defaultpalette:["#2D9E46","#F5BE41","#F77604","#D63C22","#006BA6","#92ADAF"],purple:["#4F346B","#623491","#9657D6","#AD74E7","#CBA3F3"],greenred:["#17B92A","#FF3D00","#17B92A","#FF3D00"],greensilver:["#1F700A","#79CC3C","#D4E178","#E6D5C3","#AC875D"],oceanfive:["#00A0B0","#6A4A3C","#CC333F","#EB6841","#EDC951"],garden:["#648A4F","#2B2B29","#DF6126","#FFA337","#F57C85"],gamebookers:["#FF9900","#DCDCDC","#BCBCBC","#3299BB","#727272"],parrot:["#D80351","#F5D908","#00A3EE","#929292","#3F3F3F"],pisycholand:["#FF1919","#FF5E19","#FF9F19","#E4FF19","#29FF19"],makeLOVEnotWAR:["#2C0EF0","#B300FF","#6751F0","#FF006F","#8119FF"],theworldismine:["#F21D1D","#FF2167","#B521FF","#7E2AA8","#000000"],fractalloveone:["#002EFF","#00FFF7","#00FF62","#FFAA00","#FFF700"],fractallovetwo:["#FF9500","#FF0000","#FF00F3","#AA00FF","#002EFF"],fractallove:["#002EFF","#00FFF7","#00FF62","#FFAA00","#F5D908","#FF0000","#FF00F3","#AA00FF"],sprinkles:["#272523","#FFACAC","#FFD700","#00590C","#08006D"],goldenyellow:["#D8B597","#8C4006","#B6690F","#E3C57F","#FFEDBE"],hotaru:["#364C4A","#497C7F","#92C5C0","#858168","#CCBCA5"]};
/*!
* metismenu - v2.7.9
* A jQuery menu plugin
* https://github.com/onokumus/metismenu#readme
*
* Made by Osman Nuri Okumus <onokumus@gmail.com> (https://github.com/onokumus)
* Under MIT License
*/
(function(n,t){typeof exports=="object"&&typeof module!="undefined"?module.exports=t(require("jquery")):typeof define=="function"&&define.amd?define(["jquery"],t):n.metisMenu=t(n.jQuery)})(this,function(n){"use strict";function r(n,t,i){return t in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i,n}function t(n){for(var i,u,t=1;t<arguments.length;t++)i=arguments[t]!=null?arguments[t]:{},u=Object.keys(i),typeof Object.getOwnPropertySymbols=="function"&&(u=u.concat(Object.getOwnPropertySymbols(i).filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable}))),u.forEach(function(t){r(n,t,i[t])});return n}n=n&&n.hasOwnProperty("default")?n["default"]:n;var i=function(n){function r(){return{bindType:t,delegateType:t,handle:function(t){return n(t.target).is(this)?t.handleObj.handler.apply(this,arguments):undefined}}}function u(t){var u=this,r=!1;n(this).one(i.TRANSITION_END,function(){r=!0});return setTimeout(function(){r||i.triggerTransitionEnd(u)},t),this}function f(){n.fn.mmEmulateTransitionEnd=u;n.event.special[i.TRANSITION_END]=r()}var t="transitionend",i={TRANSITION_END:"mmTransitionEnd",triggerTransitionEnd:function(i){n(i).trigger(t)},supportsTransitionEnd:function(){return Boolean(t)}};return f(),i}(n);return function(n){var r="metisMenu",e="metisMenu",u="."+e,c=n.fn[r],s=350,h={toggle:!0,preventDefault:!0,activeClass:"active",collapseClass:"collapse",collapseInClass:"in",collapsingClass:"collapsing",triggerElement:"a",parentTrigger:"li",subMenu:"ul"},f={SHOW:"show"+u,SHOWN:"shown"+u,HIDE:"hide"+u,HIDDEN:"hidden"+u,CLICK_DATA_API:"click"+u+".data-api"},o=function(){function u(n,i){this.element=n;this.config=t({},h,i);this.transitioning=null;this.init()}var r=u.prototype;return r.init=function(){var i=this,t=this.config;n(this.element).find(t.parentTrigger+"."+t.activeClass).has(t.subMenu).children(t.subMenu).addClass(t.collapseClass+" "+t.collapseInClass);n(this.element).find(t.parentTrigger).not("."+t.activeClass).has(t.subMenu).children(t.subMenu).addClass(t.collapseClass);n(this.element).find(t.parentTrigger).has(t.subMenu).children(t.triggerElement).on(f.CLICK_DATA_API,function(r){var u=n(this),f=u.parent(t.parentTrigger),o=f.siblings(t.parentTrigger).children(t.triggerElement),e=f.children(t.subMenu);if((t.preventDefault&&r.preventDefault(),u.attr("aria-disabled")!=="true")&&(f.hasClass(t.activeClass)?(u.attr("aria-expanded",!1),i.hide(e)):(i.show(e),u.attr("aria-expanded",!0),t.toggle&&o.attr("aria-expanded",!1)),t.onTransitionStart))t.onTransitionStart(r)})},r.show=function(t){var u=this,r,e,o;this.transitioning||n(t).hasClass(this.config.collapsingClass)||(r=n(t),e=n.Event(f.SHOW),r.trigger(e),e.isDefaultPrevented())||(r.parent(this.config.parentTrigger).addClass(this.config.activeClass),this.config.toggle&&this.hide(r.parent(this.config.parentTrigger).siblings().children(this.config.subMenu+"."+this.config.collapseInClass)),r.removeClass(this.config.collapseClass).addClass(this.config.collapsingClass).height(0),this.setTransitioning(!0),o=function(){u.config&&u.element&&(r.removeClass(u.config.collapsingClass).addClass(u.config.collapseClass+" "+u.config.collapseInClass).height(""),u.setTransitioning(!1),r.trigger(f.SHOWN))},r.height(t[0].scrollHeight).one(i.TRANSITION_END,o).mmEmulateTransitionEnd(s))},r.hide=function(t){var u=this,r,e,o;!this.transitioning&&n(t).hasClass(this.config.collapseInClass)&&((r=n(t),e=n.Event(f.HIDE),r.trigger(e),e.isDefaultPrevented())||(r.parent(this.config.parentTrigger).removeClass(this.config.activeClass),r.height(r.height())[0].offsetHeight,r.addClass(this.config.collapsingClass).removeClass(this.config.collapseClass).removeClass(this.config.collapseInClass),this.setTransitioning(!0),o=function(){u.config&&u.element&&(u.transitioning&&u.config.onTransitionEnd&&u.config.onTransitionEnd(),u.setTransitioning(!1),r.trigger(f.HIDDEN),r.removeClass(u.config.collapsingClass).addClass(u.config.collapseClass))},r.height()===0||r.css("display")==="none"?o():r.height(0).one(i.TRANSITION_END,o).mmEmulateTransitionEnd(s)))},r.setTransitioning=function(n){this.transitioning=n},r.dispose=function(){n.removeData(this.element,e);n(this.element).find(this.config.parentTrigger).has(this.config.subMenu).children(this.config.triggerElement).off("click");this.transitioning=null;this.config=null;this.element=null},u.jQueryInterface=function(i){return this.each(function(){var f=n(this),r=f.data(e),o=t({},h,f.data(),typeof i=="object"&&i?i:{});if(!r&&/dispose/.test(i)&&this.dispose(),r||(r=new u(this,o),f.data(e,r)),typeof i=="string"){if(r[i]===undefined)throw new Error('No method named "'+i+'"');r[i]()}})},u}();return n.fn[r]=o.jQueryInterface,n.fn[r].Constructor=o,n.fn[r].noConflict=function(){return n.fn[r]=c,o.jQueryInterface},o}(n)}),function(n){var t={navigate:function(t,i,r,u,f){var o=u.scroll,e=1,s=0,h;f.expanded&&(o=1,e=3,s=f.idxClicked);t===1?r.find("div.tm-item:lt("+o+")").each(function(t){n(this).clone(!0).css("left",(f.totalItems-s+t)*f.itemW*e+"px").appendTo(r)}):(h=r.children().eq(0),r.find("div.tm-item:gt("+(f.totalItems-1-o)+")").each(function(t){n(this).clone(!0).css("left",-(o-t+s)*f.itemW*e+"px").insertBefore(h)}));r.find("div.tm-item").each(function(){var i=n(this);i.stop().animate({left:t===1?"-="+f.itemW*e*o+"px":"+="+f.itemW*e*o+"px"},u.sliderSpeed,u.sliderEasing,function(){(t===1&&i.position().left<-s*f.itemW*e||t===-1&&i.position().left>(f.totalItems-1-s)*f.itemW*e)&&i.remove();f.isAnimating=!1})})},openItem:function(n,i,r,u){u.idxClicked=i.index();u.winpos=t.getWinPos(i.position().left,u);n.find("div.tm-item").not(i).hide();i.find("div.tm-content-wrapper").css("left",u.itemW+"px").stop().animate({width:u.itemW*2+"px",left:u.itemW+"px"},r.itemSpeed,r.itemEasing).end().stop().animate({left:"0px"},r.itemSpeed,r.itemEasing,function(){u.isAnimating=!1;u.expanded=!0;t.openItems(n,i,r,u)})},openItems:function(i,r,u,f){var e=r.index();i.find("div.tm-item").each(function(){var i=n(this),r=i.index();r!==e&&(i.css("left",-(e-r)*f.itemW*3+"px").show().find("div.tm-content-wrapper").css({left:f.itemW+"px",width:f.itemW*2+"px"}),t.toggleMore(i,!1))})},toggleMore:function(n,t){t?n.find("a.tm-more").show():n.find("a.tm-more").hide()},closeItems:function(i,r,u,f){var e=r.index();r.find("div.tm-content-wrapper").stop().animate({width:"0px"},u.itemSpeed,u.itemEasing).end().stop().animate({left:f.itemW*(f.winpos-1)+"px"},u.itemSpeed,u.itemEasing,function(){f.isAnimating=!1;f.expanded=!1});t.toggleMore(r,!0);i.find("div.tm-item").each(function(){var i=n(this),r=i.index();r!==e&&(i.find("div.tm-content-wrapper").css({width:"0px"}).end().css("left",(f.winpos-1-(e-r))*f.itemW+"px").show(),t.toggleMore(i,!0))})},getWinPos:function(n,t){switch(n){case 0:return 1;case t.itemW:return 2;case t.itemW*2:return 3}}},i={init:function(i){if(this.length){var r={sliderSpeed:500,sliderEasing:"easeOutExpo",itemSpeed:500,itemEasing:"easeOutExpo",scroll:1};return this.each(function(){var s,h;i&&n.extend(r,i);var f=n(this),e=f.find("div.tm-wrapper"),o=e.children("div.tm-item"),u={};u.itemW=o.width();u.totalItems=o.length;u.totalItems>3&&f.prepend('<div class="tm-nav"><i class="fa fa-chevron-left tm-nav-prev"><\/i><i class="fa fa-chevron-right tm-nav-next"><\/i><\/div>');r.scroll<1?r.scroll=1:r.scroll>3&&(r.scroll=3);s=f.find("i.tm-nav-prev");h=f.find("i.tm-nav-next");e.css("overflow","hidden");o.each(function(t){n(this).css({position:"absolute",left:t*u.itemW+"px"})});f.find("a.tm-more").on("click.topMenu",function(){if(u.isAnimating)return!1;u.isAnimating=!0;n(this).hide();var i=n(this).closest("div.ca-item");return t.openItem(e,i,r,u),!1});f.find("a.tm-close").on("click.topMenu",function(){if(u.isAnimating)return!1;u.isAnimating=!0;var i=n(this).closest("div.ca-item");return t.closeItems(e,i,r,u),!1});s.bind("click.topMenu",function(){if(u.isAnimating)return!1;u.isAnimating=!0;t.navigate(-1,f,e,r,u)});h.bind("click.topMenu",function(){if(u.isAnimating)return!1;u.isAnimating=!0;t.navigate(1,f,e,r,u)});f.bind("mousewheel.topMenu",function(n,i){if(i>0){if(u.isAnimating)return!1;u.isAnimating=!0;t.navigate(-1,f,e,r,u)}else{if(u.isAnimating)return!1;u.isAnimating=!0;t.navigate(1,f,e,r,u)}return!1})})}}};n.fn.topMenu=function(t){if(i[t])return i[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t!="object"&&t)n.error("Method "+t+" does not exist on jQuery.topMenu");else return i.init.apply(this,arguments)}}(jQuery),function(n){var t=!!~window.navigator.userAgent.indexOf("AppleWebKit/");n.fn.console=function(i){function nt(){u=0;r="";l=0;ai();p=n('<div class="console-prompt-box"><\/div>');var t=n('<span class="console-prompt-label"><\/span>'),i=f.continuedPrompt?ni:f.promptLabel;p.append(t.text(i).show());t.html(t.html().replace(" ","&nbsp;"));ot=n('<span class="console-prompt"><\/span>');p.append(ot);e.append(p);s()}function ii(n){return(n.keyCode===ut.tab||n.keyCode===192)&&n.altKey}function vt(n){if(w.length!==0){l+=n;l<0?l=w.length:l>w.length&&(l=0);var t=r;r=l===0?k:w[l-1];i.historyPreserveColumn?r.length<u+1?u=r.length:u===0&&(u=r.length):u=r.length;s()}}function yt(){vt(-1)}function pt(){vt(1)}function ri(n){w.push(n);k=""}function b(){return u<r.length?(r=r.substring(0,u)+r.substring(u+1),k=r,!0):!1}function ui(){v(-1)&&(b(),s())}function wt(){b()&&s()}function fi(){while(b())s()}function ei(){f.promptText("")}function bt(){e.children(".console-prompt-box, .console-message").slice(0,-1).remove();f.report(" ");f.focus()}function oi(){while(u<r.length&&!y(r[u]))b(),s();while(u<r.length&&y(r[u]))b(),s()}function si(){var t=r.split("\n"),i=t.slice(-1)[0],u=i.match(/^(\s*)/g)[0],n="\n"+u;r+=n;v(n.length);s()}function hi(){var t=r,n;typeof i.commandValidate=="function"?(n=i.commandValidate(t),n===!0||n===!1?n&&kt():h(n,"console-message-error")):kt()}function st(){var n=jQuery.fn.jquery.split("."),t=parseInt(n[0]),i=parseInt(n[1]);t===1&&i>6||t>1?e.prop({scrollTop:e.prop("scrollHeight")}):e.attr({scrollTop:e.attr("scrollHeight")})}function ci(){typeof i.cancelHandle=="function"&&i.cancelHandle()}function kt(){var t,n;typeof i.commandHandle=="function"&&(li(),ri(r),t=r,f.continuedPrompt?c?c+="\n"+r:c=r:c=undefined,c&&(t=c),n=i.commandHandle(t,function(n){h(n)}),f.continuedPrompt&&!c&&(c=r),typeof n=="boolean"?n?h():h("Command failed.","console-message-error"):typeof n=="string"?h(n,"console-message-success"):typeof n=="object"&&n.length?h(n):f.continuedPrompt&&h())}function li(){d=!1}function ai(){d=!0}function h(t,i){var f,r;if(u=-1,s(),typeof t=="string")ht(t,i);else if(n.isArray(t))for(f in t)r=t[f],ht(r.msg,r.className);else e.append(t);nt()}function vi(n,t){var i=r;p.remove();h(n,t);f.promptText(i)}function ht(t,i){var r=n('<div class="console-message"><\/div>');i&&r.addClass(i);r.filledText(t).hide();e.append(r);r.show()}function v(n){return u+n>=0&&u+n<=r.length?(u+=n,!0):!1}function tt(){return v(1)?(s(),!0):!1}function it(){return v(-1)?(s(),!0):!1}function dt(){v(-u)&&s()}function gt(){v(r.length-u)&&s()}function yi(){while(u<r.length&&!y(r[u])&&tt());while(u<r.length&&y(r[u])&&tt());}function pi(){while(u-1>=0&&!y(r[u-1])&&it());while(u-1>=0&&y(r[u-1])&&it());}function y(n){if(typeof n=="string"){var t=n.charCodeAt();return t>="A".charCodeAt()&&t<="Z".charCodeAt()||t>="a".charCodeAt()&&t<="z".charCodeAt()||t>="0".charCodeAt()&&t<="9".charCodeAt()}return!1}function wi(){typeof i.completeHandle=="function"?bi():ki()}function bi(){var t,e,c,u,n,a,s;if(typeof i.completeHandle=="function")if(t=i.completeHandle(r),e=t.length,e===1)f.promptText(r+t[0]);else if(e>1&&i.cols){for(c=r,u=0,n=0;n<e;n++)u=Math.max(u,t[n].length);u+=2;var v=Math.floor(i.cols/u),o="",l=0;for(n=0;n<e;n++){for(a=t[n],o+=t[n],s=a.length;s<u;s++)o+=" ";++l>=v&&(o+="\n",l=0)}h(o,"console-message-value");f.promptText(c)}}function ki(){typeof i.completeIssuer=="function"&&i.completeIssuer(r)}function di(n,t){var e=t.length,c,u,r,a,s;if(e===1)f.promptText(n+t[0]);else if(e>1&&i.cols){for(c=n,u=0,r=0;r<e;r++)u=Math.max(u,t[r].length);u+=2;var v=Math.floor(i.cols/u),o="",l=0;for(r=0;r<e;r++){for(a=t[r],o+=t[r],s=a.length;s<u;s++)o+=" ";++l>=v&&(o+="\n",l=0)}h(o,"console-message-value");f.promptText(c)}}function gi(){}function s(){var n=r,i="",f,t,e;u>0&&n===""?i=at:u===r.length?i=rt(n)+at:(f=n.substring(0,u),t=n.substring(u,u+1),t&&(t='<span class="console-cursor">'+rt(t)+"<\/span>"),e=n.substring(u+1),i=rt(f)+t+rt(e));ot.html(i);st()}function rt(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/</g,"&lt;").replace(/ /g,"&nbsp;").replace(/\n/g,"<br />")}var ut={37:it,39:tt,38:yt,40:pt,8:ui,46:wt,35:gt,36:dt,13:hi,18:gi,9:wi},ft={65:dt,69:gt,68:wt,78:pt,80:yt,66:it,70:tt,75:fi,76:bt,85:ei},g;i.ctrlCodes&&n.extend(ft,i.ctrlCodes);var ct={70:yi,66:pi,68:oi},lt={13:si},at='<span class="console-cursor">&nbsp;<\/span>',et=n(this),e=n('<div class="console-inner"><\/div>'),o=n('<textarea autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="console-typer"><\/textarea>'),p,ot,ni=i&&i.continuedPromptLabel?i.continuedPromptLabel:"> ",u=0,r="",k="",c="",ti=i.fadeOnReset!==undefined?i.fadeOnReset:!0,w=[],l=0,a=0,d=!0,f={};return function(){f.promptLabel=i&&i.promptLabel?i.promptLabel:"> ";et.append(e);e.append(o);o.css({position:"absolute",top:0,left:"-9999px"});i.welcomeMessage&&ht(i.welcomeMessage,"console-welcome");nt();i.autofocus&&(e.addClass("console-focus"),o.focus(),setTimeout(function(){e.addClass("console-focus");o.focus()},100));f.inner=e;f.typer=o;f.scrollToBottom=st;f.report=vi;f.showCompletion=di;f.clearScreen=bt}(),f.reset=function(){var t=typeof i.welcomeMessage!="undefined",r=function(){e.find("div").each(function(){t?t=!1:n(this).remove()})};ti?e.parent().fadeOut(function(){r();nt();e.parent().fadeIn(g)}):(r(),nt(),g())},g=function(){e.addClass("console-focus");o.focus()},f.focus=function(){g()},f.notice=function(t,i){var r=n('<div class="notice"><\/div>').append(n("<div><\/div>").text(t)).css({visibility:"hidden"}),u,f,o;return et.append(r),u=!0,i==="fadeout"?setTimeout(function(){r.fadeOut(function(){r.remove()})},4e3):i==="prompt"&&(f=n('<br/><div class="action"><a href="javascript:">OK<\/a><div class="clear"><\/div><\/div>'),r.append(f),u=!1,f.click(function(){r.fadeOut(function(){r.remove();e.css({opacity:1})})})),o=r.height(),r.css({height:"0px",visibility:"visible"}).animate({height:o+"px"},function(){u||e.css({opacity:.5})}),r.css("cursor","default"),r},et.click(function(){return window.getSelection().toString()?!1:(e.addClass("console-focus"),e.removeClass("console-nofocus"),t?o.focusWithoutScrolling():o.css("position","fixed").focus(),st(),!1)}),o.blur(function(){e.removeClass("console-focus");e.addClass("console-nofocus")}),o.bind("paste",function(){o.val("");setTimeout(function(){o.consoleInsert(o.val());o.val("")},0)}),o.keydown(function(n){a=0;var t=n.keyCode;if(n.ctrlKey&&t===67)return a=t,ci(),!1;if(d){if(n.shiftKey&&t in lt)return a=t,lt[t](),!1;if(n.altKey&&t in ct)return a=t,ct[t](),!1;if(n.ctrlKey&&t in ft)return a=t,ft[t](),!1;if(t in ut)return a=t,ut[t](),!1}}),o.keypress(function(n){var u=n.keyCode||n.which;if(ii(n))return!1;if((n.ctrlKey||n.metaKey)&&String.fromCharCode(u).toLowerCase()==="v")return!0;if(d&&a!==u&&u>=32){if(a)return!1;(typeof i.charInsertTrigger=="undefined"||typeof i.charInsertTrigger=="function"&&i.charInsertTrigger(u,r))&&o.consoleInsert(u)}if(t)return!1}),o.consoleInsert=function(n){var t=typeof n=="number"?String.fromCharCode(n):n,i=r.substring(0,u),f=r.substring(u);r=i+t+f;v(t.length);k=r;s()},f.promptText=function(n){return typeof n=="string"&&(r=n,u=r.length,s()),r},f};n.fn.filledText=function(t){return n(this).text(t),n(this).html(n(this).html().replace(/\t/g,"&nbsp;&nbsp;").replace(/\n/g,"<br/>")),this};n.fn.focusWithoutScrolling=function(){var t=window.scrollX,i=window.scrollY;n(this).focus();window.scrollTo(t,i)}}(jQuery);
/*! gridmanager - v0.3.1 - 2014-09-22
* http://neokoenig.github.io/jQuery-gridmanager/
* Copyright (c) 2014 Tom King; Licensed MIT */
(function(n){n.gridmanager=function(t,i){var r=this;r.$el=n(t);r.el=t;r.$el.data("gridmanager",r);r.appendHTMLSelectedCols=function(t){var i=r.$el.find("#"+r.options.canvasId),u=i.find(r.options.colSelector);n.each(u,function(){n(this).hasClass(r.options.gmEditClassSelected)&&n("."+r.options.gmEditRegion,this).append(t)})};r.init=function(){r.options=n.extend({},n.gridmanager.defaultOptions,i);r.log("INIT");r.addCSS(r.options.cssInclude);r.rteControl("init");r.createCanvas();r.createControls();r.initControls();r.initDefaultButtons();r.initCanvas();r.log("FINISHED")};r.createCanvas=function(){r.log("+ Create Canvas");var t=r.$el.html();r.$el.html("");n("<div/>",{id:r.options.canvasId,html:t}).appendTo(r.$el);r.options.addResponsiveClasses&&r.addResponsiveness(r.$el.find("#"+r.options.canvasId));r.options.autoEdit&&r.initMarkup(r.$el.find("#"+r.options.canvasId).find("."+r.options.colClass).not("."+r.options.rowClass))};r.initMarkup=function(t){var i="<!--"+r.options.gmEditRegion+"-->",u="<!--/"+r.options.gmEditRegion+"-->";n.each(t,function(t,f){var e=!1,o=n(f).children().hasClass(r.options.rowClass);n.each(n(f).contents(),function(t,i){n(i)[0].nodeType===8&&(e=!0)});e||(o?n.each(n(f).contents(),function(t,f){if(n(f).hasClass(r.options.rowClass)){var e=Array.prototype.reverse.call(n(f).prevUntil("."+r.options.rowClass)),o=n(f).nextUntil("."+r.options.rowClass);n(e).hasClass(r.options.gmEditRegion)||n(e).first().before(i).end().last().after(u);n(o).hasClass(r.options.gmEditRegion)||n(o).first().before(i).end().last().after(u)}}):n(f).contents().length!==0&&n(f).html(i+n(f).html()+u))});r.log("initMarkup ran")};r.initDefaultButtons=function(){r.options.colSelectEnabled&&r.options.customControls.global_col.push({callback:r.selectColClick,loc:"top",iconClass:"fas fa-columns",title:"Select Column"});r.options.editableRegionEnabled&&r.options.customControls.global_col.push({callback:r.addEditableAreaClick,loc:"top",iconClass:"fas fa-edit",title:"Add Editable Region"})};r.addResponsiveness=function(t){if(t!==""){var i=r.options.colDesktopClass+"(\\d+)",u=r.options.colTabletClass+"(\\d+)",f=r.options.colPhoneClass+"(\\d+)",e=new RegExp(i,"i"),o=new RegExp(u,"i"),s=new RegExp(f,"i");return n(t).find(":regex(class,"+i+"|"+u+"|"+f+")").each(function(){var i=n(this).attr("class"),t=2,u=e.test(i),f=s.test(i),h=o.test(i);t=(t=e.exec(i))?t[1]:(t=o.exec(i))?t[1]:s.exec(i)[1];u||n(this).addClass(r.options.colDesktopClass+t);f||n(this).addClass(r.options.colPhoneClass+t);h||n(this).addClass(r.options.colTabletClass+t);r.options.addDefaultColumnClass&&(n(this).hasClass(r.options.colClass)||n(this).addClass(r.options.colClass))})}};r.createControls=function(){r.log("+ Create Controls");var t=[];n.each(r.options.controlButtons,function(n,i){var u=r.generateButtonClass(i);t.push("<a title='Add Row "+u+"' class='"+r.options.controlButtonClass+" add"+u+"'><span class='"+r.options.controlButtonSpanClass+"'><\/span> "+u+"<\/a>");r.generateClickHandler(i)});r.$el.prepend(n("<div/>",{id:r.options.controlId,"class":r.options.gmClearClass}).prepend(n("<div/>",{"class":r.options.rowClass}).html(n("<div/>",{"class":r.options.colDesktopClass+r.options.colMax}).addClass(r.options.colAdditionalClass).html(n("<div/>",{id:"gm-addnew"}).addClass(r.options.gmBtnGroup).addClass(r.options.gmFloatLeft).html(t.join(""))).append(r.options.controlAppend))))};r.addCSS=function(t){t!==""&&n('<link rel="stylesheet" href="'+t+'">').appendTo("head")};r.cleanSubstring=function(n,t,i){return t.replace(new RegExp(n,"g"),i)};r.switchLayoutMode=function(t){var o=r.$el.find("#"+r.options.canvasId),i=o.html(),u="",f="",e="";i=r.cleanSubstring(r.options.classRenameSuffix,i,"");e=n("div.gm-layout-mode > button > span");switch(t){case 768:u="("+r.options.colDesktopClass+"\\d+)";f="("+r.options.colPhoneClass+"\\d+)";r.options.currentClassMode=r.options.colTabletClass;r.options.colSelector=r.options.colTabletSelector;n(e).attr("class","fas fa-tablet").attr("title","Tablet");break;case 640:u="("+r.options.colDesktopClass+"\\d+)";f="("+r.options.colTabletClass+"\\d+)";r.options.currentClassMode=r.options.colPhoneClass;r.options.colSelector=r.options.colPhoneSelector;n(e).attr("class","fas fa-mobile").attr("title","Phone");break;default:u="("+r.options.colPhoneClass+"\\d+)";f="("+r.options.colTabletClass+"\\d+)";r.options.currentClassMode=r.options.colDesktopClass;r.options.colSelector=r.options.colDesktopSelector;n(e).attr("class","fas fa-desktop").attr("title","Desktop")}r.options.layoutDefaultMode=t;i=i.replace(new RegExp(u+'(?=[^"]*">)',"gm"),"$1"+r.options.classRenameSuffix);i=i.replace(new RegExp(f+'(?=[^"]*">)',"gm"),"$1"+r.options.classRenameSuffix);o.html(i)};r.initControls=function(){var t=r.$el.find("#"+r.options.canvasId);r.log("+ InitControls Running");r.$el.on("click",".gm-preview",function(){r.status?(r.deinitCanvas(),n(this).parent().find(".gm-edit-mode").prop("disabled",!0)):(r.initCanvas(),n(this).parent().find(".gm-edit-mode").prop("disabled",!1));n(this).toggleClass(r.options.gmDangerClass)}).on("click",".gm-layout-mode a",function(){r.switchLayoutMode(n(this).data("width"))}).on("click",".gm-edit-mode",function(){if(r.mode==="visual")r.deinitCanvas(),t.html(n("<textarea/>").attr("cols",130).attr("rows",25).val(t.html())),r.mode="html",n(this).parent().find(".gm-preview, .gm-layout-mode > button").prop("disabled",!0);else{var i=t.find("textarea").val();t.html(i);r.initCanvas();r.mode="visual";n(this).parent().find(".gm-preview, .gm-layout-mode > button").prop("disabled",!1)}n(this).toggleClass(r.options.gmDangerClass)}).on("click","."+r.options.gmEditRegion+" ."+r.options.gmContentRegion,function(){n(this).attr("contenteditable")||(n(this).attr("contenteditable",!0),r.rteControl("attach",n(this)))}).on("click","a.gm-save",function(){r.deinitCanvas();r.saveremote()}).on("click","a.gm-rowSettings",function(){var t=n(this).closest(r.options.rowSelector),i=t.find(".gm-rowSettingsDrawer");i.length>0?i.remove():t.prepend(r.generateRowSettings(t))}).on("blur","input.gm-rowSettingsID",function(){var t=n(this).closest(r.options.rowSelector);t.attr("id",n(this).val())}).on("click",".gm-toggleRowClass",function(){var t=n(this).closest(r.options.rowSelector),i=n(this).text().trim();t.toggleClass(i);t.hasClass(i)?n(this).addClass(r.options.gmDangerClass):n(this).removeClass(r.options.gmDangerClass)}).on("click","a.gm-colSettings",function(){var t=n(this).closest(r.options.colSelector),i=t.find(".gm-colSettingsDrawer");i.length>0?i.remove():t.prepend(r.generateColSettings(t))}).on("blur","input.gm-colSettingsID",function(){var t=n(this).closest(r.options.colSelector);t.attr("id",n(this).val())}).on("click",".gm-togglecolClass",function(){var t=n(this).closest(r.options.colSelector),i=n(this).text().trim();t.toggleClass(i);t.hasClass(i)?n(this).addClass(r.options.gmDangerClass):n(this).removeClass(r.options.gmDangerClass)}).on("click","a.gm-addColumn",function(){n(this).parent().after(r.createCol(2));r.switchLayoutMode(r.options.layoutDefaultMode);r.reset()}).on("click","a.gm-addRow",function(){r.log("Adding nested row");n(this).closest("."+r.options.gmEditClass).append(n("<div>").addClass(r.options.rowClass).html(r.createCol(6)).append(r.createCol(6)));r.reset()}).on("click","a.gm-colDecrease",function(){var i=n(this).closest("."+r.options.gmEditClass),t=r.getColClass(i);t.colWidth>parseInt(r.options.colResizeStep,10)&&(t.colWidth=parseInt(t.colWidth,10)-parseInt(r.options.colResizeStep,10),i.switchClass(t.colClass,r.options.currentClassMode+t.colWidth,200))}).on("click","a.gm-colIncrease",function(){var i=n(this).closest("."+r.options.gmEditClass),t=r.getColClass(i);t.colWidth<r.options.colMax&&(t.colWidth=parseInt(t.colWidth,10)+parseInt(r.options.colResizeStep,10),i.switchClass(t.colClass,r.options.currentClassMode+t.colWidth,200))}).on("click","a.gm-resetgrid",function(){t.html("");r.reset()}).on("click","a.gm-removeCol",function(){n(this).closest("."+r.options.gmEditClass).animate({opacity:"hide",width:"hide",height:"hide"},400,function(){n(this).remove()});r.log("Column Removed")}).on("click","a.gm-removeRow",function(){r.log(n(this).closest("."+r.options.colSelector));n(this).closest("."+r.options.gmEditClass).animate({opacity:"hide",height:"hide"},400,function(){n(this).remove()});r.log("Row Removed")}).on("click","a.gm-resetgrid, a.gm-remove, a.gm-removeRow, a.gm-save, button.gm-preview, a.gm-viewsource, a.gm-addColumn, a.gm-colDecrease, a.gm-colIncrease",function(t){r.log("Clicked: "+n.grep(this.className.split(" "),function(n){return n.indexOf("gm-")===0}).join());t.preventDefault()})};r.initGlobalCustomControls=function(){var u=r.$el.find("#"+r.options.canvasId),t=[],i="";n.each(["row","col"],function(f,e){typeof r.options.customControls["global_"+e]!="undefined"&&(t=u.find(r.options[e+"Selector"]),n.each(r.options.customControls["global_"+e],function(u,f){typeof f.callback!="undefined"&&(typeof f.loc=="undefined"&&(f.loc="top"),typeof f.iconClass=="undefined"&&(f.iconClass="fas fa-file-code"),typeof f.btnLabel=="undefined"&&(f.btnLabel=""),typeof f.title=="undefined"&&(f.title=""),i=typeof f.callback=="function"?u+"_btn":f.callback,btnObj={element:"a",btnClass:"gm-"+i,iconClass:f.iconClass,btnLabel:f.btnLabel,title:f.title},n.each(t,function(n,t){r.setupCustomBtn(t,f.loc,"window",f.callback,btnObj)}))}))})};r.initCustomControls=function(){var h=r.$el.find("#"+r.options.canvasId),t="",u="",i="",f="",e={},o="",s="";n("."+r.options.colClass+":data, ."+r.options.rowClass+":data",h).each(function(){for(prop in n(this).data())if(prop.indexOf("gmButton")===0){if(i=prop.replace("gmButton",""),t=n(this).data()[prop].split("|"),t.length===0||i==="")break;f=typeof t[3]!="undefined"?t[3]:"top";o=typeof t[2]!="undefined"?t[2]:"fas fa-file-code";s=typeof t[1]!="undefined"?t[1]:"";u=t[0];e={element:"a",btnClass:"gm-"+i,iconClass:o,btnLabel:s};r.setupCustomBtn(this,f,u,i,e);break}})};r.setupCustomBtn=function(t,i,u,f,e){var o=null;if(typeof f=="string")o=r.isValidCallback(u,f.toLowerCase());else if(typeof f=="function")o=f;else return!1;i=i==="bottom"?":last":":first";n("."+r.options.gmToolClass+i,t).append(r.buttonFactory([e])).find(":last").on("click",function(n){o(t,this);n.preventDefault()});return!0};r.clearComments=function(t){n(t,"#"+r.options.canvasId).contents().filter(function(){return this.nodeType===8}).remove()};r.isValidCallback=function(n,t){var i=null;if(n==="window")if(typeof window[t]=="function")i=window[t];else return!1;else if(typeof window[n][t]=="function")i=window[n][t];else return!1;return i};r.getColClass=function(t){var i=n.grep(t.attr("class").split(" "),function(n){return n.indexOf(r.options.currentClassMode)===0}).join(),u=i.replace(r.options.currentClassMode,"");return{colClass:i,colWidth:u}};r.runFilter=function(n,t){typeof r.options.filterCallback=="function"&&r.options.filterCallback(n,t);r.options.editableRegionEnabled&&r.editableAreaFilter(n,t)};r.initCanvas=function(){var t=r.$el.find("#"+r.options.canvasId),u,i;r.switchLayoutMode(r.options.layoutDefaultMode);u=t.find(r.options.colSelector);i=t.find(r.options.rowSelector);r.log("+ InitCanvas Running");r.$el.find("#gm-addnew").show();r.activateRows(i);r.activateCols(u);r.runFilter(t,!0);u=t.find(r.options.colSelector);i=t.find(r.options.rowSelector);t.sortable({items:i,axis:"y",placeholder:r.options.rowSortingClass,handle:".gm-moveRow",forcePlaceholderSize:!0,opacity:.7,revert:!0,tolerance:"pointer",cursor:"move"});n.each(i,function(t,i){n(i).sortable({items:n(i).find(r.options.colSelector),axis:"x",handle:".gm-moveCol",forcePlaceholderSize:!0,opacity:.7,revert:!0,tolerance:"pointer",containment:n(i),cursor:"move"})});r.status=!0;r.mode="visual";r.initCustomControls();r.initGlobalCustomControls();r.initNewContentElem()};r.deinitCanvas=function(){var n=r.$el.find("#"+r.options.canvasId),t=n.find(r.options.colSelector),i=n.find(r.options.rowSelector);r.log("- deInitCanvas Running");r.$el.find("#gm-addnew").hide();r.deactivateRows(i);r.deactivateCols(t);r.cleanup();r.runFilter(n,!1);r.status=!1};r.saveremote=function(){var t=r.$el.find("#"+r.options.canvasId);n.ajax({type:"POST",url:r.options.remoteURL,data:{content:t.html()}});r.log("Save Function Called")};r.activateRows=function(n){r.log("++ Activate Rows");n.addClass(r.options.gmEditClass).prepend(r.toolFactory(r.options.rowButtonsPrepend)).append(r.toolFactory(r.options.rowButtonsAppend))};r.deactivateRows=function(n){r.log("-- DeActivate Rows");n.removeClass(r.options.gmEditClass).removeClass("ui-sortable").removeAttr("style")};r.createRow=function(t){var i=n("<div/>",{"class":r.options.rowClass+" "+r.options.gmEditClass});return n.each(t,function(n,t){i.append(r.createCol(t))}),r.log("++ Created Row"),i};r.generateRowSettings=function(t){var i=[],u;return n.each(r.options.rowCustomClasses,function(u,f){var e=n("<button/>").addClass("gm-toggleRowClass").addClass(r.options.controlButtonClass).append(n("<span/>").addClass(r.options.controlButtonSpanClass)).append(" "+f);t.hasClass(f)&&e.addClass(r.options.gmDangerClass);i.push(e[0].outerHTML)}),u=n("<div/>").addClass("gm-rowSettingsDrawer").addClass(r.options.gmToolClass).addClass(r.options.gmClearClass).prepend(n("<div />").addClass(r.options.gmBtnGroup).addClass(r.options.gmFloatLeft).html(i.join(""))).append(n("<div />").addClass("pull-right").html(n("<label />").html("Row ID ").append(n("<input>").addClass("gm-rowSettingsID").attr({type:"text",placeholder:"Row ID",value:t.attr("id")})))),u[0].outerHTML};r.generateColSettings=function(t){var i=[],u;return n.each(r.options.colCustomClasses,function(u,f){var e=n("<button/>").addClass("gm-togglecolClass").addClass(r.options.controlButtonClass).append(n("<span/>").addClass(r.options.controlButtonSpanClass)).append(" "+f);t.hasClass(f)&&e.addClass(r.options.gmDangerClass);i.push(e[0].outerHTML)}),u=n("<div/>").addClass("gm-colSettingsDrawer").addClass(r.options.gmToolClass).addClass(r.options.gmClearClass).prepend(n("<div />").addClass(r.options.gmBtnGroup).addClass(r.options.gmFloatLeft).html(i.join(""))).append(n("<div />").addClass("pull-right").html(n("<label />").html("col ID ").append(n("<input>").addClass("gm-colSettingsID").attr({type:"text",placeholder:"col ID",value:t.attr("id")})))),u[0].outerHTML};r.activateCols=function(t){t.addClass(r.options.gmEditClass);n.each(t,function(t,i){n(i).prepend(r.toolFactory(r.options.colButtonsPrepend));n(i).append(r.toolFactory(r.options.colButtonsAppend))});r.log("++ Activate Cols Ran")};r.deactivateCols=function(t){t.removeClass(r.options.gmEditClass).removeClass(r.options.gmEditClassSelected).removeClass("ui-sortable");n.each(t.children(),function(t,i){n(i).hasClass(r.options.gmEditRegion)&&(n(i).html()!==""?n(i).contents().unwrap():n(i).remove())});r.log("-- deActivate Cols Ran")};r.createCol=function(t){var i=n("<div/>").addClass(r.options.colClass).addClass(r.options.colDesktopClass+t).addClass(r.options.colTabletClass+t).addClass(r.options.colPhoneClass+t).addClass(r.options.gmEditClass).addClass(r.options.colAdditionalClass).html(r.toolFactory(r.options.colButtonsPrepend)).prepend(r.toolFactory(r.options.colButtonsPrepend)).append(r.toolFactory(r.options.colButtonsAppend));return r.log("++ Created Column "+t),i};r.addEditableAreaClick=function(t){var u="<!--"+r.options.gmEditRegion+"-->",f="<!--/"+r.options.gmEditRegion+"-->",i=null;n("."+r.options.gmToolClass+":last",t).before(i=n("<div>").addClass(r.options.gmEditRegion+" "+r.options.contentDraggableClass).append(r.options.controlContentElem+'<div class="'+r.options.gmContentRegion+'"><p>New Content<\/p><\/div>')).before(f).prev().before(u);r.initNewContentElem(i)};r.initNewContentElem=function(t){var i=null;i=typeof t=="undefined"?r.$el.find("."+r.options.colClass):t.closest("."+r.options.colClass);n.each(i,function(t,i){n(i).on("click",".gm-delete",function(t){n(this).closest("."+r.options.gmEditRegion).remove();r.resetCommentTags(i);t.preventDefault()});n(i).sortable({items:"."+r.options.contentDraggableClass,axis:"y",placeholder:r.options.rowSortingClass,handle:"."+r.options.controlMove,forcePlaceholderSize:!0,opacity:.7,revert:!0,tolerance:"pointer",cursor:"move",stop:function(t,i){r.resetCommentTags(n(i.item).parent())}})})};r.resetCommentTags=function(t){var i="<!--"+r.options.gmEditRegion+"-->",u="<!--/"+r.options.gmEditRegion+"-->";r.clearComments(t);n("."+r.options.gmEditRegion,t).before(i).after(u)};r.selectColClick=function(t,i){n(i).toggleClass("fas fa-square fas fa-check-square");n(i).hasClass("fa-check-square")?n(t).addClass(r.options.gmEditClassSelected):n(t).removeClass(r.options.gmEditClassSelected)};r.editableAreaFilter=function(t,i){if(i){var f="<!--"+r.options.gmEditRegion+"-->",e="<!--/"+r.options.gmEditRegion+"-->",o=new RegExp("(?:"+f+")\\s*([\\s\\S]+?)\\s*(?:"+e+")","g"),u=n(t).html(),s=f+'<div class="'+r.options.gmEditRegion+" "+r.options.contentDraggableClass+'">'+r.options.controlContentElem+'<div class="'+r.options.gmContentRegion+'">$1<\/div><\/div>'+e;u=u.replace(o,s);n(t).html(u);r.log("editableAreaFilter init ran")}else n("."+r.options.controlNestedEditable,t).remove(),n("."+r.options.gmContentRegion).contents().unwrap(),r.log("editableAreaFilter deinit ran")};r.toolFactory=function(t){var i=n("<div/>").addClass(r.options.gmToolClass).addClass(r.options.gmClearClass).html(r.buttonFactory(t));return i[0].outerHTML};r.buttonFactory=function(t){var i=[];return n.each(t,function(n,t){t.btnLabel=typeof t.btnLabel=="undefined"?"":t.btnLabel;t.title=typeof t.title=="undefined"?"":t.title;i.push("<"+t.element+" title='"+t.title+"' class='"+t.btnClass+"'><span class='"+t.iconClass+"'><\/span>&nbsp;"+t.btnLabel+"<\/"+t.element+"> ")}),i.join("")};r.generateButtonClass=function(t){var i="";return n.each(t,function(n,t){i=i+"-"+t}),i};r.generateClickHandler=function(n){var t="a.add"+r.generateButtonClass(n),i=r.$el.find("#"+r.options.canvasId);r.$el.on("click",t,function(u){r.log("Clicked "+t);i.prepend(r.createRow(n));r.reset();u.preventDefault()})};r.rteControl=function(t,i){r.log("RTE "+r.options.rte+" "+t);switch(t){case"init":typeof CKEDITOR!="undefined"&&(r.options.rte="ckeditor",r.log("++ CKEDITOR Found"),window.CKEDITOR.disableAutoInline=!0);typeof tinymce!="undefined"&&(r.options.rte="tinymce",r.log("++ TINYMCE Found"));break;case"attach":switch(r.options.rte){case"tinymce":i.hasClass("mce-content-body")||i.tinymce(r.options.tinymce.config);break;case"ckeditor":n(i).ckeditor(r.options.ckeditor);break;default:r.log("No RTE specified for attach")}break;case"stop":switch(r.options.rte){case"tinymce":window.tinymce.remove();r.log("-- TinyMCE destroyed");break;case"ckeditor":for(var u in window.CKEDITOR.instances)window.CKEDITOR.instances[u].destroy();r.log("-- CKEDITOR destroyed");break;default:r.log("No RTE specified for stop")}break;default:r.log("No RTE Action specified")}};r.reset=function(){r.log("~~RESET~~");r.deinitCanvas();r.initCanvas()};r.cleanup=function(){var n,t;n=r.$el.find("#"+r.options.canvasId);t=r.mode!=="visual"?n.find("textarea").val():n.html();n.html(r.cleanSubstring(r.options.classRenameSuffix,t,""));n.find(r.options.colSelector).removeAttr("style").removeAttr("spellcheck").removeClass("mce-content-body").end().find("img").removeAttr("style").addClass("img-responsive").removeAttr("data-cke-saved-src").removeAttr("data-mce-src").end().find("."+r.options.gmToolClass).remove();r.rteControl("stop");r.log("~~Cleanup Ran~~")};r.log=function(n){r.options.debug&&window.console!==undefined&&window.console.log(n)};r.init()};n.gridmanager.defaultOptions={debug:0,colSelectEnabled:!0,editableRegionEnabled:!0,autoEdit:!0,remoteURL:"/replace-with-your-url",cssInclude:"",filterCallback:null,canvasId:"gm-canvas",controlId:"gm-controls",controlMove:"gm-move",controlNestedEditable:"gm-controls-element",controlButtons:[[12],[6,6],[4,4,4],[3,3,3,3],[2,2,2,2,2,2],[2,8,2],[3,6,3],[4,8],[8,4]],customControls:{global_row:[],global_col:[]},controlButtonClass:"btn btn-sm btn-info",controlButtonSpanClass:"fas fa-plus-circle",controlAppend:"<div class='btn-group float-right'><button title='Edit Source Code' type='button' class='btn btn-sm btn-info gm-edit-mode'><i class='fas fa-code'><\/i><\/button><button title='Preview' type='button' class='btn btn-sm btn-info gm-preview'><i class='fas fa-eye'><\/i><\/button><div class='dropdown pull-left gm-layout-mode'><button type='button' class='btn btn-sm btn-info dropdown-toggle' data-toggle='dropdown'><span class='caret'><\/span><\/button><ul class='dropdown-menu' role='menu'><li><a data-width='auto' title='Desktop'><span class='fas fa-desktop mr-2'><\/span> Desktop<\/a><\/li><li><a title='Tablet' data-width='768'><span class='fas fa-tablet mr-2'><\/span> Tablet<\/a><\/li><li><a title='Phone' data-width='640'><span class='fas fa-mobile mr-2'><\/span> Phone<\/a><\/li><\/ul><\/div><\/div>",controlContentElem:'<div class="gm-controls-element"><a class="gm-move fas fa-arrows-alt" href="#" title="Move"><\/a><a class="gm-delete fas fa-times" href="#" title="Delete"><\/a><\/div>',gmEditClass:"gm-editing",gmEditClassSelected:"gm-editing-selected",gmEditRegion:"gm-editable-region",gmContentRegion:"gm-content",gmToolClass:"gm-tools",gmClearClass:"clearfix",gmFloatLeft:"float-left",gmFloatRight:"float-right",gmBtnGroup:"btn-group",gmDangerClass:"btn-danger",rowClass:"row-fluid",rowSelector:"div.row-fluid",rowSortingClass:"alert-warning",rowButtonsPrepend:[{title:"Move",element:"a",btnClass:"gm-moveRow float-left",iconClass:"fas fa-arrows-alt"},{title:"New Column",element:"a",btnClass:"gm-addColumn float-left  ",iconClass:"fas fa-plus"},{title:"Row Settings",element:"a",btnClass:"float-right gm-rowSettings",iconClass:"fas fa-cog"}],rowButtonsAppend:[{title:"Remove row",element:"a",btnClass:"float-right gm-removeRow",iconClass:"fas fa-trash"}],rowCustomClasses:["example-class","test-class"],colClass:"column float-left",contentDraggableClass:"gm-content-draggable",addResponsiveClasses:!0,addDefaultColumnClass:!0,colDesktopClass:"col-lg-",colTabletClass:"col-md-",colPhoneClass:"col-xs-",colDesktopSelector:"div[class*=col-lg-]",colTabletSelector:"div[class*=col-md-]",colPhoneSelector:"div[class*=col-xs-]",classRenameSuffix:"-clsstmp",layoutDefaultMode:"auto",currentClassMode:"",colAdditionalClass:"",colButtonsPrepend:[{title:"Move",element:"a",btnClass:"gm-moveCol float-left",iconClass:"fas fa-arrows-alt"},{title:"Column Settings",element:"a",btnClass:"float-right gm-colSettings",iconClass:"fas fa-cog"},{title:"Make Column Narrower",element:"a",btnClass:"gm-colDecrease float-left",iconClass:"fas fa-minus"},{title:"Make Column Wider",element:"a",btnClass:"gm-colIncrease float-left",iconClass:"fas fa-plus"}],colButtonsAppend:[{title:"Add Nested Row",element:"a",btnClass:"float-left gm-addRow",iconClass:"fas fa-plus-square"},{title:"Remove Column",element:"a",btnClass:"float-right gm-removeCol",iconClass:"fas fa-trash"}],colCustomClasses:["example-col-class","test-class"],colMax:12,colResizeStep:1,tinymce:{config:{theme:"modern",skin:"custom",inline:!0,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table contextmenu paste"],toolbar:"insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image"}},ckeditor:{customConfig:""}};n.fn.gridmanager=function(t){return this.each(function(){var i=n(this),r=new n.gridmanager(this,t);i.data("gridmanager",r)})};n.expr[":"].regex=function(n,t,i){var r=i[3].split(","),u=/^(data|css):/,f={method:r[0].match(u)?r[0].split(":")[0]:"attr",property:r.shift().replace(u,"")},e=new RegExp(r.join("").replace(/^\s+|\s+$/g,""),"ig");return e.test(jQuery(n)[f.method](f.property))}})(jQuery);
/*! flip - v1.1.2 - 2016-10-20
* https://github.com/nnattawat/flip
* Copyright (c) 2016 Nattawat Nonsung; Licensed MIT */
(function(n){var i=function(){var n,i=document.createElement("fakeelement"),t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(n in t)if(i.style[n]!==undefined)return t[n]},t=function(t,i,r){this.setting={axis:"y",reverse:!1,trigger:"click",speed:500,forceHeight:!1,forceWidth:!1,autoSize:!0,front:".front",back:".back"};this.setting=n.extend(this.setting,i);typeof i.axis=="string"&&(i.axis.toLowerCase()==="x"||i.axis.toLowerCase()==="y")&&(this.setting.axis=i.axis.toLowerCase());typeof i.reverse=="boolean"&&(this.setting.reverse=i.reverse);typeof i.trigger=="string"&&(this.setting.trigger=i.trigger.toLowerCase());var u=parseInt(i.speed);isNaN(u)||(this.setting.speed=u);typeof i.forceHeight=="boolean"&&(this.setting.forceHeight=i.forceHeight);typeof i.forceWidth=="boolean"&&(this.setting.forceWidth=i.forceWidth);typeof i.autoSize=="boolean"&&(this.setting.autoSize=i.autoSize);(typeof i.front=="string"||i.front instanceof n)&&(this.setting.front=i.front);(typeof i.back=="string"||i.back instanceof n)&&(this.setting.back=i.back);this.element=t;this.frontElement=this.getFrontElement();this.backElement=this.getBackElement();this.isFlipped=!1;this.init(r)};n.extend(t.prototype,{flipDone:function(n){var t=this;t.element.one(i(),function(){t.element.trigger("flip:done");typeof n=="function"&&n.call(t.element)})},flip:function(n){if(!this.isFlipped){this.isFlipped=!0;var t="rotate"+this.setting.axis;this.frontElement.css({transform:t+(this.setting.reverse?"(-180deg)":"(180deg)"),"z-index":"0"});this.backElement.css({transform:t+"(0deg)","z-index":"1"});this.flipDone(n)}},unflip:function(n){if(this.isFlipped){this.isFlipped=!1;var t="rotate"+this.setting.axis;this.frontElement.css({transform:t+"(0deg)","z-index":"1"});this.backElement.css({transform:t+(this.setting.reverse?"(180deg)":"(-180deg)"),"z-index":"0"});this.flipDone(n)}},getFrontElement:function(){return this.setting.front instanceof n?this.setting.front:this.element.find(this.setting.front)},getBackElement:function(){return this.setting.back instanceof n?this.setting.back:this.element.find(this.setting.back)},init:function(n){var t=this,i=t.frontElement.add(t.backElement),u="rotate"+t.setting.axis,e=t.element["outer"+(u==="rotatex"?"Height":"Width")]()*2,f={perspective:e,position:"relative"},o={transform:u+"("+(t.setting.reverse?"180deg":"-180deg")+")","z-index":"0",position:"relative"},r={"backface-visibility":"hidden","transform-style":"preserve-3d",position:"absolute","z-index":"1"};t.setting.forceHeight?i.outerHeight(t.element.height()):t.setting.autoSize&&(r.height="100%");t.setting.forceWidth?i.outerWidth(t.element.width()):t.setting.autoSize&&(r.width="100%");(window.chrome||window.Intl&&Intl.v8BreakIterator)&&"CSS"in window&&(f["-webkit-transform-style"]="preserve-3d");i.css(r).find("*").css({"backface-visibility":"hidden"});t.element.css(f);t.backElement.css(o);setTimeout(function(){var r=t.setting.speed/1e3||.5;i.css({transition:"all "+r+"s ease-out"});typeof n=="function"&&n.call(t.element)},20);t.attachEvents()},clickHandler:function(t){(t||(t=window.event),this.element.find(n(t.target).closest('button, a, input[type="submit"]')).length)||(this.isFlipped?this.unflip():this.flip())},hoverHandler:function(){var t=this;t.element.off("mouseleave.flip");t.flip();setTimeout(function(){t.element.on("mouseleave.flip",n.proxy(t.unflip,t));t.element.is(":hover")||t.unflip()},t.setting.speed+150)},attachEvents:function(){var t=this;if(t.setting.trigger==="click")t.element.on(n.fn.tap?"tap.flip":"click.flip",n.proxy(t.clickHandler,t));else if(t.setting.trigger==="hover"){t.element.on("mouseenter.flip",n.proxy(t.hoverHandler,t));t.element.on("mouseleave.flip",n.proxy(t.unflip,t))}},flipChanged:function(n){this.element.trigger("flip:change");typeof n=="function"&&n.call(this.element)},changeSettings:function(n,t){var i=this,u=!1,r,e,f;n.axis!==undefined&&i.setting.axis!==n.axis.toLowerCase()&&(i.setting.axis=n.axis.toLowerCase(),u=!0);n.reverse!==undefined&&i.setting.reverse!==n.reverse&&(i.setting.reverse=n.reverse,u=!0);u?(r=i.frontElement.add(i.backElement),e=r.css(["transition-property","transition-timing-function","transition-duration","transition-delay"]),r.css({transition:"none"}),f="rotate"+i.setting.axis,i.isFlipped?i.frontElement.css({transform:f+(i.setting.reverse?"(-180deg)":"(180deg)"),"z-index":"0"}):i.backElement.css({transform:f+(i.setting.reverse?"(180deg)":"(-180deg)"),"z-index":"0"}),setTimeout(function(){r.css(e);i.flipChanged(t)},0)):i.flipChanged(t)}});n.fn.flip=function(i,r){return typeof i=="function"&&(r=i),typeof i=="string"||typeof i=="boolean"?this.each(function(){var t=n(this).data("flip-model");i==="toggle"&&(i=!t.isFlipped);i?t.flip(r):t.unflip(r)}):this.each(function(){if(n(this).data("flip-model")){var u=n(this).data("flip-model");i&&(i.axis!==undefined||i.reverse!==undefined)&&u.changeSettings(i,r)}else n(this).data("flip-model",new t(n(this),i||{},r))}),this}})(jQuery);hs||(hs={lang:{cssDirection:"ltr",loadingText:"Loading...",loadingTitle:"Click to cancel",focusTitle:"Click to bring to front",fullExpandTitle:"Expand to actual size (f)",creditsText:"Powered by <i>Highslide JS<\/i>",creditsTitle:"Go to the Highslide JS homepage",previousText:"Previous",nextText:"Next",moveText:"Move",closeText:"Close",closeTitle:"Close (esc)",resizeTitle:"Resize",playText:"Play",playTitle:"Play slideshow (spacebar)",pauseText:"Pause",pauseTitle:"Pause slideshow (spacebar)",previousTitle:"Previous (arrow left)",nextTitle:"Next (arrow right)",moveTitle:"Move",fullExpandText:"1:1",number:"Image %1 of %2",restoreTitle:"Click to close image, click and drag to move. Use arrow keys for next and previous."},graphicsDir:"highslide/graphics/",expandCursor:"zoomin.cur",restoreCursor:"zoomout.cur",expandDuration:250,restoreDuration:250,marginLeft:15,marginRight:15,marginTop:15,marginBottom:15,zIndexCounter:1001,loadingOpacity:.75,allowMultipleInstances:!0,numberOfImagesToPreload:5,outlineWhileAnimating:2,outlineStartOffset:3,padToMinWidth:!1,fullExpandPosition:"bottom right",fullExpandOpacity:1,showCredits:!0,creditsHref:"http://highslide.com/",creditsTarget:"_self",enableKeyListener:!0,openerTagNames:["a","area"],transitions:[],transitionDuration:250,dimmingOpacity:0,dimmingDuration:50,allowWidthReduction:!1,allowHeightReduction:!0,preserveContent:!0,objectLoadTime:"before",cacheAjax:!0,anchor:"auto",align:"auto",targetX:null,targetY:null,dragByHeading:!0,minWidth:200,minHeight:200,allowSizeReduction:!0,outlineType:"drop-shadow",skin:{controls:'<div class="highslide-controls"><ul><li class="highslide-previous"><a href="#" title="{hs.lang.previousTitle}"><span>{hs.lang.previousText}<\/span><\/a><\/li><li class="highslide-play"><a href="#" title="{hs.lang.playTitle}"><span>{hs.lang.playText}<\/span><\/a><\/li><li class="highslide-pause"><a href="#" title="{hs.lang.pauseTitle}"><span>{hs.lang.pauseText}<\/span><\/a><\/li><li class="highslide-next"><a href="#" title="{hs.lang.nextTitle}"><span>{hs.lang.nextText}<\/span><\/a><\/li><li class="highslide-move"><a href="#" title="{hs.lang.moveTitle}"><span>{hs.lang.moveText}<\/span><\/a><\/li><li class="highslide-full-expand"><a href="#" title="{hs.lang.fullExpandTitle}"><span>{hs.lang.fullExpandText}<\/span><\/a><\/li><li class="highslide-close"><a href="#" title="{hs.lang.closeTitle}" ><span>{hs.lang.closeText}<\/span><\/a><\/li><\/ul><\/div>',contentWrapper:'<div class="highslide-header"><ul><li class="highslide-previous"><a href="#" title="{hs.lang.previousTitle}" onclick="return hs.previous(this)"><span>{hs.lang.previousText}<\/span><\/a><\/li><li class="highslide-next"><a href="#" title="{hs.lang.nextTitle}" onclick="return hs.next(this)"><span>{hs.lang.nextText}<\/span><\/a><\/li><li class="highslide-move"><a href="#" title="{hs.lang.moveTitle}" onclick="return false"><span>{hs.lang.moveText}<\/span><\/a><\/li><li class="highslide-close"><a href="#" title="{hs.lang.closeTitle}" onclick="return hs.close(this)"><span>{hs.lang.closeText}<\/span><\/a><\/li><\/ul><\/div><div class="highslide-body"><\/div><div class="highslide-footer"><div><span class="highslide-resize" title="{hs.lang.resizeTitle}"><span><\/span><\/span><\/div><\/div>'},preloadTheseImages:[],continuePreloading:!0,expanders:[],overrides:["allowSizeReduction","useBox","anchor","align","targetX","targetY","outlineType","outlineWhileAnimating","captionId","captionText","captionEval","captionOverlay","headingId","headingText","headingEval","headingOverlay","creditsPosition","dragByHeading","autoplay","numberPosition","transitions","dimmingOpacity","width","height","contentId","allowWidthReduction","allowHeightReduction","preserveContent","maincontentId","maincontentText","maincontentEval","objectType","cacheAjax","objectWidth","objectHeight","objectLoadTime","swfOptions","wrapperClassName","minWidth","minHeight","maxWidth","maxHeight","pageOrigin","slideshowGroup","easing","easingClose","fadeInOut","src"],overlays:[],idCounter:0,oPos:{x:["leftpanel","left","center","right","rightpanel"],y:["above","top","middle","bottom","below"]},mouse:{},headingOverlay:{},captionOverlay:{},swfOptions:{flashvars:{},params:{},attributes:{}},timers:[],slideshows:[],pendingOutlines:{},sleeping:[],preloadTheseAjax:[],cacheBindings:[],cachedGets:{},clones:{},onReady:[],uaVersion:document.documentMode||parseFloat((navigator.userAgent.toLowerCase().match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1]),ie:document.all&&!window.opera,safari:/Safari/.test(navigator.userAgent),geckoMac:/Macintosh.+rv:1\.[0-8].+Gecko/.test(navigator.userAgent),$:function(n){if(n)return document.getElementById(n)},push:function(n,t){n[n.length]=t},createElement:function(n,t,i,r,u){var f=document.createElement(n);return t&&hs.extend(f,t),u&&hs.setStyles(f,{padding:0,border:"none",margin:0}),i&&hs.setStyles(f,i),r&&r.appendChild(f),f},extend:function(n,t){for(var i in t)n[i]=t[i];return n},setStyles:function(n,t){for(var i in t)hs.ieLt9&&i=="opacity"?t[i]>.99?n.style.removeAttribute("filter"):n.style.filter="alpha(opacity="+t[i]*100+")":n.style[i]=t[i]},animate:function(n,t,i){var f,e,o,u,r,s;(typeof i!="object"||i===null)&&(u=arguments,i={duration:u[2],easing:u[3],complete:u[4]});typeof i.duration!="number"&&(i.duration=250);i.easing=Math[i.easing]||Math.easeInQuad;i.curAnim=hs.extend({},t);for(r in t)s=new hs.fx(n,i,r),f=parseFloat(hs.css(n,r))||0,e=parseFloat(t[r]),o=r!="opacity"?"px":"",s.custom(f,e,o)},css:function(n,t){if(n.style[t])return n.style[t];if(document.defaultView)return document.defaultView.getComputedStyle(n,null).getPropertyValue(t);t=="opacity"&&(t="filter");var i=n.currentStyle[t.replace(/\-(\w)/g,function(n,t){return t.toUpperCase()})];return t=="filter"&&(i=i.replace(/alpha\(opacity=([0-9]+)\)/,function(n,t){return t/100})),i===""?1:i},getPageSize:function(){var n=document,f=window,t=n.compatMode&&n.compatMode!="BackCompat"?n.documentElement:n.body,i=hs.ie&&(hs.uaVersion<9||typeof pageXOffset=="undefined"),r=i?t.clientWidth:n.documentElement.clientWidth||self.innerWidth,u=i?t.clientHeight:self.innerHeight;return hs.page={width:r,height:u,scrollLeft:i?t.scrollLeft:pageXOffset,scrollTop:i?t.scrollTop:pageYOffset},hs.page},getPosition:function(n){var r,i,u,t;if(/area/i.test(n.tagName))for(r=document.getElementsByTagName("img"),i=0;i<r.length;i++)if(u=r[i].useMap,u&&u.replace(/^.*?#/,"")==n.parentNode.name){n=r[i];break}for(t={x:n.offsetLeft,y:n.offsetTop};n.offsetParent;)n=n.offsetParent,t.x+=n.offsetLeft,t.y+=n.offsetTop,n!=document.body&&n!=document.documentElement&&(t.x-=n.scrollLeft,t.y-=n.scrollTop);return t},expand:function(n,t,i,r){if(n||(n=hs.createElement("a",null,{display:"none"},hs.container)),typeof n.getParams=="function")return t;if(r=="html"){for(var u=0;u<hs.sleeping.length;u++)if(hs.sleeping[u]&&hs.sleeping[u].a==n)return hs.sleeping[u].awake(),hs.sleeping[u]=null,!1;hs.hasHtmlExpanders=!0}try{return new hs.Expander(n,t,i,r),!1}catch(f){return!0}},htmlExpand:function(n,t,i){return hs.expand(n,t,i,"html")},getSelfRendered:function(){return hs.createElement("div",{className:"highslide-html-content",innerHTML:hs.replaceLang(hs.skin.contentWrapper)})},getElementByClass:function(n,t,i){for(var u=n.getElementsByTagName(t),r=0;r<u.length;r++)if(new RegExp(i).test(u[r].className))return u[r];return null},replaceLang:function(n){var r,t,u,i;if(n=n.replace(/\s/g," "),r=/{hs\.lang\.([^}]+)\}/g,t=n.match(r),t)for(i=0;i<t.length;i++)u=t[i].replace(r,"$1"),typeof hs.lang[u]!="undefined"&&(n=n.replace(t[i],hs.lang[u]));return n},setClickEvents:function(){for(var i,t=document.getElementsByTagName("a"),n=0;n<t.length;n++)i=hs.isUnobtrusiveAnchor(t[n]),i&&!t[n].hsHasSetClick&&(function(){var r=i;hs.fireEvent(hs,"onSetClickEvent",{element:t[n],type:r})&&(t[n].onclick=i=="image"?function(){return hs.expand(this)}:function(){return hs.htmlExpand(this,{objectType:r})})}(),t[n].hsHasSetClick=!0);hs.getAnchors()},isUnobtrusiveAnchor:function(n){return n.rel=="highslide"?"image":n.rel=="highslide-ajax"?"ajax":n.rel=="highslide-iframe"?"iframe":n.rel=="highslide-swf"?"swf":void 0},getCacheBinding:function(n){for(var i,t=0;t<hs.cacheBindings.length;t++)if(hs.cacheBindings[t][0]==n)return i=hs.cacheBindings[t][1],hs.cacheBindings[t][1]=i.cloneNode(1),i;return null},preloadAjax:function(){for(var n,i=hs.getAnchors(),t=0;t<i.htmls.length;t++)n=i.htmls[t],hs.getParam(n,"objectType")=="ajax"&&hs.getParam(n,"cacheAjax")&&hs.push(hs.preloadTheseAjax,n);hs.preloadAjaxElement(0)},preloadAjaxElement:function(n){var i,t,r;hs.preloadTheseAjax[n]&&(i=hs.preloadTheseAjax[n],t=hs.getNode(hs.getParam(i,"contentId")),t||(t=hs.getSelfRendered()),r=new hs.Ajax(i,t,1),r.onError=function(){},r.onLoad=function(){hs.push(hs.cacheBindings,[i,t]);hs.preloadAjaxElement(n+1)},r.run())},focusTopmost:function(){for(var f=0,i=-1,r=hs.expanders,u,n,t=0;t<r.length;t++)u=r[t],u&&(n=u.wrapper.style.zIndex,n&&n>f&&(f=n,i=t));i==-1?hs.focusKey=-1:r[i].focus()},getParam:function(n,t){n.getParams=n.onclick;var i=n.getParams?n.getParams():null;return n.getParams=null,i&&typeof i[t]!="undefined"?i[t]:typeof hs[t]!="undefined"?hs[t]:null},getSrc:function(n){var t=hs.getParam(n,"src");return t?t:n.href},getNode:function(n){var i=hs.$(n),t=hs.clones[n];return!i&&!t?null:t?t.cloneNode(!0):(t=i.cloneNode(!0),t.id="",hs.clones[n]=t,i)},discardElement:function(n){n&&hs.garbageBin.appendChild(n);hs.garbageBin.innerHTML=""},dim:function(n){var t,i;if(!hs.dimmer&&(i=!0,hs.dimmer=hs.createElement("div",{className:"highslide-dimming highslide-viewport-size",owner:"",onclick:function(){hs.fireEvent(hs,"onDimmerClick")&&hs.close()}},{visibility:"visible",opacity:0},hs.container,!0),/(Android|iPad|iPhone|iPod)/.test(navigator.userAgent))){t=document.body;function r(){hs.setStyles(hs.dimmer,{width:t.scrollWidth+"px",height:t.scrollHeight+"px"})}r();hs.addEventListener(window,"resize",r)}hs.dimmer.style.display="";i=hs.dimmer.owner=="";hs.dimmer.owner+="|"+n.key;i&&(hs.geckoMac&&hs.dimmingGeckoFix?hs.setStyles(hs.dimmer,{background:"url("+hs.graphicsDir+"geckodimmer.png)",opacity:1}):hs.animate(hs.dimmer,{opacity:n.dimmingOpacity},hs.dimmingDuration))},undim:function(n){hs.dimmer&&((typeof n!="undefined"&&(hs.dimmer.owner=hs.dimmer.owner.replace("|"+n,"")),typeof n!="undefined"&&hs.dimmer.owner!=""||hs.upcoming&&hs.getParam(hs.upcoming,"dimmingOpacity"))||(hs.geckoMac&&hs.dimmingGeckoFix?hs.dimmer.style.display="none":hs.animate(hs.dimmer,{opacity:0},hs.dimmingDuration,null,function(){hs.dimmer.style.display="none"})))},transit:function(n,t){var i=t||hs.getExpander();if(t=i,hs.upcoming)return!1;hs.last=i;hs.removeEventListener(document,window.opera?"keypress":"keydown",hs.keyHandler);try{hs.upcoming=n;n.onclick()}catch(r){hs.last=hs.upcoming=null}try{n&&t.transitions[1]=="crossfade"||t.close()}catch(r){}return!1},previousOrNext:function(n,t){var i=hs.getExpander(n);return i?hs.transit(i.getAdjacentAnchor(t),i):!1},previous:function(n){return hs.previousOrNext(n,-1)},next:function(n){return hs.previousOrNext(n,1)},keyHandler:function(n){if((n||(n=window.event),n.target||(n.target=n.srcElement),typeof n.target.form!="undefined")||!hs.fireEvent(hs,"onKeyDown",n))return!0;var t=hs.getExpander(),i=null;switch(n.keyCode){case 70:return t&&t.doFullExpand(),!0;case 32:i=2;break;case 34:case 39:case 40:i=1;break;case 8:case 33:case 37:case 38:i=-1;break;case 27:case 13:i=0}if(i!==null){if(i!=2&&hs.removeEventListener(document,window.opera?"keypress":"keydown",hs.keyHandler),!hs.enableKeyListener)return!0;if(n.preventDefault?n.preventDefault():n.returnValue=!1,t)return i==0?t.close():i==2?t.slideshow&&t.slideshow.hitSpace():(t.slideshow&&t.slideshow.pause(),hs.previousOrNext(t.key,i)),!1}return!0},registerOverlay:function(n){hs.push(hs.overlays,hs.extend(n,{hsId:"hsId"+hs.idCounter++}))},addSlideshow:function(n){var r=n.slideshowGroup,t,i,u;if(typeof r=="object")for(t=0;t<r.length;t++){i={};for(u in n)i[u]=n[u];i.slideshowGroup=r[t];hs.push(hs.slideshows,i)}else hs.push(hs.slideshows,n)},getWrapperKey:function(n,t){for(var f=/^highslide-wrapper-([0-9]+)$/,r,u,i=n;i.parentNode;){if(i.hsKey!==undefined)return i.hsKey;if(i.id&&f.test(i.id))return i.id.replace(f,"$1");i=i.parentNode}if(!t)for(i=n;i.parentNode;){if(i.tagName&&hs.isHsAnchor(i))for(r=0;r<hs.expanders.length;r++)if(u=hs.expanders[r],u&&u.a==i)return r;i=i.parentNode}return null},getExpander:function(n,t){return typeof n=="undefined"?hs.expanders[hs.focusKey]||null:typeof n=="number"?hs.expanders[n]||null:(typeof n=="string"&&(n=hs.$(n)),hs.expanders[hs.getWrapperKey(n,t)]||null)},isHsAnchor:function(n){return n.onclick&&n.onclick.toString().replace(/\s/g," ").match(/hs.(htmlE|e)xpand/)},reOrder:function(){for(var n=0;n<hs.expanders.length;n++)hs.expanders[n]&&hs.expanders[n].isExpanded&&hs.focusTopmost()},fireEvent:function(n,t,i){return n&&n[t]?n[t](n,i)!==!1:!0},mouseClickHandler:function(n){var i,t,u,r;if(n||(n=window.event),n.button>1)return!0;for(n.target||(n.target=n.srcElement),i=n.target;i.parentNode&&!/highslide-(image|move|html|resize)/.test(i.className);)i=i.parentNode;if(t=hs.getExpander(i),t&&(t.isClosing||!t.isExpanded))return!0;if(t&&n.type=="mousedown"){if(n.target.form)return!0;if(u=i.className.match(/highslide-(image|move|resize)/),u)return hs.dragArgs={exp:t,type:u[1],left:t.x.pos,width:t.x.size,top:t.y.pos,height:t.y.size,clickX:n.clientX,clickY:n.clientY},hs.addEventListener(document,"mousemove",hs.dragHandler),n.preventDefault&&n.preventDefault(),/highslide-(image|html)-blur/.test(t.content.className)&&(t.focus(),hs.hasFocused=!0),!1;/highslide-html/.test(i.className)&&hs.focusKey!=t.key&&(t.focus(),t.doShowHide("hidden"))}else n.type=="mouseup"&&(hs.removeEventListener(document,"mousemove",hs.dragHandler),hs.dragArgs?(hs.styleRestoreCursor&&hs.dragArgs.type=="image"&&(hs.dragArgs.exp.content.style.cursor=hs.styleRestoreCursor),r=hs.dragArgs.hasDragged,r||hs.hasFocused||/(move|resize)/.test(hs.dragArgs.type)?(r||!r&&hs.hasHtmlExpanders)&&hs.dragArgs.exp.doShowHide("hidden"):hs.fireEvent(t,"onImageClick")&&t.close(),hs.dragArgs.exp.releaseMask&&(hs.dragArgs.exp.releaseMask.style.display="none"),r&&hs.fireEvent(hs.dragArgs.exp,"onDrop",hs.dragArgs),hs.hasFocused=!1,hs.dragArgs=null):/highslide-image-blur/.test(i.className)&&(i.style.cursor=hs.styleRestoreCursor));return!1},dragHandler:function(n){var t,i,r;if(!hs.dragArgs)return!0;if(n||(n=window.event),t=hs.dragArgs,i=t.exp,i.iframe&&(i.releaseMask||(i.releaseMask=hs.createElement("div",null,{position:"absolute",width:i.x.size+"px",height:i.y.size+"px",left:i.x.cb+"px",top:i.y.cb+"px",zIndex:4,background:hs.ieLt9?"white":"none",opacity:.01},i.wrapper,!0)),i.releaseMask.style.display=="none"&&(i.releaseMask.style.display="")),t.dX=n.clientX-t.clickX,t.dY=n.clientY-t.clickY,r=Math.sqrt(Math.pow(t.dX,2)+Math.pow(t.dY,2)),t.hasDragged||(t.hasDragged=t.type!="image"&&r>0||r>(hs.dragSensitivity||5)),t.hasDragged&&n.clientX>5&&n.clientY>5){if(!hs.fireEvent(i,"onDrag",t))return!1;t.type=="resize"?i.resize(t):(i.moveTo(t.left+t.dX,t.top+t.dY),t.type=="image"&&(i.content.style.cursor="move"))}return!1},wrapperMouseHandler:function(n){var i,t,r;try{if(n||(n=window.event),i=/mouseover/i.test(n.type),n.target||(n.target=n.srcElement),n.relatedTarget||(n.relatedTarget=i?n.fromElement:n.toElement),t=hs.getExpander(n.target),!t.isExpanded)return;if(!t||!n.relatedTarget||hs.getExpander(n.relatedTarget,!0)==t||hs.dragArgs)return;for(hs.fireEvent(t,i?"onMouseOver":"onMouseOut",n),r=0;r<t.overlays.length;r++)(function(){var n=hs.$("hsId"+t.overlays[r]);n&&n.hideOnMouseOut&&(i&&hs.setStyles(n,{visibility:"visible",display:""}),hs.animate(n,{opacity:i?n.opacity:0},n.dur))})()}catch(n){}},addEventListener:function(n,t,i){n==document&&t=="ready"&&hs.push(hs.onReady,i);try{n.addEventListener(t,i,!1)}catch(r){try{n.detachEvent("on"+t,i);n.attachEvent("on"+t,i)}catch(r){n["on"+t]=i}}},removeEventListener:function(n,t,i){try{n.removeEventListener(t,i,!1)}catch(r){try{n.detachEvent("on"+t,i)}catch(r){n["on"+t]=null}}},preloadFullImage:function(n){if(hs.continuePreloading&&hs.preloadTheseImages[n]&&hs.preloadTheseImages[n]!="undefined"){var t=document.createElement("img");t.onload=function(){t=null;hs.preloadFullImage(n+1)};t.src=hs.preloadTheseImages[n]}},preloadImages:function(n){var i,t,r;for(n&&typeof n!="object"&&(hs.numberOfImagesToPreload=n),i=hs.getAnchors(),t=0;t<i.images.length&&t<hs.numberOfImagesToPreload;t++)hs.push(hs.preloadTheseImages,hs.getSrc(i.images[t]));hs.outlineType?new hs.Outline(hs.outlineType,function(){hs.preloadFullImage(0)}):hs.preloadFullImage(0);hs.restoreCursor&&(r=hs.createElement("img",{src:hs.graphicsDir+hs.restoreCursor}))},init:function(){if(!hs.container){hs.ieLt7=hs.ie&&hs.uaVersion<7;hs.ieLt9=hs.ie&&hs.uaVersion<9;hs.getPageSize();hs.ie6SSL=hs.ieLt7&&location.protocol=="https:";for(var n in hs.langDefaults)typeof hs[n]!="undefined"?hs.lang[n]=hs[n]:typeof hs.lang[n]=="undefined"&&typeof hs.langDefaults[n]!="undefined"&&(hs.lang[n]=hs.langDefaults[n]);hs.container=hs.createElement("div",{className:"highslide-container"},{position:"absolute",left:0,top:0,width:"100%",zIndex:hs.zIndexCounter,direction:"ltr"},document.body,!0);hs.loading=hs.createElement("a",{className:"highslide-loading",title:hs.lang.loadingTitle,innerHTML:hs.lang.loadingText,href:"javascript:;"},{position:"absolute",top:"-9999px",opacity:hs.loadingOpacity,zIndex:1},hs.container);hs.garbageBin=hs.createElement("div",null,{display:"none"},hs.container);hs.viewport=hs.createElement("div",{className:"highslide-viewport highslide-viewport-size"},{visibility:hs.safari&&hs.uaVersion<525?"visible":"hidden"},hs.container,1);hs.clearing=hs.createElement("div",null,{clear:"both",paddingTop:"1px"},null,!0);Math.linearTween=function(n,t,i,r){return i*n/r+t};Math.easeInQuad=function(n,t,i,r){return i*(n/=r)*n+t};Math.easeOutQuad=function(n,t,i,r){return-i*(n/=r)*(n-2)+t};hs.hideSelects=hs.ieLt7;hs.hideIframes=window.opera&&hs.uaVersion<9||navigator.vendor=="KDE"||hs.ieLt7&&hs.uaVersion<5.5;hs.fireEvent(this,"onActivate")}},ready:function(){if(!hs.isReady){hs.isReady=!0;for(var n=0;n<hs.onReady.length;n++)hs.onReady[n]()}},updateAnchors:function(){for(var r,u,n,f,o=[],s=[],h=[],t={},i,e=0;e<hs.openerTagNames.length;e++)for(f=document.getElementsByTagName(hs.openerTagNames[e]),r=0;r<f.length;r++)n=f[r],i=hs.isHsAnchor(n),i&&(hs.push(o,n),i[0]=="hs.expand"?hs.push(s,n):i[0]=="hs.htmlExpand"&&hs.push(h,n),u=hs.getParam(n,"slideshowGroup")||"none",t[u]||(t[u]=[]),hs.push(t[u],n));return hs.anchors={all:o,groups:t,images:s,htmls:h},hs.anchors},getAnchors:function(){return hs.anchors||hs.updateAnchors()},close:function(n){var t=hs.getExpander(n);return t&&t.close(),!1}},hs.fx=function(n,t,i){this.options=t;this.elem=n;this.prop=i;t.orig||(t.orig={})},hs.fx.prototype={update:function(){(hs.fx.step[this.prop]||hs.fx.step._default)(this);this.options.step&&this.options.step.call(this.elem,this.now,this)},custom:function(n,t,i){function r(n){return u.step(n)}this.startTime=(new Date).getTime();this.start=n;this.end=t;this.unit=i;this.now=this.start;this.pos=this.state=0;var u=this;r.elem=this.elem;r()&&hs.timers.push(r)==1&&(hs.timerId=setInterval(function(){for(var n=hs.timers,t=0;t<n.length;t++)n[t]()||n.splice(t--,1);n.length||clearInterval(hs.timerId)},13))},step:function(n){var r=(new Date).getTime(),t,u,i;if(n||r>=this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=!0;t=!0;for(u in this.options.curAnim)this.options.curAnim[u]!==!0&&(t=!1);return t&&this.options.complete&&this.options.complete.call(this.elem),!1}return i=r-this.startTime,this.state=i/this.options.duration,this.pos=this.options.easing(i,0,1,this.options.duration),this.now=this.start+(this.end-this.start)*this.pos,this.update(),!0}},hs.extend(hs.fx,{step:{opacity:function(n){hs.setStyles(n.elem,{opacity:n.now})},_default:function(n){try{n.elem.style&&n.elem.style[n.prop]!=null?n.elem.style[n.prop]=n.now+n.unit:n.elem[n.prop]=n.now}catch(t){}}}}),hs.Outline=function(n,t){var e,r,u,i,f;if(this.onLoad=t,this.outlineType=n,e=hs.uaVersion,this.hasAlphaImageLoader=hs.ie&&hs.uaVersion<7,!n){t&&t();return}for(hs.init(),this.table=hs.createElement("table",{cellSpacing:0},{visibility:"hidden",position:"absolute",borderCollapse:"collapse",width:0},hs.container,!0),u=hs.createElement("tbody",null,null,this.table,1),this.td=[],i=0;i<=8;i++)i%3==0&&(r=hs.createElement("tr",null,{height:"auto"},u,!0)),this.td[i]=hs.createElement("td",null,null,r,!0),f=i!=4?{lineHeight:0,fontSize:0}:{position:"relative"},hs.setStyles(this.td[i],f);this.td[4].className=n+" highslide-outline";this.preloadGraphic()},hs.Outline.prototype={preloadGraphic:function(){var t=hs.graphicsDir+(hs.outlinesDir||"outlines/")+this.outlineType+".png",i=hs.safari&&hs.uaVersion<525?hs.container:null,n;this.graphic=hs.createElement("img",null,{position:"absolute",top:"-9999px"},i,!0);n=this;this.graphic.onload=function(){n.onGraphicLoad()};this.graphic.src=t},onGraphicLoad:function(){for(var u,f,t=this.offset=this.graphic.width/4,i=[[0,0],[0,-4],[-2,0],[0,-8],0,[-2,-8],[0,-2],[0,-6],[-2,-2]],r={height:2*t+"px",width:2*t+"px"},n=0;n<=8;n++)i[n]&&(this.hasAlphaImageLoader?(u=n==1||n==7?"100%":this.graphic.width+"px",f=hs.createElement("div",null,{width:"100%",height:"100%",position:"relative",overflow:"hidden"},this.td[n],!0),hs.createElement("div",null,{filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=scale, src='"+this.graphic.src+"')",position:"absolute",width:u,height:this.graphic.height+"px",left:i[n][0]*t+"px",top:i[n][1]*t+"px"},f,!0)):hs.setStyles(this.td[n],{background:"url("+this.graphic.src+") "+i[n][0]*t+"px "+i[n][1]*t+"px"}),window.opera&&(n==3||n==5)&&hs.createElement("div",null,r,this.td[n],!0),hs.setStyles(this.td[n],r));this.graphic=null;hs.pendingOutlines[this.outlineType]&&hs.pendingOutlines[this.outlineType].destroy();hs.pendingOutlines[this.outlineType]=this;this.onLoad&&this.onLoad()},setPosition:function(n,t,i){var r=this.exp,u=r.wrapper.style,t=t||0,n=n||{x:r.x.pos+t,y:r.y.pos+t,w:r.x.get("wsize")-2*t,h:r.y.get("wsize")-2*t};i&&(this.table.style.visibility=n.h>=4*this.offset?"visible":"hidden");hs.setStyles(this.table,{left:n.x-this.offset+"px",top:n.y-this.offset+"px",width:n.w+2*this.offset+"px"});n.w-=2*this.offset;n.h-=2*this.offset;hs.setStyles(this.td[4],{width:n.w>=0?n.w+"px":0,height:n.h>=0?n.h+"px":0});this.hasAlphaImageLoader&&(this.td[3].style.height=this.td[5].style.height=this.td[4].style.height)},destroy:function(n){n?this.table.style.visibility="hidden":hs.discardElement(this.table)}},hs.Dimension=function(n,t){this.exp=n;this.dim=t;this.ucwh=t=="x"?"Width":"Height";this.wh=this.ucwh.toLowerCase();this.uclt=t=="x"?"Left":"Top";this.lt=this.uclt.toLowerCase();this.ucrb=t=="x"?"Right":"Bottom";this.rb=this.ucrb.toLowerCase();this.p1=this.p2=0},hs.Dimension.prototype={get:function(n){switch(n){case"loadingPos":return this.tpos+this.tb+(this.t-hs.loading["offset"+this.ucwh])/2;case"loadingPosXfade":return this.pos+this.cb+this.p1+(this.size-hs.loading["offset"+this.ucwh])/2;case"wsize":return this.size+2*this.cb+this.p1+this.p2;case"fitsize":return this.clientSize-this.marginMin-this.marginMax;case"maxsize":return this.get("fitsize")-2*this.cb-this.p1-this.p2;case"opos":return this.pos-(this.exp.outline?this.exp.outline.offset:0);case"osize":return this.get("wsize")+(this.exp.outline?2*this.exp.outline.offset:0);case"imgPad":return this.imgSize?Math.round((this.size-this.imgSize)/2):0}},calcBorders:function(){this.cb=(this.exp.content["offset"+this.ucwh]-this.t)/2;this.marginMax=hs["margin"+this.ucrb]},calcThumb:function(){this.t=this.exp.el[this.wh]?parseInt(this.exp.el[this.wh]):this.exp.el["offset"+this.ucwh];this.tpos=this.exp.tpos[this.dim];this.tb=(this.exp.el["offset"+this.ucwh]-this.t)/2;(this.tpos==0||this.tpos==-1)&&(this.tpos=hs.page[this.wh]/2+hs.page["scroll"+this.uclt])},calcExpanded:function(){var n=this.exp;this.justify="auto";n.align=="center"?this.justify="center":new RegExp(this.lt).test(n.anchor)?this.justify=null:new RegExp(this.rb).test(n.anchor)&&(this.justify="max");this.pos=this.tpos-this.cb+this.tb;this.maxHeight&&this.dim=="x"&&(n.maxWidth=Math.min(n.maxWidth||this.full,n.maxHeight*this.full/n.y.full));this.size=Math.min(this.full,n["max"+this.ucwh]||this.full);this.minSize=n.allowSizeReduction?Math.min(n["min"+this.ucwh],this.full):this.full;n.isImage&&n.useBox&&(this.size=n[this.wh],this.imgSize=this.full);this.dim=="x"&&hs.padToMinWidth&&(this.minSize=n.minWidth);this.target=n["target"+this.dim.toUpperCase()];this.marginMin=hs["margin"+this.uclt];this.scroll=hs.page["scroll"+this.uclt];this.clientSize=hs.page[this.wh]},setSize:function(n){var t=this.exp,i;if(t.isImage&&(t.useBox||hs.padToMinWidth)?(this.imgSize=n,this.size=Math.max(this.size,this.imgSize),t.content.style[this.lt]=this.get("imgPad")+"px"):this.size=n,t.content.style[this.wh]=n+"px",t.wrapper.style[this.wh]=this.get("wsize")+"px",t.outline&&t.outline.setPosition(),t.releaseMask&&(t.releaseMask.style[this.wh]=n+"px"),this.dim=="y"&&t.iDoc&&t.body.style.height!="auto")try{t.iDoc.body.style.overflow="auto"}catch(r){}t.isHtml&&(i=t.scrollerDiv,this.sizeDiff===undefined&&(this.sizeDiff=t.innerContent["offset"+this.ucwh]-i["offset"+this.ucwh]),i.style[this.wh]=this.size-this.sizeDiff+"px",this.dim=="x"&&(t.mediumContent.style.width="auto"),t.body&&(t.body.style[this.wh]="auto"));this.dim=="x"&&t.overlayBox&&t.sizeOverlayBox(!0);this.dim=="x"&&t.slideshow&&t.isImage&&(n==this.full?t.slideshow.disable("full-expand"):t.slideshow.enable("full-expand"))},setPos:function(n){this.pos=n;this.exp.wrapper.style[this.lt]=n+"px";this.exp.outline&&this.exp.outline.setPosition()}},hs.Expander=function(n,t,i,r){var o,e,f,u,h,c,s;if(document.readyState&&hs.ie&&!hs.isReady){hs.addEventListener(document,"ready",function(){new hs.Expander(n,t,i,r)});return}for(this.a=n,this.custom=i,this.contentType=r||"image",this.isHtml=r=="html",this.isImage=!this.isHtml,hs.continuePreloading=!1,this.overlays=[],this.last=hs.last,hs.last=null,hs.init(),o=this.key=hs.expanders.length,u=0;u<hs.overrides.length;u++)e=hs.overrides[u],this[e]=t&&typeof t[e]!="undefined"?t[e]:hs[e];if(this.src||(this.src=n.href),f=t&&t.thumbnailId?hs.$(t.thumbnailId):n,f=this.thumb=f.getElementsByTagName("img")[0]||f,this.thumbsUserSetId=f.id||n.id,!hs.fireEvent(this,"onInit"))return!0;for(u=0;u<hs.expanders.length;u++)if(hs.expanders[u]&&hs.expanders[u].a==n&&!(this.last&&this.transitions[1]=="crossfade"))return hs.expanders[u].focus(),!1;if(!hs.allowSimultaneousLoading)for(u=0;u<hs.expanders.length;u++)hs.expanders[u]&&hs.expanders[u].thumb!=f&&!hs.expanders[u].onLoadStarted&&hs.expanders[u].cancelLoading();return hs.expanders[o]=this,hs.allowMultipleInstances||hs.upcoming||(hs.expanders[o-1]&&hs.expanders[o-1].close(),typeof hs.focusKey!="undefined"&&hs.expanders[hs.focusKey]&&hs.expanders[hs.focusKey].close()),this.el=f,this.tpos=this.pageOrigin||hs.getPosition(f),hs.getPageSize(),h=this.x=new hs.Dimension(this,"x"),h.calcThumb(),c=this.y=new hs.Dimension(this,"y"),c.calcThumb(),/area/i.test(f.tagName)&&this.getImageMapAreaCorrection(f),this.wrapper=hs.createElement("div",{id:"highslide-wrapper-"+this.key,className:"highslide-wrapper "+this.wrapperClassName},{visibility:"hidden",position:"absolute",zIndex:hs.zIndexCounter+=2},null,!0),this.wrapper.onmouseover=this.wrapper.onmouseout=hs.wrapperMouseHandler,this.contentType=="image"&&this.outlineWhileAnimating==2&&(this.outlineWhileAnimating=0),!this.outlineType||this.last&&this.isImage&&this.transitions[1]=="crossfade"?this[this.contentType+"Create"]():hs.pendingOutlines[this.outlineType]?(this.connectOutline(),this[this.contentType+"Create"]()):(this.showLoading(),s=this,new hs.Outline(this.outlineType,function(){s.connectOutline();s[s.contentType+"Create"]()})),!0},hs.Expander.prototype={error:function(n){hs.debug?alert("Line "+n.lineNumber+": "+n.message):window.location.href=this.src},connectOutline:function(){var n=this.outline=hs.pendingOutlines[this.outlineType];n.exp=this;n.table.style.zIndex=this.wrapper.style.zIndex-1;hs.pendingOutlines[this.outlineType]=null},showLoading:function(){var t,n;if(!this.onLoadStarted&&!this.loading&&(this.loading=hs.loading,t=this,this.loading.onclick=function(){t.cancelLoading()},hs.fireEvent(this,"onShowLoading"))){var t=this,i=this.x.get("loadingPos")+"px",r=this.y.get("loadingPos")+"px";!n&&this.last&&this.transitions[1]=="crossfade"&&(n=this.last);n&&(i=n.x.get("loadingPosXfade")+"px",r=n.y.get("loadingPosXfade")+"px",this.loading.style.zIndex=hs.zIndexCounter++);setTimeout(function(){t.loading&&hs.setStyles(t.loading,{left:i,top:r,zIndex:hs.zIndexCounter++})},100)}},imageCreate:function(){var t=this,n=document.createElement("img");this.content=n;n.onload=function(){hs.expanders[t.key]&&t.contentLoaded()};hs.blockRightClick&&(n.oncontextmenu=function(){return!1});n.className="highslide-image";hs.setStyles(n,{visibility:"hidden",display:"block",position:"absolute",maxWidth:"9999px",zIndex:3});n.title=hs.lang.restoreTitle;hs.safari&&hs.uaVersion<525&&hs.container.appendChild(n);hs.ie&&hs.flushImgSize&&(n.src=null);n.src=this.src;this.showLoading()},htmlCreate:function(){var r,n,i,t;hs.fireEvent(this,"onBeforeGetContent")&&(this.content=hs.getCacheBinding(this.a),this.content||(this.content=hs.getNode(this.contentId)),this.content||(this.content=hs.getSelfRendered()),this.getInline(["maincontent"]),this.maincontent&&(r=hs.getElementByClass(this.content,"div","highslide-body"),r&&r.appendChild(this.maincontent),this.maincontent.style.display="block"),hs.fireEvent(this,"onAfterGetContent"),n=this.innerContent=this.content,/(swf|iframe)/.test(this.objectType)&&this.setObjContainerSize(n),hs.container.appendChild(this.wrapper),hs.setStyles(this.wrapper,{position:"static",padding:"0 "+hs.marginRight+"px 0 "+hs.marginLeft+"px"}),this.content=hs.createElement("div",{className:"highslide-html"},{position:"relative",zIndex:3,height:0,overflow:"hidden"},this.wrapper),this.mediumContent=hs.createElement("div",null,null,this.content,1),this.mediumContent.appendChild(n),hs.setStyles(n,{position:"relative",display:"block",direction:hs.lang.cssDirection||""}),this.width&&(n.style.width=this.width+"px"),this.height&&hs.setStyles(n,{height:this.height+"px",overflow:"hidden"}),n.offsetWidth<this.minWidth&&(n.style.width=this.minWidth+"px"),this.objectType!="ajax"||hs.getCacheBinding(this.a)?this.objectType=="iframe"&&this.objectLoadTime=="before"?this.writeExtendedContent():this.contentLoaded():(this.showLoading(),i=this,t=new hs.Ajax(this.a,n),t.src=this.src,t.onLoad=function(){hs.expanders[i.key]&&i.contentLoaded()},t.onError=function(){location.href=i.src},t.run()))},contentLoaded:function(){var t,i,e,r,o,n,u,f;try{if(!this.content)return;if(this.content.onload=null,this.onLoadStarted)return;if(this.onLoadStarted=!0,t=this.x,i=this.y,this.loading&&(hs.setStyles(this.loading,{top:"-9999px"}),this.loading=null,hs.fireEvent(this,"onHideLoading")),this.isImage?(t.full=this.content.width,i.full=this.content.height,hs.setStyles(this.content,{width:t.t+"px",height:i.t+"px"}),this.wrapper.appendChild(this.content),hs.container.appendChild(this.wrapper)):this.htmlGetSize&&this.htmlGetSize(),t.calcBorders(),i.calcBorders(),hs.setStyles(this.wrapper,{left:t.tpos+t.tb-t.cb+"px",top:i.tpos+t.tb-i.cb+"px"}),this.initSlideshow(),this.getOverlays(),e=t.full/i.full,t.calcExpanded(),this.justify(t),i.calcExpanded(),this.justify(i),this.isHtml&&this.htmlSizeOperations(),this.overlayBox&&this.sizeOverlayBox(0,1),this.allowSizeReduction){if(this.isImage?this.correctRatio(e):this.fitOverlayBox(),r=this.slideshow,r&&this.last&&r.controls&&r.fixedControls){o=r.overlayOptions.position||"";for(u in hs.oPos)for(f=0;f<5;f++)n=this[u],o.match(hs.oPos[u][f])&&(n.pos=this.last[u].pos+(this.last[u].p1-n.p1)+(this.last[u].size-n.size)*[0,0,.5,1,1][f],r.fixedControls=="fit"&&(n.pos+n.size+n.p1+n.p2>n.scroll+n.clientSize-n.marginMax&&(n.pos=n.scroll+n.clientSize-n.size-n.marginMin-n.marginMax-n.p1-n.p2),n.pos<n.scroll+n.marginMin&&(n.pos=n.scroll+n.marginMin)))}this.isImage&&this.x.full>(this.x.imgSize||this.x.size)&&(this.createFullExpand(),this.overlays.length==1&&this.sizeOverlayBox())}this.show()}catch(s){this.error(s)}},setObjContainerSize:function(n){var t=hs.getElementByClass(n,"DIV","highslide-body");/(iframe|swf)/.test(this.objectType)&&(this.objectWidth&&(t.style.width=this.objectWidth+"px"),this.objectHeight&&(t.style.height=this.objectHeight+"px"))},writeExtendedContent:function(){var i,t,n;if(!this.hasExtendedContent){if(i=this,this.body=hs.getElementByClass(this.innerContent,"DIV","highslide-body"),this.objectType=="iframe"){this.showLoading();t=hs.clearing.cloneNode(1);this.body.appendChild(t);this.newWidth=this.innerContent.offsetWidth;this.objectWidth||(this.objectWidth=t.offsetWidth);var r=this.innerContent.offsetHeight-this.body.offsetHeight,u=this.objectHeight||hs.page.height-r-hs.marginTop-hs.marginBottom,f=this.objectLoadTime=="before"?' onload="if (hs.expanders['+this.key+"]) hs.expanders["+this.key+'].contentLoaded()" ':"";this.body.innerHTML+='<iframe name="hs'+(new Date).getTime()+'" frameborder="0" key="'+this.key+'"  style="width:'+this.objectWidth+"px; height:"+u+'px" '+f+' src="'+this.src+'" allowfullscreen><\/iframe>';this.ruler=this.body.getElementsByTagName("div")[0];this.iframe=this.body.getElementsByTagName("iframe")[0];this.objectLoadTime=="after"&&this.correctIframeSize()}this.objectType=="swf"&&(this.body.id=this.body.id||"hs-flash-id-"+this.key,n=this.swfOptions,n.params||(n.params={}),typeof n.params.wmode=="undefined"&&(n.params.wmode="transparent"),swfobject&&swfobject.embedSWF(this.src,this.body.id,this.objectWidth,this.objectHeight,n.version||"7",n.expressInstallSwfurl,n.flashvars,n.params,n.attributes));this.hasExtendedContent=!0}},htmlGetSize:function(){this.iframe&&!this.objectHeight&&(this.iframe.style.height=this.body.style.height=this.getIframePageHeight()+"px");this.innerContent.appendChild(hs.clearing);this.x.full||(this.x.full=this.innerContent.offsetWidth);this.y.full=this.innerContent.offsetHeight;this.innerContent.removeChild(hs.clearing);hs.ie&&this.newHeight>parseInt(this.innerContent.currentStyle.height)&&(this.newHeight=parseInt(this.innerContent.currentStyle.height));hs.setStyles(this.wrapper,{position:"absolute",padding:"0"});hs.setStyles(this.content,{width:this.x.t+"px",height:this.y.t+"px"})},getIframePageHeight:function(){var t,n,i;try{n=this.iDoc=this.iframe.contentDocument||this.iframe.contentWindow.document;i=n.createElement("div");i.style.clear="both";n.body.appendChild(i);t=i.offsetTop;hs.ie&&(t+=parseInt(n.body.currentStyle.marginTop)+parseInt(n.body.currentStyle.marginBottom)-1)}catch(r){t=300}return t},correctIframeSize:function(){var n=this.innerContent.offsetWidth-this.ruler.offsetWidth,t;if(hs.discardElement(this.ruler),n<0&&(n=0),t=this.innerContent.offsetHeight-this.iframe.offsetHeight,this.iDoc&&!this.objectHeight&&!this.height&&this.y.size==this.y.full)try{this.iDoc.body.style.overflow="hidden"}catch(i){}hs.setStyles(this.iframe,{width:Math.abs(this.x.size-n)+"px",height:Math.abs(this.y.size-t)+"px"});hs.setStyles(this.body,{width:this.iframe.style.width,height:this.iframe.style.height});this.scrollingContent=this.iframe;this.scrollerDiv=this.scrollingContent},htmlSizeOperations:function(){var n,t,r,u,i;this.setObjContainerSize(this.innerContent);this.objectType=="swf"&&this.objectLoadTime=="before"&&this.writeExtendedContent();this.x.size<this.x.full&&!this.allowWidthReduction&&(this.x.size=this.x.full);this.y.size<this.y.full&&!this.allowHeightReduction&&(this.y.size=this.y.full);this.scrollerDiv=this.innerContent;hs.setStyles(this.mediumContent,{position:"relative",width:this.x.size+"px"});hs.setStyles(this.innerContent,{border:"none",width:"auto",height:"auto"});n=hs.getElementByClass(this.innerContent,"DIV","highslide-body");n&&!/(iframe|swf)/.test(this.objectType)&&(t=n,n=hs.createElement(t.nodeName,null,{overflow:"hidden"},null,!0),t.parentNode.insertBefore(n,t),n.appendChild(hs.clearing),n.appendChild(t),r=this.innerContent.offsetWidth-n.offsetWidth,u=this.innerContent.offsetHeight-n.offsetHeight,n.removeChild(hs.clearing),i=hs.safari||navigator.vendor=="KDE"?1:0,hs.setStyles(n,{width:this.x.size-r-i+"px",height:this.y.size-u+"px",overflow:"auto",position:"relative"}),i&&t.offsetHeight>n.offsetHeight&&(n.style.width=parseInt(n.style.width)+i+"px"),this.scrollingContent=n,this.scrollerDiv=this.scrollingContent);this.iframe&&this.objectLoadTime=="before"&&this.correctIframeSize();!this.scrollingContent&&this.y.size<this.mediumContent.offsetHeight&&(this.scrollerDiv=this.content);this.scrollerDiv!=this.content||this.allowWidthReduction||/(iframe|swf)/.test(this.objectType)||(this.x.size+=17);this.scrollerDiv&&this.scrollerDiv.offsetHeight>this.scrollerDiv.parentNode.offsetHeight&&setTimeout("try { hs.expanders["+this.key+"].scrollerDiv.style.overflow = 'auto'; } catch(e) {}",hs.expandDuration)},getImageMapAreaCorrection:function(n){for(var f,e,r,u,t=n.coords.split(","),i=0;i<t.length;i++)t[i]=parseInt(t[i]);if(n.shape.toLowerCase()=="circle")this.x.tpos+=t[0]-t[2],this.y.tpos+=t[1]-t[2],this.x.t=this.y.t=2*t[2];else{for(r=f=t[0],u=e=t[1],i=0;i<t.length;i++)i%2==0?(r=Math.min(r,t[i]),f=Math.max(f,t[i])):(u=Math.min(u,t[i]),e=Math.max(e,t[i]));this.x.tpos+=r;this.x.t=f-r;this.y.tpos+=u;this.y.t=e-u}},justify:function(n,t){var r,i=n.target,f=n==this.x?"x":"y",e,u,o;i&&i.match(/ /)&&(r=i.split(" "),i=r[0]);i&&hs.$(i)?(n.pos=hs.getPosition(hs.$(i))[f],r&&r[1]&&r[1].match(/^[-]?[0-9]+px$/)&&(n.pos+=parseInt(r[1])),n.size<n.minSize&&(n.size=n.minSize)):n.justify=="auto"||n.justify=="center"?(e=!1,u=n.exp.allowSizeReduction,n.pos=n.justify=="center"?Math.round(n.scroll+(n.clientSize+n.marginMin-n.marginMax-n.get("wsize"))/2):Math.round(n.pos-(n.get("wsize")-n.t)/2),n.pos<n.scroll+n.marginMin&&(n.pos=n.scroll+n.marginMin,e=!0),!t&&n.size<n.minSize&&(n.size=n.minSize,u=!1),n.pos+n.get("wsize")>n.scroll+n.clientSize-n.marginMax&&(!t&&e&&u?n.size=Math.min(n.size,n.get(f=="y"?"fitsize":"maxsize")):n.get("wsize")<n.get("fitsize")?n.pos=n.scroll+n.clientSize-n.marginMax-n.get("wsize"):(n.pos=n.scroll+n.marginMin,!t&&u&&(n.size=n.get(f=="y"?"fitsize":"maxsize")))),!t&&n.size<n.minSize&&(n.size=n.minSize,u=!1)):n.justify=="max"&&(n.pos=Math.floor(n.pos-n.size+n.t));n.pos<n.marginMin&&(o=n.pos,n.pos=n.marginMin,u&&!t&&(n.size=n.size-(n.pos-o)))},correctRatio:function(n){var i=this.x,t=this.y,f=!1,r=Math.min(i.full,i.size),u=Math.min(t.full,t.size),e=this.useBox||hs.padToMinWidth;r/u>n?(r=u*n,r<i.minSize&&(r=i.minSize,u=r/n),f=!0):r/u<n&&(u=r/n,f=!0);hs.padToMinWidth&&i.full<i.minSize?(i.imgSize=i.full,t.size=t.imgSize=t.full):this.useBox?(i.imgSize=r,t.imgSize=u):(i.size=r,t.size=u);f=this.fitOverlayBox(this.useBox?null:n,f);e&&t.size<t.imgSize&&(t.imgSize=t.size,i.imgSize=t.size*n);(f||e)&&(i.pos=i.tpos-i.cb+i.tb,i.minSize=i.size,this.justify(i,!0),t.pos=t.tpos-t.cb+t.tb,t.minSize=t.size,this.justify(t,!0),this.overlayBox&&this.sizeOverlayBox())},fitOverlayBox:function(n,t){var r=this.x,i=this.y;if(this.overlayBox&&(this.isImage||this.allowHeightReduction))while(i.size>this.minHeight&&r.size>this.minWidth&&i.get("wsize")>i.get("fitsize"))i.size-=10,n&&(r.size=i.size*n),this.sizeOverlayBox(0,1),t=!0;return t},reflow:function(){if(this.scrollerDiv){var n=/iframe/i.test(this.scrollerDiv.tagName)?this.getIframePageHeight()+1+"px":"auto";this.body&&(this.body.style.height=n);this.scrollerDiv.style.height=n;this.y.setSize(this.innerContent.offsetHeight)}},show:function(){var n=this.x,t=this.y;this.doShowHide("hidden");hs.fireEvent(this,"onBeforeExpand");this.slideshow&&this.slideshow.thumbstrip&&this.slideshow.thumbstrip.selectThumb();this.changeSize(1,{wrapper:{width:n.get("wsize"),height:t.get("wsize"),left:n.pos,top:t.pos},content:{left:n.p1+n.get("imgPad"),top:t.p1+t.get("imgPad"),width:n.imgSize||n.size,height:t.imgSize||t.size}},hs.expandDuration)},changeSize:function(n,t,i){var e=this.transitions,h=n?this.last?this.last.a:null:hs.upcoming,s=e[1]&&h&&hs.getParam(h,"transitions")[1]==e[1]?e[1]:e[0],c;if(this[s]&&s!="expand"){this[s](n,t);return}this.outline&&!this.outlineWhileAnimating&&(n?this.outline.setPosition():this.outline.destroy(this.isHtml&&this.preserveContent));n||this.destroyOverlays();var r=this,u=r.x,f=r.y,o=this.easing;n||(o=this.easingClose||o);c=n?function(){r.outline&&(r.outline.table.style.visibility="visible");setTimeout(function(){r.afterExpand()},50)}:function(){r.afterClose()};n&&hs.setStyles(this.wrapper,{width:u.t+"px",height:f.t+"px"});n&&this.isHtml&&hs.setStyles(this.wrapper,{left:u.tpos-u.cb+u.tb+"px",top:f.tpos-f.cb+f.tb+"px"});this.fadeInOut&&(hs.setStyles(this.wrapper,{opacity:n?0:1}),hs.extend(t.wrapper,{opacity:n}));hs.animate(this.wrapper,t.wrapper,{duration:i,easing:o,step:function(t,i){if(r.outline&&r.outlineWhileAnimating&&i.prop=="top"){var e=n?i.pos:1-i.pos,o={w:u.t+(u.get("wsize")-u.t)*e,h:f.t+(f.get("wsize")-f.t)*e,x:u.tpos+(u.pos-u.tpos)*e,y:f.tpos+(f.pos-f.tpos)*e};r.outline.setPosition(o,0,1)}r.isHtml&&(i.prop=="left"&&(r.mediumContent.style.left=u.pos-t+"px"),i.prop=="top"&&(r.mediumContent.style.top=f.pos-t+"px"))}});hs.animate(this.content,t.content,i,o,c);n&&(this.wrapper.style.visibility="visible",this.content.style.visibility="visible",this.isHtml&&(this.innerContent.style.visibility="visible"),this.a.className+=" highslide-active-anchor")},fade:function(n,t){var i,r,u;if(this.outlineWhileAnimating=!1,i=this,r=n?hs.expandDuration:0,n&&(hs.animate(this.wrapper,t.wrapper,0),hs.setStyles(this.wrapper,{opacity:0,visibility:"visible"}),hs.animate(this.content,t.content,0),this.content.style.visibility="visible",hs.animate(this.wrapper,{opacity:1},r,null,function(){i.afterExpand()})),this.outline){this.outline.table.style.zIndex=this.wrapper.style.zIndex;var f=n||-1,e=this.outline.offset,o=n?3:e,s=n?e:3;for(u=o;f*u<=f*s;u+=f,r+=25)(function(){var t=n?s-u:o-u;setTimeout(function(){i.outline.setPosition(0,t,1)},r)})()}n||setTimeout(function(){i.outline&&i.outline.destroy(i.preserveContent);i.destroyOverlays();hs.animate(i.wrapper,{opacity:0},hs.restoreDuration,null,function(){i.afterClose()})},r)},crossfade:function(n){var s,a,h;if(n){var e=this,r=this.last,t=this.x,i=this.y,u=r.x,f=r.y,c=this.wrapper,l=this.content,o=this.overlayBox;hs.removeEventListener(document,"mousemove",hs.dragHandler);hs.setStyles(l,{width:(t.imgSize||t.size)+"px",height:(i.imgSize||i.size)+"px"});o&&(o.style.overflow="visible");this.outline=r.outline;this.outline&&(this.outline.exp=e);r.outline=null;s=hs.createElement("div",{className:"highslide-"+this.contentType},{position:"absolute",zIndex:4,overflow:"hidden",display:"none"});a={oldImg:r,newImg:this};for(h in a)this[h]=a[h].content.cloneNode(!a[h].iframe),hs.setStyles(this[h],{position:"absolute",border:0,visibility:"visible"}),s.appendChild(this[h]);c.appendChild(s);this.isHtml&&hs.setStyles(this.mediumContent,{left:0,top:0});o&&(o.className="",c.appendChild(o));s.style.display="";r.content.style.display="none";hs.safari&&hs.uaVersion<525&&(this.wrapper.style.visibility="visible");hs.animate(c,{width:t.size},{duration:hs.transitionDuration,step:function(n,h){var v=h.pos,p=1-v,y,a={},w=["pos","size","p1","p2"];for(var b in w)y=w[b],a["x"+y]=Math.round(p*u[y]+v*t[y]),a["y"+y]=Math.round(p*f[y]+v*i[y]),a.ximgSize=Math.round(p*(u.imgSize||u.size)+v*(t.imgSize||t.size)),a.ximgPad=Math.round(p*u.get("imgPad")+v*t.get("imgPad")),a.yimgSize=Math.round(p*(f.imgSize||f.size)+v*(i.imgSize||i.size)),a.yimgPad=Math.round(p*f.get("imgPad")+v*i.get("imgPad"));e.outline&&e.outline.setPosition({x:a.xpos,y:a.ypos,w:a.xsize+a.xp1+a.xp2+2*t.cb,h:a.ysize+a.yp1+a.yp2+2*i.cb});r.wrapper.style.clip="rect("+(a.ypos-f.pos)+"px, "+(a.xsize+a.xp1+a.xp2+a.xpos+2*u.cb-u.pos)+"px, "+(a.ysize+a.yp1+a.yp2+a.ypos+2*f.cb-f.pos)+"px, "+(a.xpos-u.pos)+"px)";hs.setStyles(l,{top:a.yp1+i.get("imgPad")+"px",left:a.xp1+t.get("imgPad")+"px",marginTop:i.pos-a.ypos+"px",marginLeft:t.pos-a.xpos+"px"});hs.setStyles(c,{top:a.ypos+"px",left:a.xpos+"px",width:a.xp1+a.xp2+a.xsize+2*t.cb+"px",height:a.yp1+a.yp2+a.ysize+2*i.cb+"px"});hs.setStyles(s,{width:(a.ximgSize||a.xsize)+"px",height:(a.yimgSize||a.ysize)+"px",left:a.xp1+a.ximgPad+"px",top:a.yp1+a.yimgPad+"px",visibility:"visible"});hs.setStyles(e.oldImg,{top:f.pos-a.ypos+f.p1-a.yp1+f.get("imgPad")-a.yimgPad+"px",left:u.pos-a.xpos+u.p1-a.xp1+u.get("imgPad")-a.ximgPad+"px"});hs.setStyles(e.newImg,{opacity:v,top:i.pos-a.ypos+i.p1-a.yp1+i.get("imgPad")-a.yimgPad+"px",left:t.pos-a.xpos+t.p1-a.xp1+t.get("imgPad")-a.ximgPad+"px"});o&&hs.setStyles(o,{width:a.xsize+"px",height:a.ysize+"px",left:a.xp1+t.cb+"px",top:a.yp1+i.cb+"px"})},complete:function(){c.style.visibility=l.style.visibility="visible";l.style.display="block";hs.discardElement(s);e.afterExpand();r.isHtml&&r.htmlPrepareClose();r.afterClose();e.last=null}})}},reuseOverlay:function(n){var t,i;if(!this.last)return!1;for(t=0;t<this.last.overlays.length;t++)if(i=hs.$("hsId"+this.last.overlays[t]),i&&i.hsId==n.hsId)return this.genOverlayBox(),i.reuse=this.key,hs.push(this.overlays,this.last.overlays[t]),!0;return!1},afterExpand:function(){var n,t;if(this.isExpanded=!0,this.focus(),this.isHtml&&this.objectLoadTime=="after"&&this.writeExtendedContent(),this.iframe){try{n=this;t=this.iframe.contentDocument||this.iframe.contentWindow.document;hs.addEventListener(t,"mousedown",function(){hs.focusKey!=n.key&&n.focus()})}catch(f){}hs.ie&&typeof this.isClosing!="boolean"&&(this.iframe.style.width=this.objectWidth-1+"px")}this.dimmingOpacity&&hs.dim(this);hs.upcoming&&hs.upcoming==this.a&&(hs.upcoming=null);this.prepareNextOutline();var i=hs.page,r=hs.mouse.x+i.scrollLeft,u=hs.mouse.y+i.scrollTop;this.mouseIsOver=this.x.pos<r&&r<this.x.pos+this.x.get("wsize")&&this.y.pos<u&&u<this.y.pos+this.y.get("wsize");this.overlayBox&&this.showOverlays();hs.fireEvent(this,"onAfterExpand")},prepareNextOutline:function(){var n=this.key,t=this.outlineType;new hs.Outline(t,function(){try{hs.expanders[n].preloadNext()}catch(t){}})},preloadNext:function(){var n=this.getAdjacentAnchor(1),t;n&&n.onclick.toString().match(/hs\.expand/)&&(t=hs.createElement("img",{src:hs.getSrc(n)}))},getAdjacentAnchor:function(n){var i=this.getAnchorIndex(),t=hs.anchors.groups[this.slideshowGroup||"none"];if(t&&!t[i+n]&&this.slideshow&&this.slideshow.repeat){if(n==1)return t[0];if(n==-1)return t[t.length-1]}return t&&t[i+n]||null},getAnchorIndex:function(){var t=hs.getAnchors().groups[this.slideshowGroup||"none"],n;if(t)for(n=0;n<t.length;n++)if(t[n]==this.a)return n;return null},getNumber:function(){var n,t;this[this.numberPosition]&&(n=hs.anchors.groups[this.slideshowGroup||"none"],n&&(t=hs.lang.number.replace("%1",this.getAnchorIndex()+1).replace("%2",n.length),this[this.numberPosition].innerHTML='<div class="highslide-number">'+t+"<\/div>"+this[this.numberPosition].innerHTML))},initSlideshow:function(){var t,i,n,r;if(this.last)this.slideshow=this.last.slideshow;else for(t=0;t<hs.slideshows.length;t++)n=hs.slideshows[t],i=n.slideshowGroup,(typeof i=="undefined"||i===null||i===this.slideshowGroup)&&(this.slideshow=new hs.Slideshow(this.key,n));(n=this.slideshow,n)&&(r=n.expKey=this.key,n.checkFirstAndLast(),n.disable("full-expand"),n.controls&&this.createOverlay(hs.extend(n.overlayOptions||{},{overlayId:n.controls,hsId:"controls",zIndex:5})),n.thumbstrip&&n.thumbstrip.add(this),!this.last&&this.autoplay&&n.play(!0),n.autoplay&&(n.autoplay=setTimeout(function(){hs.next(r)},n.interval||500)))},cancelLoading:function(){hs.discardElement(this.wrapper);hs.expanders[this.key]=null;hs.upcoming==this.a&&(hs.upcoming=null);hs.undim(this.key);this.loading&&(hs.loading.style.left="-9999px");hs.fireEvent(this,"onHideLoading")},writeCredits:function(){this.credits||(this.credits=hs.createElement("a",{href:hs.creditsHref,target:hs.creditsTarget,className:"highslide-credits",innerHTML:hs.lang.creditsText,title:hs.lang.creditsTitle}),this.createOverlay({overlayId:this.credits,position:this.creditsPosition||"top left",hsId:"credits"}))},getInline:function(n,t){for(var i,u,r,e,o,f=0;f<n.length;f++){if(i=n[f],u=null,i!="caption"||hs.fireEvent(this,"onBeforeGetCaption")){if(i=="heading"&&!hs.fireEvent(this,"onBeforeGetHeading"))return}else return;if(!this[i+"Id"]&&this.thumbsUserSetId&&(this[i+"Id"]=i+"-for-"+this.thumbsUserSetId),this[i+"Id"]&&(this[i]=hs.getNode(this[i+"Id"])),!this[i]&&!this[i+"Text"]&&this[i+"Eval"])try{u=eval(this[i+"Eval"])}catch(s){}if(!this[i]&&this[i+"Text"]&&(u=this[i+"Text"]),!this[i]&&!u&&(this[i]=hs.getNode(this.a["_"+i+"Id"]),!this[i]))for(r=this.a.nextSibling;r&&!hs.isHsAnchor(r);){if(new RegExp("highslide-"+i).test(r.className||null)){r.id||(this.a["_"+i+"Id"]=r.id="hsId"+hs.idCounter++);this[i]=hs.getNode(r.id);break}r=r.nextSibling}if(this[i]||u||this.numberPosition!=i||(u="\n"),!this[i]&&u&&(this[i]=hs.createElement("div",{className:"highslide-"+i,innerHTML:u})),t&&this[i]){e={position:i=="heading"?"above":"below"};for(o in this[i+"Overlay"])e[o]=this[i+"Overlay"][o];e.overlayId=this[i];this.createOverlay(e)}}},doShowHide:function(n){hs.hideSelects&&this.showHideElements("SELECT",n);hs.hideIframes&&this.showHideElements("IFRAME",n);hs.geckoMac&&this.showHideElements("*",n)},showHideElements:function(n,t){for(var u,f,s,h,o,r=document.getElementsByTagName(n),e=n=="*"?"overflow":"visibility",i=0;i<r.length;i++)(e=="visibility"||document.defaultView.getComputedStyle(r[i],"").getPropertyValue("overflow")=="auto"||r[i].getAttribute("hidden-by")!=null)&&(u=r[i].getAttribute("hidden-by"),t=="visible"&&u?(u=u.replace("["+this.key+"]",""),r[i].setAttribute("hidden-by",u),u||(r[i].style[e]=r[i].origProp)):t=="hidden"&&(f=hs.getPosition(r[i]),f.w=r[i].offsetWidth,f.h=r[i].offsetHeight,this.dimmingOpacity||(s=f.x+f.w<this.x.get("opos")||f.x>this.x.get("opos")+this.x.get("osize"),h=f.y+f.h<this.y.get("opos")||f.y>this.y.get("opos")+this.y.get("osize")),o=hs.getWrapperKey(r[i]),s||h||o==this.key?(u=="["+this.key+"]"||hs.focusKey==o)&&o!=this.key?(r[i].setAttribute("hidden-by",""),r[i].style[e]=r[i].origProp||""):u&&u.indexOf("["+this.key+"]")>-1&&r[i].setAttribute("hidden-by",u.replace("["+this.key+"]","")):u?u.indexOf("["+this.key+"]")==-1&&r[i].setAttribute("hidden-by",u+"["+this.key+"]"):(r[i].setAttribute("hidden-by","["+this.key+"]"),r[i].origProp=r[i].style[e],r[i].style[e]="hidden")))},focus:function(){var t,n;for(this.wrapper.style.zIndex=hs.zIndexCounter+=2,t=0;t<hs.expanders.length;t++)hs.expanders[t]&&t==hs.focusKey&&(n=hs.expanders[t],n.content.className+=" highslide-"+n.contentType+"-blur",n.isImage&&(n.content.style.cursor=hs.ieLt7?"hand":"pointer",n.content.title=hs.lang.focusTitle),hs.fireEvent(n,"onBlur"));this.outline&&(this.outline.table.style.zIndex=this.wrapper.style.zIndex-1);this.content.className="highslide-"+this.contentType;this.isImage&&(this.content.title=hs.lang.restoreTitle,hs.restoreCursor&&(hs.styleRestoreCursor=window.opera?"pointer":"url("+hs.graphicsDir+hs.restoreCursor+"), pointer",hs.ieLt7&&hs.uaVersion<6&&(hs.styleRestoreCursor="hand"),this.content.style.cursor=hs.styleRestoreCursor));hs.focusKey=this.key;hs.addEventListener(document,window.opera?"keypress":"keydown",hs.keyHandler);hs.fireEvent(this,"onFocus")},moveTo:function(n,t){this.x.setPos(n);this.y.setPos(t)},resize:function(n){var t,i,r=n.width/n.height;t=Math.max(n.width+n.dX,Math.min(this.minWidth,this.x.full));this.isImage&&Math.abs(t-this.x.full)<12&&(t=this.x.full);i=this.isHtml?n.height+n.dY:t/r;i<Math.min(this.minHeight,this.y.full)&&(i=Math.min(this.minHeight,this.y.full),this.isImage&&(t=i*r));this.resizeTo(t,i)},resizeTo:function(n,t){this.y.setSize(t);this.x.setSize(n);this.wrapper.style.height=this.y.get("wsize")+"px"},close:function(){if(!this.isClosing&&this.isExpanded&&(this.transitions[1]=="crossfade"&&hs.upcoming&&(hs.getExpander(hs.upcoming).cancelLoading(),hs.upcoming=null),hs.fireEvent(this,"onBeforeClose"))){this.isClosing=!0;this.slideshow&&!hs.upcoming&&this.slideshow.pause();hs.removeEventListener(document,window.opera?"keypress":"keydown",hs.keyHandler);try{this.isHtml&&this.htmlPrepareClose();this.content.style.cursor="default";this.changeSize(0,{wrapper:{width:this.x.t,height:this.y.t,left:this.x.tpos-this.x.cb+this.x.tb,top:this.y.tpos-this.y.cb+this.y.tb},content:{left:0,top:0,width:this.x.t,height:this.y.t}},hs.restoreDuration)}catch(n){this.afterClose()}}},htmlPrepareClose:function(){if(hs.geckoMac&&(hs.mask||(hs.mask=hs.createElement("div",null,{position:"absolute"},hs.container)),hs.setStyles(hs.mask,{width:this.x.size+"px",height:this.y.size+"px",left:this.x.pos+"px",top:this.y.pos+"px",display:"block"})),this.objectType=="swf")try{hs.$(this.body.id).StopPlay()}catch(n){}this.objectLoadTime!="after"||this.preserveContent||this.destroyObject();this.scrollerDiv&&this.scrollerDiv!=this.scrollingContent&&(this.scrollerDiv.style.overflow="hidden")},destroyObject:function(){if(hs.ie&&this.iframe)try{this.iframe.contentWindow.document.body.innerHTML=""}catch(n){this.iframe.src=""}this.objectType=="swf"&&swfobject.removeSWF(this.body.id);this.body.innerHTML=""},sleep:function(){this.outline&&(this.outline.table.style.display="none");this.releaseMask=null;this.wrapper.style.display="none";this.isExpanded=!1;hs.push(hs.sleeping,this)},awake:function(){var i,n,t;try{if(hs.expanders[this.key]=this,!hs.allowMultipleInstances&&hs.focusKey!=this.key)try{hs.expanders[hs.focusKey].close()}catch(r){}i=hs.zIndexCounter++;n={display:"",zIndex:i};hs.setStyles(this.wrapper,n);this.isClosing=!1;t=this.outline||0;t&&(this.outlineWhileAnimating||(n.visibility="hidden"),hs.setStyles(t.table,n));this.slideshow&&this.initSlideshow();this.show()}catch(r){}},createOverlay:function(n){var t=n.overlayId,u=n.relativeTo=="viewport"&&!/panel$/.test(n.position),r,i;(typeof t=="string"&&(t=hs.getNode(t)),n.html&&(t=hs.createElement("div",{innerHTML:n.html})),t&&typeof t!="string")&&hs.fireEvent(this,"onCreateOverlay",{overlay:t})&&((t.style.display="block",n.hsId=n.hsId||n.overlayId,this.transitions[1]=="crossfade"&&this.reuseOverlay(n,t))||(this.genOverlayBox(),r=n.width&&/^[0-9]+(px|%)$/.test(n.width)?n.width:"auto",/^(left|right)panel$/.test(n.position)&&!/^[0-9]+px$/.test(n.width)&&(r="200px"),i=hs.createElement("div",{id:"hsId"+hs.idCounter++,hsId:n.hsId},{position:"absolute",visibility:"hidden",width:r,direction:hs.lang.cssDirection||"",opacity:0},u?hs.viewport:this.overlayBox,!0),u&&(i.hsKey=this.key),i.appendChild(t),hs.extend(i,{opacity:1,offsetX:0,offsetY:0,dur:n.fade===0||n.fade===!1||n.fade==2&&hs.ie?0:250}),hs.extend(i,n),this.gotOverlays&&(this.positionOverlay(i),(!i.hideOnMouseOut||this.mouseIsOver)&&hs.animate(i,{opacity:i.opacity},i.dur)),hs.push(this.overlays,hs.idCounter-1)))},positionOverlay:function(n){var t=n.position||"middle center",f=n.relativeTo=="viewport",i=n.offsetX,r=n.offsetY,u;f?(hs.viewport.style.display="block",n.hsKey=this.key,n.offsetWidth>n.parentNode.offsetWidth&&(n.style.width="100%")):n.parentNode!=this.overlayBox&&this.overlayBox.appendChild(n);/left$/.test(t)&&(n.style.left=i+"px");/center$/.test(t)&&hs.setStyles(n,{left:"50%",marginLeft:i-Math.round(n.offsetWidth/2)+"px"});/right$/.test(t)&&(n.style.right=-i+"px");/^leftpanel$/.test(t)?(hs.setStyles(n,{right:"100%",marginRight:this.x.cb+"px",top:-this.y.cb+"px",bottom:-this.y.cb+"px",overflow:"auto"}),this.x.p1=n.offsetWidth):/^rightpanel$/.test(t)&&(hs.setStyles(n,{left:"100%",marginLeft:this.x.cb+"px",top:-this.y.cb+"px",bottom:-this.y.cb+"px",overflow:"auto"}),this.x.p2=n.offsetWidth);u=n.parentNode.offsetHeight;n.style.height="auto";f&&n.offsetHeight>u&&(n.style.height=hs.ieLt7?u+"px":"100%");/^top/.test(t)&&(n.style.top=r+"px");/^middle/.test(t)&&hs.setStyles(n,{top:"50%",marginTop:r-Math.round(n.offsetHeight/2)+"px"});/^bottom/.test(t)&&(n.style.bottom=-r+"px");/^above$/.test(t)?(hs.setStyles(n,{left:-this.x.p1-this.x.cb+"px",right:-this.x.p2-this.x.cb+"px",bottom:"100%",marginBottom:this.y.cb+"px",width:"auto"}),this.y.p1=n.offsetHeight):/^below$/.test(t)&&(hs.setStyles(n,{position:"relative",left:-this.x.p1-this.x.cb+"px",right:-this.x.p2-this.x.cb+"px",top:"100%",marginTop:this.y.cb+"px",width:"auto"}),this.y.p2=n.offsetHeight,n.style.position="absolute")},getOverlays:function(){var i,t,n;for(this.getInline(["heading","caption"],!0),this.getNumber(),this.caption&&hs.fireEvent(this,"onAfterGetCaption"),this.heading&&hs.fireEvent(this,"onAfterGetHeading"),this.heading&&this.dragByHeading&&(this.heading.className+=" highslide-move"),hs.showCredits&&this.writeCredits(),n=0;n<hs.overlays.length;n++){var t=hs.overlays[n],r=t.thumbnailId,u=t.slideshowGroup;(!r&&!u||r&&r==this.thumbsUserSetId||u&&u===this.slideshowGroup)&&(this.isImage||this.isHtml&&t.useOnHtml)&&this.createOverlay(t)}for(i=[],n=0;n<this.overlays.length;n++)t=hs.$("hsId"+this.overlays[n]),/panel$/.test(t.position)?this.positionOverlay(t):hs.push(i,t);for(n=0;n<i.length;n++)this.positionOverlay(i[n]);this.gotOverlays=!0},genOverlayBox:function(){this.overlayBox||(this.overlayBox=hs.createElement("div",{className:this.wrapperClassName},{position:"absolute",width:(this.x.size||(this.useBox?this.width:null)||this.x.full)+"px",height:(this.y.size||this.y.full)+"px",visibility:"hidden",overflow:"hidden",zIndex:hs.ie?4:"auto"},hs.container,!0))},sizeOverlayBox:function(n,t){var u=this.overlayBox,f=this.x,r=this.y,e,i,o;if(hs.setStyles(u,{width:f.size+"px",height:r.size+"px"}),n||t)for(e=0;e<this.overlays.length;e++)i=hs.$("hsId"+this.overlays[e]),o=hs.ieLt7||document.compatMode=="BackCompat",i&&/^(above|below)$/.test(i.position)&&(o&&(i.style.width=u.offsetWidth+2*f.cb+f.p1+f.p2+"px"),r[i.position=="above"?"p1":"p2"]=i.offsetHeight),i&&o&&/^(left|right)panel$/.test(i.position)&&(i.style.height=u.offsetHeight+2*r.cb+"px");n&&(hs.setStyles(this.content,{top:r.p1+"px"}),hs.setStyles(u,{top:r.p1+r.cb+"px"}))},showOverlays:function(){var t=this.overlayBox,i,n;for(t.className="",hs.setStyles(t,{top:this.y.p1+this.y.cb+"px",left:this.x.p1+this.x.cb+"px",overflow:"visible"}),hs.safari&&(t.style.visibility="visible"),this.wrapper.appendChild(t),i=0;i<this.overlays.length;i++)n=hs.$("hsId"+this.overlays[i]),n.style.zIndex=n.zIndex||4,(!n.hideOnMouseOut||this.mouseIsOver)&&(n.style.visibility="visible",hs.setStyles(n,{visibility:"visible",display:""}),hs.animate(n,{opacity:n.opacity},n.dur))},destroyOverlays:function(){var n,i,t;if(this.overlays.length){for(this.slideshow&&(n=this.slideshow.controls,n&&hs.getExpander(n)==this&&n.parentNode.removeChild(n)),i=0;i<this.overlays.length;i++)t=hs.$("hsId"+this.overlays[i]),t&&t.parentNode==hs.viewport&&hs.getExpander(t)==this&&hs.discardElement(t);this.isHtml&&this.preserveContent?(this.overlayBox.style.top="-9999px",hs.container.appendChild(this.overlayBox)):hs.discardElement(this.overlayBox)}},createFullExpand:function(){if(this.slideshow&&this.slideshow.controls){this.slideshow.enable("full-expand");return}(this.fullExpandLabel=hs.createElement("a",{href:"javascript:hs.expanders["+this.key+"].doFullExpand();",title:hs.lang.fullExpandTitle,className:"highslide-full-expand"}),hs.fireEvent(this,"onCreateFullExpand"))&&this.createOverlay({overlayId:this.fullExpandLabel,position:hs.fullExpandPosition,hideOnMouseOut:!0,opacity:hs.fullExpandOpacity})},doFullExpand:function(){var i,r,n,t;try{if(!hs.fireEvent(this,"onDoFullExpand"))return;this.fullExpandLabel&&hs.discardElement(this.fullExpandLabel);this.focus();i=this.x.size;r=this.y.size;this.resizeTo(this.x.full,this.y.full);n=this.x.pos-(this.x.size-i)/2;n<hs.marginLeft&&(n=hs.marginLeft);t=this.y.pos-(this.y.size-r)/2;t<hs.marginTop&&(t=hs.marginTop);this.moveTo(n,t);this.doShowHide("hidden")}catch(u){this.error(u)}},afterClose:function(){this.a.className=this.a.className.replace("highslide-active-anchor","");this.doShowHide("visible");this.isHtml&&this.preserveContent&&this.transitions[1]!="crossfade"?this.sleep():(this.outline&&this.outlineWhileAnimating&&this.outline.destroy(),this.iframe&&this.objectLoadTime!="after"&&this.destroyObject(),hs.discardElement(this.wrapper));hs.mask&&(hs.mask.style.display="none");this.destroyOverlays();hs.viewport.childNodes.length||(hs.viewport.style.display="none");this.dimmingOpacity&&hs.undim(this.key);hs.fireEvent(this,"onAfterClose");hs.expanders[this.key]=null;hs.reOrder()}},hs.Ajax=function(n,t,i){this.a=n;this.content=t;this.pre=i},hs.Ajax.prototype={run:function(){var n,r,t,i;if(this.src||(this.src=hs.getSrc(this.a)),this.src.match("#")&&(r=this.src.split("#"),this.src=r[0],this.id=r[1]),hs.cachedGets[this.src]){this.cachedGet=hs.cachedGets[this.src];this.id?this.getElementContent():this.loadHTML();return}try{n=new XMLHttpRequest}catch(u){try{n=new ActiveXObject("Msxml2.XMLHTTP")}catch(u){try{n=new ActiveXObject("Microsoft.XMLHTTP")}catch(u){this.onError()}}}t=this;n.onreadystatechange=function(){t.xhr.readyState==4&&(t.id?t.getElementContent():t.loadHTML())};i=this.src;this.xhr=n;hs.forceAjaxReload&&(i=i.replace(/$/,(/\?/.test(i)?"&":"?")+"dummy="+(new Date).getTime()));n.open("GET",i,!0);n.setRequestHeader("X-Requested-With","XMLHttpRequest");n.setRequestHeader("Content-Type","application/x-www-form-urlencoded");n.send(null)},getElementContent:function(){hs.init();var n=window.opera||hs.ie6SSL?{src:"about:blank"}:null;this.iframe=hs.createElement("iframe",n,{position:"absolute",top:"-9999px"},hs.container);this.loadHTML()},loadHTML:function(){var n=this.cachedGet||this.xhr.responseText,i,t,r,u;if(this.pre&&(hs.cachedGets[this.src]=n),!hs.ie||hs.uaVersion>=5.5)if(n=n.replace(new RegExp("<link[^>]*>","gi"),"").replace(new RegExp("<script[^>]*>.*?<\/script>","gi"),""),this.iframe){if(t=this.iframe.contentDocument,!t&&this.iframe.contentWindow&&(t=this.iframe.contentWindow.document),!t){r=this;setTimeout(function(){r.loadHTML()},25);return}t.open();t.write(n);t.close();try{n=t.getElementById(this.id).innerHTML}catch(f){try{n=this.iframe.document.getElementById(this.id).innerHTML}catch(f){}}hs.discardElement(this.iframe)}else i=/(<body[^>]*>|<\/body>)/ig,i.test(n)&&(n=n.split(i)[hs.ieLt9?1:2]);hs.getElementByClass(this.content,"DIV","highslide-body").innerHTML=n;this.onLoad();for(u in this)this[u]=null}},hs.Slideshow=function(n,t){hs.dynamicallyUpdateAnchors!==!1&&hs.updateAnchors();this.expKey=n;for(var i in t)this[i]=t[i];this.useControls&&this.getControls();this.thumbstrip&&(this.thumbstrip=hs.Thumbstrip(this))},hs.Slideshow.prototype={getControls:function(){var t,i,n;for(this.controls=hs.createElement("div",{innerHTML:hs.replaceLang(hs.skin.controls)},null,hs.container),t=["play","pause","previous","next","move","full-expand","close"],this.btn={},i=this,n=0;n<t.length;n++)this.btn[t[n]]=hs.getElementByClass(this.controls,"li","highslide-"+t[n]),this.enable(t[n]);this.btn.pause.style.display="none"},checkFirstAndLast:function(){if(!this.repeat&&this.controls){var n=hs.expanders[this.expKey],t=n.getAnchorIndex(),i=/disabled$/;t==0?this.disable("previous"):i.test(this.btn.previous.getElementsByTagName("a")[0].className)&&this.enable("previous");t+1==hs.anchors.groups[n.slideshowGroup||"none"].length?(this.disable("next"),this.disable("play")):i.test(this.btn.next.getElementsByTagName("a")[0].className)&&(this.enable("next"),this.enable("play"))}},enable:function(n){if(this.btn){var r=this,t=this.btn[n].getElementsByTagName("a")[0],i=/disabled$/;t.onclick=function(){return r[n](),!1};i.test(t.className)&&(t.className=t.className.replace(i,""))}},disable:function(n){if(this.btn){var t=this.btn[n].getElementsByTagName("a")[0];t.onclick=function(){return!1};/disabled$/.test(t.className)||(t.className+=" disabled")}},hitSpace:function(){this.autoplay?this.pause():this.play()},play:function(n){this.btn&&(this.btn.play.style.display="none",this.btn.pause.style.display="");this.autoplay=!0;n||hs.next(this.expKey)},pause:function(){this.btn&&(this.btn.pause.style.display="none",this.btn.play.style.display="");clearTimeout(this.autoplay);this.autoplay=null},previous:function(){this.pause();hs.previous(this.btn.previous)},next:function(){this.pause();hs.next(this.btn.next)},move:function(){},"full-expand":function(){hs.getExpander().doFullExpand()},close:function(){hs.close(this.btn.close)}},hs.Thumbstrip=function(n){function d(n){hs.extend(u||{},{overlayId:r,hsId:"thumbstrip",className:"highslide-thumbstrip-"+o+"-overlay "+(u.className||"")});hs.ieLt7&&(u.fade=0);n.createOverlay(u);hs.setStyles(r.parentNode,{overflow:"hidden"})}function h(n){l(undefined,Math.round(n*r[t?"offsetWidth":"offsetHeight"]*.7))}function l(i,u){var o,g,nt,tt;if(i===undefined)for(o=0;o<e.length;o++)if(e[o]==hs.expanders[n.expKey].a){i=o;break}if(i!==undefined){var s=r.getElementsByTagName("a"),it=s[i],l=it.parentNode,rt=t?"Left":"Top",ft=t?"Right":"Bottom",ut=t?"Width":"Height",b="offset"+rt,h="offset"+ut,d=v.parentNode.parentNode[h],a=d-c[h],k=parseInt(c.style[t?"left":"top"])||0,f=k;if(u!==undefined)f=k-u,a>0&&(a=0),f>0&&(f=0),f<a&&(f=a);else{for(o=0;o<s.length;o++)s[o].className="";it.className="highslide-active-anchor";g=i>0?s[i-1].parentNode[b]:l[b];nt=l[b]+l[h]+(s[i+1]?s[i+1].parentNode[h]:0);nt>d-k?f=d-nt:g<-k&&(f=-g)}tt=l[b]+(l[h]-w[h])/2+f;hs.animate(c,t?{left:f}:{top:f},null,"easeOutQuad");hs.animate(w,t?{left:tt}:{top:tt},null,"easeOutQuad");y.style.display=f<0?"block":"none";p.style.display=f>a?"block":"none"}}for(var e=hs.anchors.groups[hs.expanders[n.expKey].slideshowGroup||"none"],u=n.thumbstrip,o=u.mode||"horizontal",a=o=="float",i=a?["div","ul","li","span"]:["table","tbody","tr","td"],t=o=="horizontal",r=hs.createElement("div",{className:"highslide-thumbstrip highslide-thumbstrip-"+o,innerHTML:'<div class="highslide-thumbstrip-inner"><'+i[0]+"><"+i[1]+"><\/"+i[1]+"><\/"+i[0]+'><\/div><div class="highslide-scroll-up"><div><\/div><\/div><div class="highslide-scroll-down"><div><\/div><\/div><div class="highslide-marker"><div><\/div><\/div>'},{display:"none"},hs.container),s=r.childNodes,v=s[0],y=s[1],p=s[2],w=s[3],c=v.firstChild,b=r.getElementsByTagName(i[1])[0],k,f=0;f<e.length;f++)f!=0&&t||(k=hs.createElement(i[2],null,null,b)),function(){var n=e[f],t=hs.createElement(i[3],null,null,k),r=f;hs.createElement("a",{href:n.href,title:n.title,onclick:function(){return/highslide-active-anchor/.test(this.className)?!1:(hs.getExpander(this).focus(),hs.transit(n))},innerHTML:hs.stripItemFormatter?hs.stripItemFormatter(n):n.innerHTML},null,t)}();return a||(y.onclick=function(){h(-1)},p.onclick=function(){h(1)},hs.addEventListener(b,document.onmousewheel!==undefined?"mousewheel":"DOMMouseScroll",function(n){var t=0;n=n||window.event;n.wheelDelta?(t=n.wheelDelta/120,hs.opera&&(t=-t)):n.detail&&(t=-n.detail/3);t&&h(-t*.2);n.preventDefault&&n.preventDefault();n.returnValue=!1})),{add:d,selectThumb:l}},hs.langDefaults=hs.lang,HsExpander=hs.Expander,hs.ie&&window==window.top&&function(){try{document.documentElement.doScroll("left")}catch(n){setTimeout(arguments.callee,50);return}hs.ready()}(),hs.addEventListener(document,"DOMContentLoaded",hs.ready),hs.addEventListener(window,"load",hs.ready),hs.addEventListener(document,"ready",function(){if(hs.expandCursor||hs.dimmingOpacity){var r=hs.createElement("style",{type:"text/css"},null,document.getElementsByTagName("HEAD")[0]),t=document.compatMode=="BackCompat";function i(n,i){if(hs.ie&&(hs.uaVersion<9||t)){var u=document.styleSheets[document.styleSheets.length-1];typeof u.addRule=="object"&&u.addRule(n,i)}else r.appendChild(document.createTextNode(n+" {"+i+"}"))}function n(n){return"expression( ( ( ignoreMe = document.documentElement."+n+" ? document.documentElement."+n+" : document.body."+n+" ) ) + 'px' );"}hs.expandCursor&&i(".highslide img","cursor: url("+hs.graphicsDir+hs.expandCursor+"), pointer !important;");i(".highslide-viewport-size",hs.ie&&(hs.uaVersion<7||t)?"position: absolute; left:"+n("scrollLeft")+"top:"+n("scrollTop")+"width:"+n("clientWidth")+"height:"+n("clientHeight"):"position: fixed; width: 100%; height: 100%; left: 0; top: 0")}}),hs.addEventListener(window,"resize",function(){var n,t,i;if(hs.getPageSize(),hs.viewport)for(n=0;n<hs.viewport.childNodes.length;n++)t=hs.viewport.childNodes[n],i=hs.getExpander(t),i.positionOverlay(t),t.hsId=="thumbstrip"&&i.slideshow.thumbstrip.selectThumb()}),hs.addEventListener(document,"mousemove",function(n){hs.mouse={x:n.clientX,y:n.clientY}}),hs.addEventListener(document,"mousedown",hs.mouseClickHandler),hs.addEventListener(document,"mouseup",hs.mouseClickHandler),hs.addEventListener(document,"ready",hs.setClickEvents),hs.addEventListener(window,"load",hs.preloadImages),hs.addEventListener(window,"load",hs.preloadAjax)),function(n){if(typeof exports=="object"&&typeof module!="undefined")module.exports=n();else if(typeof define=="function"&&define.amd)define([],n);else{var t;t=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this;t.jsmediatags=n()}}(function(){return function n(t,i,r){function u(f,o){var h,c,s;if(!i[f]){if(!t[f]){if(h=typeof require=="function"&&require,!o&&h)return h(f,!0);if(e)return e(f,!0);c=new Error("Cannot find module '"+f+"'");throw c.code="MODULE_NOT_FOUND",c;}s=i[f]={exports:{}};t[f][0].call(s.exports,function(n){var i=t[f][1][n];return u(i?i:n)},s,s.exports,n,t,i,r)}return i[f].exports}for(var e=typeof require=="function"&&require,f=0;f<r.length;f++)u(r[f]);return u}({1:[function(){},{}],2:[function(n,t){t.exports=XMLHttpRequest},{}],3:[function(n,t){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function u(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:n}function f(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}var i=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),e=n("./MediaFileReader"),o=function(n){function t(n){r(this,t);var i=u(this,Object.getPrototypeOf(t).call(this));return i._array=n,i._size=n.length,i._isInitialized=!0,i}return f(t,n),i(t,[{key:"init",value:function(n){setTimeout(n.onSuccess,0)}},{key:"loadRange",value:function(n,t){setTimeout(t.onSuccess,0)}},{key:"getByteAt",value:function(n){if(n>=this._array.length)throw new Error("Offset "+n+" hasn't been loaded yet.");return this._array[n]}}],[{key:"canReadFile",value:function(n){return Array.isArray(n)||typeof Buffer=="function"&&Buffer.isBuffer(n)}}]),t}(e);t.exports=o},{"./MediaFileReader":11}],4:[function(n,t){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function u(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:n}function f(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}var i=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),e=n("./ChunkedFileData"),o=n("./MediaFileReader"),s=function(n){function t(n){r(this,t);var i=u(this,Object.getPrototypeOf(t).call(this));return i._blob=n,i._fileData=new e,i}return f(t,n),i(t,[{key:"_init",value:function(n){this._size=this._blob.size;setTimeout(n.onSuccess,1)}},{key:"loadRange",value:function(n,t){var r=this,u=this._blob.slice||this._blob.mozSlice||this._blob.webkitSlice,f=u.call(this._blob,n[0],n[1]+1),i=new FileReader;i.onloadend=function(){var u=new Uint8Array(Number(i.result));r._fileData.addData(n[0],u);t.onSuccess()};i.onerror=i.onabort=function(){if(t.onError)t.onError({type:"blob",info:i.error})};i.readAsArrayBuffer(f)}},{key:"getByteAt",value:function(n){return this._fileData.getByteAt(n)}}],[{key:"canReadFile",value:function(n){return typeof Blob!="undefined"&&n instanceof Blob||typeof File!="undefined"&&n instanceof File}}]),t}(o);t.exports=s},{"./ChunkedFileData":5,"./MediaFileReader":11}],5:[function(n,t){"use strict";function u(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}var r=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),i=-1,f=function(){function n(){u(this,n);this._fileData=[]}return r(n,null,[{key:"NOT_FOUND",get:function(){return i}}]),r(n,[{key:"addData",value:function(n,t){var s=n+t.length-1,r=this._getChunkRange(n,s),o;if(r.startIx===i)this._fileData.splice(r.insertIx||0,0,{offset:n,data:t});else{var f=this._fileData[r.startIx],e=this._fileData[r.endIx],h=n>f.offset,c=s<e.offset+e.data.length-1,u={offset:Math.min(n,f.offset),data:t};h&&(o=this._sliceData(f.data,0,n-f.offset),u.data=this._concatData(o,t));c&&(o=this._sliceData(u.data,0,e.offset-u.offset),u.data=this._concatData(o,e.data));this._fileData.splice(r.startIx,r.endIx-r.startIx+1,u)}}},{key:"_concatData",value:function(n,t){if(typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView&&ArrayBuffer.isView(n)){var i=new n.constructor(n.length+t.length);return i.set(n,0),i.set(t,n.length),i}return n.concat(t)}},{key:"_sliceData",value:function(n,t,i){return n.slice?n.slice(t,i):n.subarray(t,i)}},{key:"_getChunkRange",value:function(n,t){for(var u,o,f=i,e=i,s=0,r=0;r<this._fileData.length;r++,s=r){if(u=this._fileData[r].offset,o=u+this._fileData[r].data.length,t<u-1)break;if(n<=o+1&&t>=u-1){f=r;break}}if(f===i)return{startIx:i,endIx:i,insertIx:s};for(r=f;r<this._fileData.length;r++)if(u=this._fileData[r].offset,o=u+this._fileData[r].data.length,t>=u-1&&(e=r),t<=o+1)break;return e===i&&(e=f),{startIx:f,endIx:e}}},{key:"hasDataRange",value:function(n,t){for(var i,r=0;r<this._fileData.length;r++){if(i=this._fileData[r],t<i.offset)return!1;if(n>=i.offset&&t<i.offset+i.data.length)return!0}return!1}},{key:"getByteAt",value:function(n){for(var r,u,i,t=0;t<this._fileData.length;t++)if(r=this._fileData[t].offset,u=r+this._fileData[t].data.length-1,n>=r&&n<=u){i=this._fileData[t];break}if(i)return i.data[n-i.offset];throw new Error("Offset "+n+" hasn't been loaded yet.");}}]),n}();t.exports=f},{}],6:[function(n,t){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function u(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:n}function f(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}var i=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),e=n("./MediaTagReader"),o=4,s=[4,132],h=[6,134],c=["Other","32x32 pixels 'file icon' (PNG only)","Other file icon","Cover (front)","Cover (back)","Leaflet page","Media (e.g. label side of CD)","Lead artist/lead performer/soloist","Artist/performer","Conductor","Band/Orchestra","Composer","Lyricist/text writer","Recording Location","During recording","During performance","Movie/video screen capture","A bright coloured fish","Illustration","Band/artist logotype","Publisher/Studio logotype"],l=function(n){function t(){return r(this,t),u(this,Object.getPrototypeOf(t).apply(this,arguments))}return f(t,n),i(t,[{key:"_loadData",value:function(n,t){var i=this;n.loadRange([4,7],{onSuccess:function(){i._loadBlock(n,4,t)}})}},{key:"_loadBlock",value:function(n,t,i){var u=this,f=n.getByteAt(t),e=n.getInteger24At(t+1,!0),r;s.indexOf(f)!==-1?(r=t+4,n.loadRange([r,r+e],{onSuccess:function(){u._commentOffset=r;u._nextBlock(n,t,f,e,i)}})):h.indexOf(f)!==-1?(r=t+4,n.loadRange([r,r+e],{onSuccess:function(){u._pictureOffset=r;u._nextBlock(n,t,f,e,i)}})):u._nextBlock(n,t,f,e,i)}},{key:"_nextBlock",value:function(n,t,i,r,u){var f=this;if(i>127)if(f._commentOffset)u.onSuccess();else u.onError({type:"loadData",info:"Comment block could not be found."});else n.loadRange([t+4+r,t+4+4+r],{onSuccess:function(){f._loadBlock(n,t+4+r,u)}})}},{key:"_parseData",value:function(n){for(var tt=n.getLongAt(this._commentOffset,!1),it=this._commentOffset+4,u=tt+it,rt=n.getLongAt(u,!1),i=u+4,f,e,o,s,h,l,a=0;a<rt;a++){var v=n.getLongAt(i,!1),r=n.getStringWithCharsetAt(i+4,v,"utf-8").toString(),y=r.indexOf("="),t=[r.slice(0,y),r.slice(y+1)];switch(t[0]){case"TITLE":f=t[1];break;case"ARTIST":e=t[1];break;case"ALBUM":o=t[1];break;case"TRACKNUMBER":s=t[1];break;case"GENRE":h=t[1]}i+=4+v}if(this._pictureOffset){var ut=n.getLongAt(this._pictureOffset,!0),p=this._pictureOffset+4,w=n.getLongAt(p,!0),b=p+4,ft=n.getStringAt(b,w),k=b+w,d=n.getLongAt(k,!0),g=k+4,et=n.getStringWithCharsetAt(g,d,"utf-8").toString(),nt=g+d+16,ot=n.getLongAt(nt,!0),st=nt+4,ht=n.getBytesAt(st,ot,!0);l={format:ft,type:c[ut],description:et,data:ht}}return{type:"FLAC",version:"1",tags:{title:f,artist:e,album:o,track:s,genre:h,picture:l}}}}],[{key:"getTagIdentifierByteRange",value:function(){return{offset:0,length:o}}},{key:"canReadTagFormat",value:function(n){var t=String.fromCharCode.apply(String,n.slice(0,4));return t==="fLaC"}}]),t}(e);t.exports=l},{"./MediaTagReader":12}],7:[function(n,t){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function u(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:n}function f(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}var i=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),e=n("./MediaTagReader"),h=n("./MediaFileReader"),o=function(n){function t(){return r(this,t),u(this,Object.getPrototypeOf(t).apply(this,arguments))}return f(t,n),i(t,[{key:"_loadData",value:function(n,t){var i=n.getSize();n.loadRange([i-128,i-1],t)}},{key:"_parseData",value:function(n){var t=n.getSize()-128,h=n.getStringWithCharsetAt(t+3,30).toString(),c=n.getStringWithCharsetAt(t+33,30).toString(),l=n.getStringWithCharsetAt(t+63,30).toString(),a=n.getStringWithCharsetAt(t+93,4).toString(),v=n.getByteAt(t+97+28),i=n.getByteAt(t+97+29),r,u,f,o,e;return v==0&&i!=0?(r="1.1",u=n.getStringWithCharsetAt(t+97,28).toString()):(r="1.0",u=n.getStringWithCharsetAt(t+97,30).toString(),i=0),f=n.getByteAt(t+97+30),o=f<255?s[f]:"",e={type:"ID3",version:r,tags:{title:h,artist:c,album:l,year:a,comment:u,genre:o}},i&&(e.tags.track=i),e}}],[{key:"getTagIdentifierByteRange",value:function(){return{offset:-128,length:128}}},{key:"canReadTagFormat",value:function(n){var t=String.fromCharCode.apply(String,n.slice(0,3));return t==="TAG"}}]),t}(e),s=["Blues","Classic Rock","Country","Dance","Disco","Funk","Grunge","Hip-Hop","Jazz","Metal","New Age","Oldies","Other","Pop","R&B","Rap","Reggae","Rock","Techno","Industrial","Alternative","Ska","Death Metal","Pranks","Soundtrack","Euro-Techno","Ambient","Trip-Hop","Vocal","Jazz+Funk","Fusion","Trance","Classical","Instrumental","Acid","House","Game","Sound Clip","Gospel","Noise","AlternRock","Bass","Soul","Punk","Space","Meditative","Instrumental Pop","Instrumental Rock","Ethnic","Gothic","Darkwave","Techno-Industrial","Electronic","Pop-Folk","Eurodance","Dream","Southern Rock","Comedy","Cult","Gangsta","Top 40","Christian Rap","Pop/Funk","Jungle","Native American","Cabaret","New Wave","Psychadelic","Rave","Showtunes","Trailer","Lo-Fi","Tribal","Acid Punk","Acid Jazz","Polka","Retro","Musical","Rock & Roll","Hard Rock","Folk","Folk-Rock","National Folk","Swing","Fast Fusion","Bebob","Latin","Revival","Celtic","Bluegrass","Avantgarde","Gothic Rock","Progressive Rock","Psychedelic Rock","Symphonic Rock","Slow Rock","Big Band","Chorus","Easy Listening","Acoustic","Humour","Speech","Chanson","Opera","Chamber Music","Sonata","Symphony","Booty Bass","Primus","Porn Groove","Satire","Slow Jam","Club","Tango","Samba","Folklore","Ballad","Power Ballad","Rhythmic Soul","Freestyle","Duet","Punk Rock","Drum Solo","Acapella","Euro-House","Dance Hall"];t.exports=o},{"./MediaFileReader":11,"./MediaTagReader":12}],8:[function(n,t){"use strict";function h(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function r(n){var t;switch(n){case 0:t="iso-8859-1";break;case 1:t="utf-16";break;case 2:t="utf-16be";break;case 3:t="utf-8";break;default:t="iso-8859-1"}return t}function e(n,t,i,r){var u=i.getStringWithCharsetAt(n+1,t-1,r),f=i.getStringWithCharsetAt(n+1+u.bytesReadCount,t-1-u.bytesReadCount);return{user_description:u.toString(),data:f.toString()}}var s=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),a=n("./MediaFileReader"),u=n("./StringUtils"),c=n("./ArrayFileReader"),f={BUF:"Recommended buffer size",CNT:"Play counter",COM:"Comments",CRA:"Audio encryption",CRM:"Encrypted meta frame",ETC:"Event timing codes",EQU:"Equalization",GEO:"General encapsulated object",IPL:"Involved people list",LNK:"Linked information",MCI:"Music CD Identifier",MLL:"MPEG location lookup table",PIC:"Attached picture",POP:"Popularimeter",REV:"Reverb",RVA:"Relative volume adjustment",SLT:"Synchronized lyric/text",STC:"Synced tempo codes",TAL:"Album/Movie/Show title",TBP:"BPM (Beats Per Minute)",TCM:"Composer",TCO:"Content type",TCR:"Copyright message",TDA:"Date",TDY:"Playlist delay",TEN:"Encoded by",TFT:"File type",TIM:"Time",TKE:"Initial key",TLA:"Language(s)",TLE:"Length",TMT:"Media type",TOA:"Original artist(s)/performer(s)",TOF:"Original filename",TOL:"Original Lyricist(s)/text writer(s)",TOR:"Original release year",TOT:"Original album/Movie/Show title",TP1:"Lead artist(s)/Lead performer(s)/Soloist(s)/Performing group",TP2:"Band/Orchestra/Accompaniment",TP3:"Conductor/Performer refinement",TP4:"Interpreted, remixed, or otherwise modified by",TPA:"Part of a set",TPB:"Publisher",TRC:"ISRC (International Standard Recording Code)",TRD:"Recording dates",TRK:"Track number/Position in set",TSI:"Size",TSS:"Software/hardware and settings used for encoding",TT1:"Content group description",TT2:"Title/Songname/Content description",TT3:"Subtitle/Description refinement",TXT:"Lyricist/text writer",TXX:"User defined text information frame",TYE:"Year",UFI:"Unique file identifier",ULT:"Unsychronized lyric/text transcription",WAF:"Official audio file webpage",WAR:"Official artist/performer webpage",WAS:"Official audio source webpage",WCM:"Commercial information",WCP:"Copyright/Legal information",WPB:"Publishers official webpage",WXX:"User defined URL link frame",AENC:"Audio encryption",APIC:"Attached picture",ASPI:"Audio seek point index",CHAP:"Chapter",CTOC:"Table of contents",COMM:"Comments",COMR:"Commercial frame",ENCR:"Encryption method registration",EQU2:"Equalisation (2)",EQUA:"Equalization",ETCO:"Event timing codes",GEOB:"General encapsulated object",GRID:"Group identification registration",IPLS:"Involved people list",LINK:"Linked information",MCDI:"Music CD identifier",MLLT:"MPEG location lookup table",OWNE:"Ownership frame",PRIV:"Private frame",PCNT:"Play counter",POPM:"Popularimeter",POSS:"Position synchronisation frame",RBUF:"Recommended buffer size",RVA2:"Relative volume adjustment (2)",RVAD:"Relative volume adjustment",RVRB:"Reverb",SEEK:"Seek frame",SYLT:"Synchronized lyric/text",SYTC:"Synchronized tempo codes",TALB:"Album/Movie/Show title",TBPM:"BPM (beats per minute)",TCOM:"Composer",TCON:"Content type",TCOP:"Copyright message",TDAT:"Date",TDLY:"Playlist delay",TDRC:"Recording time",TDRL:"Release time",TDTG:"Tagging time",TENC:"Encoded by",TEXT:"Lyricist/Text writer",TFLT:"File type",TIME:"Time",TIPL:"Involved people list",TIT1:"Content group description",TIT2:"Title/songname/content description",TIT3:"Subtitle/Description refinement",TKEY:"Initial key",TLAN:"Language(s)",TLEN:"Length",TMCL:"Musician credits list",TMED:"Media type",TMOO:"Mood",TOAL:"Original album/movie/show title",TOFN:"Original filename",TOLY:"Original lyricist(s)/text writer(s)",TOPE:"Original artist(s)/performer(s)",TORY:"Original release year",TOWN:"File owner/licensee",TPE1:"Lead performer(s)/Soloist(s)",TPE2:"Band/orchestra/accompaniment",TPE3:"Conductor/performer refinement",TPE4:"Interpreted, remixed, or otherwise modified by",TPOS:"Part of a set",TPRO:"Produced notice",TPUB:"Publisher",TRCK:"Track number/Position in set",TRDA:"Recording dates",TRSN:"Internet radio station name",TRSO:"Internet radio station owner",TSOA:"Album sort order",TSOP:"Performer sort order",TSOT:"Title sort order",TSIZ:"Size",TSRC:"ISRC (international standard recording code)",TSSE:"Software/Hardware and settings used for encoding",TSST:"Set subtitle",TYER:"Year",TXXX:"User defined text information frame",UFID:"Unique file identifier",USER:"Terms of use",USLT:"Unsychronized lyric/text transcription",WCOM:"Commercial information",WCOP:"Copyright/Legal information",WOAF:"Official audio file webpage",WOAR:"Official artist/performer webpage",WOAS:"Official audio source webpage",WORS:"Official internet radio station homepage",WPAY:"Payment",WPUB:"Publishers official webpage",WXXX:"User defined URL link frame"},l=function(){function n(){h(this,n)}return s(n,null,[{key:"getFrameReaderFunction",value:function(n){return n in i?i[n]:n[0]==="T"?i["T*"]:n[0]==="W"?i["W*"]:null}},{key:"readFrames",value:function(t,i,r,u,f){for(var o={},p=this._getFrameHeaderSize(u),s,e;t<i-p;){if(s=this._readFrameHeader(r,t,u),e=s.id,!e)break;var h=s.flags,c=s.size,l=t+s.headerSize,a=r;if(t+=s.headerSize+s.size,!f||f.indexOf(e)!==-1){if(e==="MP3e"||e==="\x00MP3"||e==="\x00\x00MP"||e===" MP3")break;h&&h.format.unsynchronisation&&(a=this.getUnsyncFileReader(a,l,c),l=0,c=a.getSize());h&&h.format.data_length_indicator&&(l+=4,c-=4);var v=n.getFrameReaderFunction(e),w=v?v.apply(this,[l,c,a,h,u]):null,b=this._getFrameDescription(e),y={id:e,size:c,description:b,data:w};e in o?(o[e].id&&(o[e]=[o[e]]),o[e].push(y)):o[e]=y}}return o}},{key:"_getFrameHeaderSize",value:function(n){var t=n.major;return t==2?6:t==3||t==4?10:0}},{key:"_readFrameHeader",value:function(n,t,i){var f=i.major,e=null,o=this._getFrameHeaderSize(i),r,u;switch(f){case 2:r=n.getStringAt(t,3);u=n.getInteger24At(t+3,!0);break;case 3:r=n.getStringAt(t,4);u=n.getLongAt(t+4,!0);break;case 4:r=n.getStringAt(t,4);u=n.getSynchsafeInteger32At(t+4)}return(r==String.fromCharCode(0,0,0)||r==String.fromCharCode(0,0,0,0))&&(r=""),r&&f>2&&(e=this._readFrameFlags(n,t+8)),{id:r||"",size:u||0,headerSize:o||0,flags:e}}},{key:"_readFrameFlags",value:function(n,t){return{message:{tag_alter_preservation:n.isBitSetAt(t,6),file_alter_preservation:n.isBitSetAt(t,5),read_only:n.isBitSetAt(t,4)},format:{grouping_identity:n.isBitSetAt(t+1,7),compression:n.isBitSetAt(t+1,3),encryption:n.isBitSetAt(t+1,2),unsynchronisation:n.isBitSetAt(t+1,1),data_length_indicator:n.isBitSetAt(t+1,0)}}}},{key:"_getFrameDescription",value:function(n){return n in f?f[n]:"Unknown"}},{key:"getUnsyncFileReader",value:function(n,t,i){for(var r=n.getBytesAt(t,i),u=0;u<r.length-1;u++)r[u]===255&&r[u+1]===0&&r.splice(u+1,1);return new c(r)}}]),n}(),i={},o;i.APIC=function(n,t,i,u,f){var s=n,c=r(i.getByteAt(n)),e;switch(f&&f.major){case 2:e=i.getStringAt(n+1,3);n+=4;break;case 3:case 4:e=i.getStringWithCharsetAt(n+1,t-1);n+=1+e.bytesReadCount;break;default:throw new Error("Couldn't read ID3v2 major version.");}var l=i.getByteAt(n),a=o[l],h=i.getStringWithCharsetAt(n+1,t-(n-s)-1,c);return n+=1+h.bytesReadCount,{format:e.toString(),type:a,description:h.toString(),data:i.getBytesAt(n,s+t-n)}};i.CHAP=function(n,t,i,r,f){var h=n,e={},o=u.readNullTerminatedString(i.getBytesAt(n,t)),s;return e.id=o.toString(),n+=o.bytesReadCount,e.startTime=i.getLongAt(n,!0),n+=4,e.endTime=i.getLongAt(n,!0),n+=4,e.startOffset=i.getLongAt(n,!0),n+=4,e.endOffset=i.getLongAt(n,!0),n+=4,s=t-(n-h),e.subFrames=this.readFrames(n,n+s,i,f),e};i.CTOC=function(n,t,i,r,f){var h=n,e={childElementIds:[],id:undefined,topLevel:undefined,ordered:undefined,entryCount:undefined,subFrames:undefined},c=u.readNullTerminatedString(i.getBytesAt(n,t)),o,s,l;for(e.id=c.toString(),n+=c.bytesReadCount,e.topLevel=i.isBitSetAt(n,1),e.ordered=i.isBitSetAt(n,0),n++,e.entryCount=i.getByteAt(n),n++,o=0;o<e.entryCount;o++)s=u.readNullTerminatedString(i.getBytesAt(n,t-(n-h))),e.childElementIds.push(s.toString()),n+=s.bytesReadCount;return l=t-(n-h),e.subFrames=this.readFrames(n,n+l,i,f),e};i.COMM=function(n,t,i){var o=n,u=r(i.getByteAt(n)),s=i.getStringAt(n+1,3),f=i.getStringWithCharsetAt(n+4,t-4,u),e;return n+=4+f.bytesReadCount,e=i.getStringWithCharsetAt(n,o+t-n,u),{language:s,short_description:f.toString(),text:e.toString()}};i.COM=i.COMM;i.PIC=function(n,t,r,u,f){return i.APIC(n,t,r,u,f)};i.PCNT=function(n,t,i){return i.getLongAt(n,!1)};i.CNT=i.PCNT;i["T*"]=function(n,t,i){var u=r(i.getByteAt(n));return i.getStringWithCharsetAt(n+1,t-1,u).toString()};i.TXXX=function(n,t,i){var u=r(i.getByteAt(n));return e(n,t,i,u)};i["W*"]=function(n,t,i){var u=r(i.getByteAt(n));return u!==undefined?e(n,t,i,u):i.getStringWithCharsetAt(n,t,u).toString()};i.TCON=function(){var n=i["T*"].apply(this,arguments);return n.replace(/^\(\d+\)/,"")};i.TCO=i.TCON;i.USLT=function(n,t,i){var o=n,u=r(i.getByteAt(n)),s=i.getStringAt(n+1,3),f=i.getStringWithCharsetAt(n+4,t-4,u),e;return n+=4+f.bytesReadCount,e=i.getStringWithCharsetAt(n,o+t-n,u),{language:s,descriptor:f.toString(),lyrics:e.toString()}};i.ULT=i.USLT;i.UFID=function(n,t,i){var r=u.readNullTerminatedString(i.getBytesAt(n,t)),f;return n+=r.bytesReadCount,f=i.getBytesAt(n,t-r.bytesReadCount),{ownerIdentifier:r.toString(),identifier:f}};o=["Other","32x32 pixels 'file icon' (PNG only)","Other file icon","Cover (front)","Cover (back)","Leaflet page","Media (e.g. label side of CD)","Lead artist/lead performer/soloist","Artist/performer","Conductor","Band/Orchestra","Composer","Lyricist/text writer","Recording Location","During recording","During performance","Movie/video screen capture","A bright coloured fish","Illustration","Band/artist logotype","Publisher/Studio logotype"];t.exports=l},{"./ArrayFileReader":3,"./MediaFileReader":11,"./StringUtils":13}],9:[function(n,t){"use strict";function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function o(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:n}function s(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}var f=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),h=n("./MediaTagReader"),l=n("./MediaFileReader"),r=n("./ID3v2FrameReader"),u=10,c=function(n){function t(){return e(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,n),f(t,[{key:"_loadData",value:function(n,t){n.loadRange([6,9],{onSuccess:function(){n.loadRange([0,u+n.getSynchsafeInteger32At(6)-1],t)},onError:t.onError})}},{key:"_parseData",value:function(n,t){var u=0,h=n.getByteAt(u+3),p,f,w,l,e,o,a,s;if(h>4)return{type:"ID3",version:">2.4",tags:{}};var v=n.getByteAt(u+4),b=n.isBitSetAt(u+5,7),y=n.isBitSetAt(u+5,6),k=n.isBitSetAt(u+5,5),c=n.getSynchsafeInteger32At(u+6);u+=10;y&&(p=n.getLongAt(u,!0),u+=p+4);f={type:"ID3",version:"2."+h+"."+v,major:h,revision:v,flags:{unsynchronisation:b,extended_header:y,experimental_indicator:k,footer_present:!1},size:c,tags:{}};t&&(w=this._expandShortcutTags(t));l=c+10;f.flags.unsynchronisation&&(n=r.getUnsyncFileReader(n,u,c),u=0,l=n.getSize());e=r.readFrames(u,l,n,f,w);for(o in i)i.hasOwnProperty(o)&&(a=this._getFrameData(e,i[o]),a&&(f.tags[o]=a));for(s in e)e.hasOwnProperty(s)&&(f.tags[s]=e[s]);return f}},{key:"_getFrameData",value:function(n,t){for(var r,u=0,i;i=t[u];u++)if(i in n)return r=n[i]instanceof Array?n[i][0]:n[i],r.data}},{key:"getShortcuts",value:function(){return i}}],[{key:"getTagIdentifierByteRange",value:function(){return{offset:0,length:u}}},{key:"canReadTagFormat",value:function(n){var t=String.fromCharCode.apply(String,n.slice(0,3));return t==="ID3"}}]),t}(h),i={title:["TIT2","TT2"],artist:["TPE1","TP1"],album:["TALB","TAL"],year:["TYER","TYE"],comment:["COMM","COM"],track:["TRCK","TRK"],genre:["TCON","TCO"],picture:["APIC","PIC"],lyrics:["USLT","ULT"]};t.exports=c},{"./ID3v2FrameReader":8,"./MediaFileReader":11,"./MediaTagReader":12}],10:[function(n,t){"use strict";function u(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function f(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:n}function e(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}var r=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),o=n("./MediaTagReader"),l=n("./MediaFileReader"),s=function(n){function t(){return u(this,t),f(this,Object.getPrototypeOf(t).apply(this,arguments))}return e(t,n),r(t,[{key:"_loadData",value:function(n,t){var i=this;n.loadRange([0,16],{onSuccess:function(){i._loadAtom(n,0,"",t)},onError:t.onError})}},{key:"_loadAtom",value:function(n,t,i,r){var e,u,f,o;if(t>=n.getSize()){r.onSuccess();return}if(e=this,u=n.getLongAt(t,!0),u==0||isNaN(u)){r.onSuccess();return}f=n.getStringAt(t+4,4);this._isContainerAtom(f)?(f=="meta"&&(t+=4),o=(i?i+".":"")+f,o==="moov.udta.meta.ilst"?n.loadRange([t,t+u],r):n.loadRange([t+8,t+8+8],{onSuccess:function(){e._loadAtom(n,t+8,o,r)},onError:r.onError})):n.loadRange([t+u,t+u+8],{onSuccess:function(){e._loadAtom(n,t+u,i,r)},onError:r.onError})}},{key:"_isContainerAtom",value:function(n){return["moov","udta","meta","ilst"].indexOf(n)>=0}},{key:"_canReadAtom",value:function(n){return n!=="----"}},{key:"_parseData",value:function(n,t){var u={},r,f;t=this._expandShortcutTags(t);this._readAtom(u,n,0,n.getSize(),t);for(r in i)i.hasOwnProperty(r)&&(f=u[i[r]],f&&(u[r]=r==="track"?f.data.track:f.data));return{type:"MP4",ftyp:n.getStringAt(8,4),version:n.getLongAt(12,!0),tags:u}}},{key:"_readAtom",value:function(n,t,i,r,u,f,e){var o,h,s,c;for(e=e===undefined?"":e+"  ",o=i;o<i+r;){if(h=t.getLongAt(o,!0),h==0)return;if(s=t.getStringAt(o+4,4),this._isContainerAtom(s)){s=="meta"&&(o+=4);c=(f?f+".":"")+s;this._readAtom(n,t,o+8,h-8,u,c,e);return}(!u||u.indexOf(s)>=0)&&f==="moov.udta.meta.ilst"&&this._canReadAtom(s)&&(n[s]=this._readMetadataAtom(t,o));o+=h}}},{key:"_readMetadataAtom",value:function(n,t){var u=16,s=n.getLongAt(t,!0),f=n.getStringAt(t+4,4),v=n.getInteger24At(t+u+1,!0),e=h[v],r,a;if(f=="trkn")r={track:n.getByteAt(t+u+11),total:n.getByteAt(t+u+13)};else if(f=="disk")r={disk:n.getByteAt(t+u+11),total:n.getByteAt(t+u+13)};else{var l=u+4+4,o=t+l,i=s-l,r;f==="covr"&&e==="uint8"&&(e="jpeg");switch(e){case"text":r=n.getStringWithCharsetAt(o,i,"utf-8").toString();break;case"uint8":r=n.getShortAt(o,!1);break;case"int":case"uint":a=e=="int"?i==1?n.getSByteAt:i==2?n.getSShortAt:i==4?n.getSLongAt:n.getLongAt:i==1?n.getByteAt:i==2?n.getShortAt:n.getLongAt;r=a.call(n,o+(i==8?4:0),!0);break;case"jpeg":case"png":r={format:"image/"+e,data:n.getBytesAt(o,i)}}}return{id:f,size:s,description:c[f]||"Unknown",data:r}}},{key:"getShortcuts",value:function(){return i}}],[{key:"getTagIdentifierByteRange",value:function(){return{offset:0,length:16}}},{key:"canReadTagFormat",value:function(n){var t=String.fromCharCode.apply(String,n.slice(4,8));return t==="ftyp"}}]),t}(o),h={"0":"uint8","1":"text","13":"jpeg","14":"png","21":"int","22":"uint"},c={"alb":"Album","ART":"Artist",aART:"Album Artist","day":"Release Date","nam":"Title","gen":"Genre",gnre:"Genre",trkn:"Track Number","wrt":"Composer","too":"Encoding Tool","enc":"Encoded By",cprt:"Copyright",covr:"Cover Art","grp":"Grouping",keyw:"Keywords","lyr":"Lyrics","cmt":"Comment",tmpo:"Tempo",cpil:"Compilation",disk:"Disc Number",tvsh:"TV Show Name",tven:"TV Episode ID",tvsn:"TV Season",tves:"TV Episode",tvnn:"TV Network",desc:"Description",ldes:"Long Description",sonm:"Sort Name",soar:"Sort Artist",soaa:"Sort Album",soco:"Sort Composer",sosn:"Sort Show",purd:"Purchase Date",pcst:"Podcast",purl:"Podcast URL",catg:"Category",hdvd:"HD Video",stik:"Media Type",rtng:"Content Rating",pgap:"Gapless Playback",apID:"Purchase Account",sfID:"Country Code",atID:"Artist ID",cnID:"Catalog ID",plID:"Collection ID",geID:"Genre ID","xid ":"Vendor Information",flvr:"Codec Flavor"},i={title:"nam",artist:"ART",album:"alb",year:"day",comment:"cmt",track:"trkn",genre:"gen",picture:"covr",lyrics:"lyr"};t.exports=s},{"./MediaFileReader":11,"./MediaTagReader":12}],11:[function(n,t){"use strict";function u(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}var r=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),i=n("./StringUtils"),f=function(){function n(){u(this,n);this._isInitialized=!1;this._size=0}return r(n,[{key:"init",value:function(n){var t=this;if(this._isInitialized)setTimeout(n.onSuccess,1);else return this._init({onSuccess:function(){t._isInitialized=!0;n.onSuccess()},onError:n.onError})}},{key:"_init",value:function(){throw new Error("Must implement init function");}},{key:"loadRange",value:function(){throw new Error("Must implement loadRange function");}},{key:"getSize",value:function(){if(!this._isInitialized)throw new Error("init() must be called first.");return this._size}},{key:"getByteAt",value:function(){throw new Error("Must implement getByteAt function");}},{key:"getBytesAt",value:function(n,t){for(var r=new Array(t),i=0;i<t;i++)r[i]=this.getByteAt(n+i);return r}},{key:"isBitSetAt",value:function(n,t){var i=this.getByteAt(n);return(i&1<<t)!=0}},{key:"getSByteAt",value:function(n){var t=this.getByteAt(n);return t>127?t-256:t}},{key:"getShortAt",value:function(n,t){var i=t?(this.getByteAt(n)<<8)+this.getByteAt(n+1):(this.getByteAt(n+1)<<8)+this.getByteAt(n);return i<0&&(i+=65536),i}},{key:"getSShortAt",value:function(n,t){var i=this.getShortAt(n,t);return i>32767?i-65536:i}},{key:"getLongAt",value:function(n,t){var r=this.getByteAt(n),u=this.getByteAt(n+1),f=this.getByteAt(n+2),e=this.getByteAt(n+3),i=t?(((r<<8)+u<<8)+f<<8)+e:(((e<<8)+f<<8)+u<<8)+r;return i<0&&(i+=4294967296),i}},{key:"getSLongAt",value:function(n,t){var i=this.getLongAt(n,t);return i>2147483647?i-4294967296:i}},{key:"getInteger24At",value:function(n,t){var r=this.getByteAt(n),u=this.getByteAt(n+1),f=this.getByteAt(n+2),i=t?((r<<8)+u<<8)+f:((f<<8)+u<<8)+r;return i<0&&(i+=16777216),i}},{key:"getStringAt",value:function(n,t){for(var r=[],i=n,u=0;i<n+t;i++,u++)r[u]=String.fromCharCode(this.getByteAt(i));return r.join("")}},{key:"getStringWithCharsetAt",value:function(n,t,r){var f=this.getBytesAt(n,t),u;switch((r||"").toLowerCase()){case"utf-16":case"utf-16le":case"utf-16be":u=i.readUTF16String(f,r==="utf-16be");break;case"utf-8":u=i.readUTF8String(f);break;default:u=i.readNullTerminatedString(f)}return u}},{key:"getCharAt",value:function(n){return String.fromCharCode(this.getByteAt(n))}},{key:"getSynchsafeInteger32At",value:function(n){var t=this.getByteAt(n),i=this.getByteAt(n+1),r=this.getByteAt(n+2),u=this.getByteAt(n+3);return u&127|(r&127)<<7|(i&127)<<14|(t&127)<<21}}],[{key:"canReadFile",value:function(){throw new Error("Must implement canReadFile function");}}]),n}();t.exports=f},{"./StringUtils":13}],12:[function(n,t){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}var i=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),f=n("./MediaFileReader"),u=function(){function n(t){r(this,n);this._mediaFileReader=t;this._tags=null}return i(n,[{key:"setTagsToRead",value:function(n){return this._tags=n,this}},{key:"read",value:function(n){var t=this;this._mediaFileReader.init({onSuccess:function(){t._loadData(t._mediaFileReader,{onSuccess:function(){try{var i=t._parseData(t._mediaFileReader,t._tags)}catch(r){if(n.onError){n.onError({type:"parseData",info:r.message});return}}n.onSuccess(i)},onError:n.onError})},onError:n.onError})}},{key:"getShortcuts",value:function(){return{}}},{key:"_loadData",value:function(){throw new Error("Must implement _loadData function");}},{key:"_parseData",value:function(){throw new Error("Must implement _parseData function");}},{key:"_expandShortcutTags",value:function(n){var t,u,i,r;if(!n)return null;for(t=[],u=this.getShortcuts(),i=0;r=n[i];i++)t=t.concat(u[r]||[r]);return t}}],[{key:"getTagIdentifierByteRange",value:function(){throw new Error("Must implement");}},{key:"canReadTagFormat",value:function(){throw new Error("Must implement");}}]),n}();t.exports=u},{"./MediaFileReader":11}],13:[function(n,t){"use strict";function u(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}var r=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),i=function(){function n(t,i){u(this,n);this._value=t;this.bytesReadCount=i;this.length=t.length}return r(n,[{key:"toString",value:function(){return this._value}}]),n}(),f={readUTF16String:function(n,t,r){var u=0,o=1,s=0,f,e;for(r=Math.min(r||n.length,n.length),n[0]==254&&n[1]==255?(t=!0,u=2):n[0]==255&&n[1]==254&&(t=!1,u=2),t&&(o=0,s=1),f=[],e=0;u<r;e++){var h=n[u+o],l=n[u+s],c=(h<<8)+l;if(u+=2,c==0)break;else if(h<216||h>=224)f[e]=String.fromCharCode(c);else{var a=n[u+o],v=n[u+s],y=(a<<8)+v;u+=2;f[e]=String.fromCharCode(c,y)}}return new i(f.join(""),u)},readUTF8String:function(n,t){var u=0,f,e,r,o,s;for(t=Math.min(t||n.length,n.length),n[0]==239&&n[1]==187&&n[2]==191&&(u=3),f=[],e=0;u<t;e++)if(r=n[u++],r==0)break;else if(r<128)f[e]=String.fromCharCode(r);else if(r>=194&&r<224)o=n[u++],f[e]=String.fromCharCode(((r&31)<<6)+(o&63));else if(r>=224&&r<240)o=n[u++],s=n[u++],f[e]=String.fromCharCode(((r&255)<<12)+((o&63)<<6)+(s&63));else if(r>=240&&r<245){var o=n[u++],s=n[u++],c=n[u++],h=((r&7)<<18)+((o&63)<<12)+((s&63)<<6)+(c&63)-65536;f[e]=String.fromCharCode((h>>10)+55296,(h&1023)+56320)}return new i(f.join(""),u)},readNullTerminatedString:function(n,t){var f=[],r,u;for(t=t||n.length,r=0;r<t;){if(u=n[r++],u==0)break;f[r-1]=String.fromCharCode(u)}return new i(f.join(""),r)}};t.exports=f},{}],14:[function(n,t){"use strict";function f(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function e(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:n}function o(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}var u=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),s=n("./ChunkedFileData"),h=n("./MediaFileReader"),i=1024,r=function(t){function r(n){f(this,r);var t=e(this,Object.getPrototypeOf(r).call(this));return t._url=n,t._fileData=new s,t}return o(r,t),u(r,[{key:"_init",value:function(n){r._config.avoidHeadRequests?this._fetchSizeWithGetRequest(n):this._fetchSizeWithHeadRequest(n)}},{key:"_fetchSizeWithHeadRequest",value:function(n){var t=this;this._makeXHRRequest("HEAD",null,{onSuccess:function(i){var r=t._parseContentLength(i);r?(t._size=r,n.onSuccess()):t._fetchSizeWithGetRequest(n)},onError:n.onError})}},{key:"_fetchSizeWithGetRequest",value:function(n){var t=this,i=this._roundRangeToChunkMultiple([0,0]);this._makeXHRRequest("GET",i,{onSuccess:function(i){var r=t._parseContentRange(i),u=t._getXhrResponseContent(i);if(r){if(r.instanceLength==null){t._fetchEntireFile(n);return}t._size=r.instanceLength}else t._size=u.length;t._fileData.addData(0,u);n.onSuccess()},onError:n.onError})}},{key:"_fetchEntireFile",value:function(n){var t=this;this._makeXHRRequest("GET",null,{onSuccess:function(i){var r=t._getXhrResponseContent(i);t._size=r.length;t._fileData.addData(0,r);n.onSuccess()},onError:n.onError})}},{key:"_getXhrResponseContent",value:function(n){return n.responseBody||n.responseText||""}},{key:"_parseContentLength",value:function(n){var t=this._getResponseHeader(n,"Content-Length");return t==null?t:parseInt(t,10)}},{key:"_parseContentRange",value:function(n){var i=this._getResponseHeader(n,"Content-Range"),t;if(i){if(t=i.match(/bytes (\d+)-(\d+)\/(?:(\d+)|\*)/i),!t)throw new Error("FIXME: Unknown Content-Range syntax: "+i);return{firstBytePosition:parseInt(t[1],10),lastBytePosition:parseInt(t[2],10),instanceLength:t[3]?parseInt(t[3],10):null}}return null}},{key:"loadRange",value:function(n,t){var i=this;if(i._fileData.hasDataRange(n[0],Math.min(i._size,n[1]))){setTimeout(t.onSuccess,1);return}n=this._roundRangeToChunkMultiple(n);n[1]=Math.min(i._size,n[1]);this._makeXHRRequest("GET",n,{onSuccess:function(r){var u=i._getXhrResponseContent(r);i._fileData.addData(n[0],u);t.onSuccess()},onError:t.onError})}},{key:"_roundRangeToChunkMultiple",value:function(n){var t=n[1]-n[0]+1,r=Math.ceil(t/i)*i;return[n[0],n[0]+r-1]}},{key:"_makeXHRRequest",value:function(n,t,i){var u=this._createXHRObject(),f;u.open(n,this._url);f=function(){if(u.status===200||u.status===206)i.onSuccess(u);else if(i.onError)i.onError({type:"xhr",info:"Unexpected HTTP status "+u.status+".",xhr:u});u=null};typeof u.onload!="undefined"?(u.onload=f,u.onerror=function(){if(i.onError)i.onError({type:"xhr",info:"Generic XHR error, check xhr object.",xhr:u})}):u.onreadystatechange=function(){u.readyState===4&&f()};r._config.timeoutInSec&&(u.timeout=r._config.timeoutInSec*1e3,u.ontimeout=function(){if(i.onError)i.onError({type:"xhr",info:"Timeout after "+u.timeout/1e3+"s. Use jsmediatags.Config.setXhrTimeout to override.",xhr:u})});u.overrideMimeType("text/plain; charset=x-user-defined");t&&this._setRequestHeader(u,"Range","bytes="+t[0]+"-"+t[1]);this._setRequestHeader(u,"If-Modified-Since","Sat, 01 Jan 1970 00:00:00 GMT");u.send(null)}},{key:"_setRequestHeader",value:function(n,t,i){r._config.disallowedXhrHeaders.indexOf(t.toLowerCase())<0&&n.setRequestHeader(t,i)}},{key:"_hasResponseHeader",value:function(n,t){var f=n.getAllResponseHeaders(),r,u,i;if(!f)return!1;for(r=f.split("\r\n"),u=[],i=0;i<r.length;i++)u[i]=r[i].split(":")[0].toLowerCase();return u.indexOf(t.toLowerCase())>=0}},{key:"_getResponseHeader",value:function(n,t){return this._hasResponseHeader(n,t)?n.getResponseHeader(t):null}},{key:"getByteAt",value:function(n){var t=this._fileData.getByteAt(n);return t.charCodeAt(0)&255}},{key:"_isWebWorker",value:function(){return typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope}},{key:"_createXHRObject",value:function(){if(typeof window=="undefined"&&!this._isWebWorker())return new(n("xhr2").XMLHttpRequest);if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;throw new Error("XMLHttpRequest is not supported");}}],[{key:"canReadFile",value:function(n){return typeof n=="string"&&/^[a-z]+:\/\//i.test(n)}},{key:"setConfig",value:function(n){var i,r,t;for(i in n)n.hasOwnProperty(i)&&(this._config[i]=n[i]);for(r=this._config.disallowedXhrHeaders,t=0;t<r.length;t++)r[t]=r[t].toLowerCase()}}]),r}(h);r._config={avoidHeadRequests:!1,disallowedXhrHeaders:[],timeoutInSec:30};t.exports=r},{"./ChunkedFileData":5,"./MediaFileReader":11,xhr2:2}],15:[function(n,t){"use strict";function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function b(n,t){new h(n).read(t)}function s(n,t){var i=n.offset>=0&&n.offset+n.length>=t,r=n.offset<0&&(-n.offset>t||n.offset+n.length>0);return!(i||r)}var e=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),k=n("./MediaFileReader"),c=n("./NodeFileReader"),r=n("./XhrFileReader"),l=n("./BlobFileReader"),a=n("./ArrayFileReader"),d=n("./MediaTagReader"),v=n("./ID3v1TagReader"),y=n("./ID3v2TagReader"),p=n("./MP4TagReader"),w=n("./FLACTagReader"),u=[],i=[],h=function(){function n(t){o(this,n);this._file=t}return e(n,[{key:"setTagsToRead",value:function(n){return this._tagsToRead=n,this}},{key:"setFileReader",value:function(n){return this._fileReader=n,this}},{key:"setTagReader",value:function(n){return this._tagReader=n,this}},{key:"read",value:function(n){var r=this._getFileReader(),t=new r(this._file),i=this;t.init({onSuccess:function(){i._getTagReader(t,{onSuccess:function(r){new r(t).setTagsToRead(i._tagsToRead).read(n)},onError:n.onError})},onError:n.onError})}},{key:"_getFileReader",value:function(){return this._fileReader?this._fileReader:this._findFileReader()}},{key:"_findFileReader",value:function(){for(var n=0;n<u.length;n++)if(u[n].canReadFile(this._file))return u[n];throw new Error("No suitable file reader found for "+this._file);}},{key:"_getTagReader",value:function(n,t){if(this._tagReader){var i=this._tagReader;setTimeout(function(){t.onSuccess(i)},1)}else this._findTagReader(n,t)}},{key:"_findTagReader",value:function(n,t){for(var r,e,o,h=[],c=[],u=n.getSize(),f=0;f<i.length;f++)(r=i[f].getTagIdentifierByteRange(),s(r,u))&&(r.offset>=0&&r.offset<u/2||r.offset<0&&r.offset<-u/2?h.push(i[f]):c.push(i[f]));e=!1;o={onSuccess:function(){var r,f,o;if(!e){e=!0;return}for(r=0;r<i.length;r++)if(f=i[r].getTagIdentifierByteRange(),s(f,u)){try{o=n.getBytesAt(f.offset>=0?f.offset:f.offset+u,f.length)}catch(h){if(t.onError)t.onError({type:"fileReader",info:h.message});return}if(i[r].canReadTagFormat(o)){t.onSuccess(i[r]);return}}if(t.onError)t.onError({type:"tagFormat",info:"No suitable tag reader found"})},onError:t.onError};this._loadTagIdentifierRanges(n,h,o);this._loadTagIdentifierRanges(n,c,o)}},{key:"_loadTagIdentifierRanges",value:function(n,t,i){var r,e,u;if(t.length===0){setTimeout(i.onSuccess,1);return}for(r=[Number.MAX_VALUE,0],e=n.getSize(),u=0;u<t.length;u++){var f=t[u].getTagIdentifierByteRange(),o=f.offset>=0?f.offset:f.offset+e,s=o+f.length-1;r[0]=Math.min(o,r[0]);r[1]=Math.max(s,r[1])}n.loadRange(r,i)}}]),n}(),f=function(){function n(){o(this,n)}return e(n,null,[{key:"addFileReader",value:function(t){return u.push(t),n}},{key:"addTagReader",value:function(t){return i.push(t),n}},{key:"removeTagReader",value:function(t){var r=i.indexOf(t);return r>=0&&i.splice(r,1),n}},{key:"EXPERIMENTAL_avoidHeadRequests",value:function(){r.setConfig({avoidHeadRequests:!0})}},{key:"setDisallowedXhrHeaders",value:function(n){r.setConfig({disallowedXhrHeaders:n})}},{key:"setXhrTimeoutInSec",value:function(n){r.setConfig({timeoutInSec:n})}}]),n}();f.addFileReader(r).addFileReader(l).addFileReader(a).addTagReader(y).addTagReader(v).addTagReader(p).addTagReader(w);typeof process=="undefined"||process.browser||f.addFileReader(c);t.exports={read:b,Reader:h,Config:f}},{"./ArrayFileReader":3,"./BlobFileReader":4,"./FLACTagReader":6,"./ID3v1TagReader":7,"./ID3v2TagReader":9,"./MP4TagReader":10,"./MediaFileReader":11,"./MediaTagReader":12,"./NodeFileReader":1,"./XhrFileReader":14}]},{},[15])(15)});