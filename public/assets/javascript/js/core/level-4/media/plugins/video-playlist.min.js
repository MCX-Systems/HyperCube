/*! @name videojs-playlist @version 4.2.6 @license Apache-2.0 */
(function(b,a){typeof exports==="object"&&typeof module!=="undefined"?module.exports=a(require("video.js")):typeof define==="function"&&define.amd?define(["video.js"],a):(b.videojsPlaylist=a(b.videojs))}(this,(function(j){j=j&&j.hasOwnProperty("default")?j["default"]:j;var g=function g(n){return typeof n==="number"&&!isNaN(n)&&n>=0&&n<Infinity};var k=function k(n){var o=n.playlist.autoadvance_;if(o.timeout){n.clearTimeout(o.timeout)}if(o.trigger){n.off("ended",o.trigger)}o.timeout=null;o.trigger=null};var c=function c(o,n){k(o);if(!g(n)){o.playlist.autoadvance_.delay=null;return}o.playlist.autoadvance_.delay=n;o.playlist.autoadvance_.trigger=function(){var p=function p(){return c(o,n)};o.one("play",p);o.playlist.autoadvance_.timeout=o.setTimeout(function(){k(o);o.off("play",p);o.playlist.next()},n*1000)};o.one("ended",o.playlist.autoadvance_.trigger)};var f=function f(p){var n=p.remoteTextTracks();var o=n&&n.length||0;while(o--){p.removeRemoteTextTrack(n[o])}};var m=function m(n,o){var p=!n.paused()||n.ended();n.trigger("beforeplaylistitem",o);n.poster(o.poster||"");n.src(o.sources);f(n);n.ready(function(){(o.textTracks||[]).forEach(n.addRemoteTextTrack.bind(n));n.trigger("playlistitem",o);if(p){var q=n.play();if(typeof q!=="undefined"&&typeof q.then==="function"){q.then(null,function(r){})}}c(n,n.playlist.autoadvance_.delay)});return n};var h=function h(o,n){var q=o;var p=n;if(typeof o==="object"){q=o.src}if(typeof n==="object"){p=n.src}if(/^\/\//.test(q)){p=p.slice(p.indexOf("//"))}if(/^\/\//.test(p)){q=q.slice(q.indexOf("//"))}return q===p};var b=function b(n,s){for(var q=0;q<n.length;q++){var p=n[q].sources;if(Array.isArray(p)){for(var o=0;o<p.length;o++){var r=p[o];if(r&&h(r,s)){return q}}}}return -1};var a=function a(n){var o=-1;var r=n.length-1;while(++o<n.length){var p=o+Math.floor(Math.random()*(r-o+1));var q=n[p];n[p]=n[o];n[o]=q}return n};function e(o,n,q){if(q===void 0){q=0}var p=null;var s=false;var r=o.playlist=function(v,u){if(u===void 0){u=0}if(s){throw new Error("do not call playlist() during a playlist change")}if(Array.isArray(v)){var t=Array.isArray(p)?p.slice():null;p=v.slice();s=true;o.trigger({type:"duringplaylistchange",nextIndex:u,nextPlaylist:p,previousIndex:r.currentIndex_,previousPlaylist:t||[]});s=false;if(u!==-1){r.currentItem(u)}if(t){o.setTimeout(function(){o.trigger("playlistchange")},0)}}return p.slice()};o.on("loadstart",function(){if(r.currentItem()===-1){k(o)}});r.currentIndex_=-1;r.player_=o;r.autoadvance_={};r.repeat_=false;r.currentItem=function(t){if(s){return r.currentIndex_}if(typeof t==="number"&&r.currentIndex_!==t&&t>=0&&t<p.length){r.currentIndex_=t;m(r.player_,p[r.currentIndex_])}else{r.currentIndex_=r.indexOf(r.player_.currentSrc()||"")}return r.currentIndex_};r.contains=function(t){return r.indexOf(t)!==-1};r.indexOf=function(w){if(typeof w==="string"){return b(p,w)}var t=Array.isArray(w)?w:w.sources;for(var u=0;u<t.length;u++){var v=t[u];if(typeof v==="string"){return b(p,v)}else{if(v.src){return b(p,v.src)}}}return -1};r.currentIndex=function(){return r.currentItem()};r.lastIndex=function(){return p.length-1};r.nextIndex=function(){var t=r.currentItem();if(t===-1){return -1}var u=r.lastIndex();if(r.repeat_&&t===u){return 0}return Math.min(t+1,u)};r.previousIndex=function(){var t=r.currentItem();if(t===-1){return -1}if(r.repeat_&&t===0){return r.lastIndex()}return Math.max(t-1,0)};r.first=function(){if(s){return}if(p.length){return p[r.currentItem(0)]}r.currentIndex_=-1};r.last=function(){if(s){return}if(p.length){return p[r.currentItem(r.lastIndex())]}r.currentIndex_=-1};r.next=function(){if(s){return}var t=r.nextIndex();if(t!==r.currentIndex_){return p[r.currentItem(t)]}};r.previous=function(){if(s){return}var t=r.previousIndex();if(t!==r.currentIndex_){return p[r.currentItem(t)]}};r.autoadvance=function(t){c(r.player_,t)};r.repeat=function(t){if(t===undefined){return r.repeat_}if(typeof t!=="boolean"){j.log.error("videojs-playlist: Invalid value for repeat",t);return}r.repeat_=!!t;return r.repeat_};r.sort=function(t){if(!p.length){return}p.sort(t);if(s){return}o.trigger("playlistsorted")};r.reverse=function(){if(!p.length){return}p.reverse();if(s){return}o.trigger("playlistsorted")};r.shuffle=function(u){var y=u===void 0?{}:u,x=y.rest;var v=0;var t=p;if(x){v=r.currentIndex_+1;t=p.slice(v)}if(t.length<=1){return}a(t);if(x){var w;(w=p).splice.apply(w,[v,t.length].concat(t))}if(s){return}o.trigger("playlistsorted")};if(Array.isArray(n)){r(n.slice(),q)}else{p=[]}return r}var l="4.2.6";var d=j.registerPlugin||j.plugin;var i=function i(o,n){e(this,o,n)};d("playlist",i);i.VERSION=l;return i})));
/*! @name videojs-playlist-ui @version 3.5.2 @license Apache-2.0 */
(function(b,a){typeof exports==="object"&&typeof module!=="undefined"?module.exports=a(require("global/document"),require("video.js")):typeof define==="function"&&define.amd?define(["global/document","video.js"],a):(b.videojsPlaylistUi=a(b.document,b.videojs))}(this,(function(n,k){n=n&&n.hasOwnProperty("default")?n["default"]:n;k=k&&k.hasOwnProperty("default")?k["default"]:k;function p(v,u){v.prototype=Object.create(u.prototype);v.prototype.constructor=v;v.__proto__=u}var f="3.5.2";var q=k.dom||k;var m=k.registerPlugin||k.plugin;var a=function a(x,w){for(var u=0,v=x.length;u<v;u++){if(x[u]===w){return u}}return -1};var o=function(){var u=n.createElement("x");u.style.cssText="pointer-events:auto";return u.style.pointerEvents==="auto"}();var j={className:"vjs-playlist",playOnSelect:false,supportsCssPointerEvents:o};var r=function r(u){u.addClass("vjs-selected")};var t=function t(u){u.removeClass("vjs-selected");if(u.thumbnail){q.removeClass(u.thumbnail,"vjs-playlist-now-playing")}};var i=function i(u){u.addClass("vjs-up-next")};var e=function e(u){u.removeClass("vjs-up-next")};var g=function g(u){if(!u){var E=n.createElement("div");E.className="vjs-playlist-thumbnail vjs-playlist-thumbnail-placeholder";return E}var z=n.createElement("picture");z.className="vjs-playlist-thumbnail";if(typeof u==="string"){var B=n.createElement("img");B.src=u;B.alt="";z.appendChild(B)}else{for(var A=0;A<u.length-1;A++){var x=u[A];var v=n.createElement("source");for(var w in x){v[w]=x[w]}z.appendChild(v)}var y=u[u.length-1];var C=n.createElement("img");C.alt="";for(var D in y){C[D]=y[D]}z.appendChild(C)}return z};var l=k.getComponent("Component");var c=function(w){p(z,w);function z(A,D,B){var C;if(!D.item){throw new Error("Cannot construct a PlaylistMenuItem without an item option")}C=w.call(this,A,D)||this;C.item=D.item;C.playOnSelect=B.playOnSelect;C.emitTapEvents();C.on(["click","tap"],C.switchPlaylistItem_);C.on("keydown",C.handleKeyDown_);return C}var v=z.prototype;v.handleKeyDown_=function x(A){if(A.which===13||A.which===32){this.switchPlaylistItem_()}};v.switchPlaylistItem_=function y(A){this.player_.playlist.currentItem(a(this.player_.playlist(),this.item));if(this.playOnSelect){this.player_.play()}};v.createEl=function u(){var I=n.createElement("li");var J=this.options_.item;if(typeof J.data==="object"){var A=Object.keys(J.data);A.forEach(function(M){var N=J.data[M];I.dataset[M]=N})}I.className="vjs-playlist-item";I.setAttribute("tabIndex",0);this.thumbnail=g(J.thumbnail);I.appendChild(this.thumbnail);if(J.duration){var G=n.createElement("time");var E=k.formatTime(J.duration);G.className="vjs-playlist-duration";G.setAttribute("datetime","PT0H0M"+J.duration+"S");G.appendChild(n.createTextNode(E));I.appendChild(G)}var K=n.createElement("span");var H=this.localize("Now Playing");K.className="vjs-playlist-now-playing-text";K.appendChild(n.createTextNode(H));K.setAttribute("title",H);this.thumbnail.appendChild(K);var F=n.createElement("div");F.className="vjs-playlist-title-container";this.thumbnail.appendChild(F);var B=n.createElement("span");var D=this.localize("Up Next");B.className="vjs-up-next-text";B.appendChild(n.createTextNode(D));B.setAttribute("title",D);F.appendChild(B);var C=n.createElement("cite");var L=J.name||this.localize("Untitled Video");C.className="vjs-playlist-name";C.appendChild(n.createTextNode(L));C.setAttribute("title",L);F.appendChild(C);return I};return z}(l);var d=function(A){p(w,A);function w(C,B){var D;if(!C.playlist){throw new Error("videojs-playlist is required for the playlist component")}D=A.call(this,C,B)||this;D.items=[];if(B.horizontal){D.addClass("vjs-playlist-horizontal")}else{D.addClass("vjs-playlist-vertical")}if(B.supportsCssPointerEvents){D.addClass("vjs-csspointerevents")}D.createPlaylist_();if(!k.browser.TOUCH_ENABLED){D.addClass("vjs-mouse")}D.on(C,["loadstart","playlistchange","playlistsorted"],function(E){D.update()});D.on(C,"adstart",function(){D.addClass("vjs-ad-playing")});D.on(C,"adend",function(){D.removeClass("vjs-ad-playing")});D.on("dispose",function(){D.empty_();C.playlistMenu=null});D.on(C,"dispose",function(){D.dispose()});return D}var x=w.prototype;x.createEl=function v(){return q.createEl("div",{className:this.options_.className})};x.empty_=function u(){if(this.items&&this.items.length){this.items.forEach(function(B){return B.dispose()});this.items.length=0}};x.createPlaylist_=function y(){var G=this.player_.playlist()||[];var F=this.el_.querySelector(".vjs-playlist-item-list");var C=this.el_.querySelector(".vjs-playlist-ad-overlay");if(!F){F=n.createElement("ol");F.className="vjs-playlist-item-list";this.el_.appendChild(F)}this.empty_();for(var D=0;D<G.length;D++){var E=new c(this.player_,{item:G[D]},this.options_);this.items.push(E);F.appendChild(E.el_)}if(!C){C=n.createElement("li");C.className="vjs-playlist-ad-overlay";F.appendChild(C)}else{F.appendChild(C)}var B=this.player_.playlist.currentItem();if(this.items.length&&B>=0){r(this.items[B]);var H=this.items[B].$(".vjs-playlist-thumbnail");if(H){q.addClass(H,"vjs-playlist-now-playing")}}};x.update=function z(){var F=this.player_.playlist();if(this.items.length!==F.length){this.createPlaylist_();return}for(var C=0;C<this.items.length;C++){if(this.items[C].item!==F[C]){this.createPlaylist_();return}}var B=this.player_.playlist.currentItem();for(var E=0;E<this.items.length;E++){var D=this.items[E];if(E===B){r(D);if(n.activeElement!==D.el()){q.addClass(D.thumbnail,"vjs-playlist-now-playing")}e(D)}else{if(E===B+1){t(D);i(D)}else{t(D);e(D)}}}};return w}(l);var b=function b(v){for(var u=0;u<v.childNodes.length;u++){if(q.isEl(v.childNodes[u])){return true}}return false};var h=function h(x){var w=n.querySelectorAll("."+x);var v;for(var u=0;u<w.length;u++){if(!b(w[u])){v=w[u];break}}return v};var s=function s(v){var w=this;if(!w.playlist){throw new Error("videojs-playlist plugin is required by the videojs-playlist-ui plugin")}if(q.isEl(v)){k.log.warn('videojs-playlist-ui: Passing an element directly to playlistUi() is deprecated, use the "el" option instead!');v={el:v}}v=k.mergeOptions(j,v);if(w.playlistMenu){var x=w.playlistMenu.el();if(x){var u=x.parentNode;var y=x.nextSibling;w.playlistMenu.dispose();q.emptyEl(x);if(y){u.insertBefore(x,y)}else{u.appendChild(x)}v.el=x}}if(!q.isEl(v.el)){v.el=h(v.className)}w.playlistMenu=new d(w,v)};k.registerComponent("PlaylistMenu",d);k.registerComponent("PlaylistMenuItem",c);m("playlistUi",s);s.VERSION=f;return s})));