/*! offline-js 0.7.19 */
(function(){var a,f,c,e,b,d,g;e=function(m,l){var i,h,k;h=[];for(i in l.prototype){try{k=l.prototype[i],null==m[i]&&"function"!=typeof k?h.push(m[i]=k):h.push(void 0)}catch(j){j}}return h},a={},a.options=window.Offline?window.Offline.options||{}:{},c={checks:{xhr:{url:function(){return"https://hypercube.si/assets/favicon/favicon.ico?_="+new Date().getTime()},timeout:5000,type:"HEAD"},image:{url:function(){return"https://hypercube.si/assets/favicon/favicon.ico?_="+new Date().getTime()}},active:"xhr"},checkOnLoad:!1,interceptRequests:!0,reconnect:!0,deDupBody:!1},b=function(p,n){var q,m,l,h,k,o;for(q=p,o=n.split("."),m=l=0,h=o.length;l<h&&(k=o[m],"object"==typeof(q=q[k]));m=++l){}return m===o.length-1?q:void 0},a.getOption=function(h){var i,j;return j=null!=(i=b(a.options,h))?i:b(c,h),"function"==typeof j?j():j},"function"==typeof window.addEventListener&&window.addEventListener("online",function(){return setTimeout(a.confirmUp,100)},!1),"function"==typeof window.addEventListener&&window.addEventListener("offline",function(){return a.confirmDown()},!1),a.state="up",a.markUp=function(){if(a.trigger("confirmed-up"),"up"!==a.state){return a.state="up",a.trigger("up")}},a.markDown=function(){if(a.trigger("confirmed-down"),"down"!==a.state){return a.state="down",a.trigger("down")}},d={},a.on=function(o,n,i){var p,m,k,h,l;if(m=o.split(" "),m.length>1){for(l=[],k=0,h=m.length;k<h;k++){p=m[k],l.push(a.on(p,n,i))}return l}return null==d[o]&&(d[o]=[]),d[o].push([i,n])},a.off=function(n,l){var h,k,m,j;if(null!=d[n]){if(l){for(k=0,j=[];k<d[n].length;){m=d[n][k],m[0],h=m[1],h===l?j.push(d[n].splice(k,1)):j.push(k++)}return j}return d[n]=[]}},a.trigger=function(p){var i,n,l,h,o,k,m;if(null!=d[p]){for(o=d[p].slice(0),m=[],l=0,h=o.length;l<h;l++){k=o[l],i=k[0],n=k[1],m.push(n.call(i))}return m}},f=function(n,o,m){var l,i,k,h,j;return j=function(){return n.status&&n.status<12000?o():m()},null===n.onprogress?(l=n.onerror,n.onerror=function(){return m(),"function"==typeof l?l.apply(null,arguments):void 0},h=n.ontimeout,n.ontimeout=function(){return m(),"function"==typeof h?h.apply(null,arguments):void 0},i=n.onload,n.onload=function(){return j(),"function"==typeof i?i.apply(null,arguments):void 0}):(k=n.onreadystatechange,n.onreadystatechange=function(){return 4===n.readyState?j():0===n.readyState&&m(),"function"==typeof k?k.apply(null,arguments):void 0})},a.checks={},a.checks.xhr=function(){var i;i=new XMLHttpRequest(),i.offline=!1,i.open(a.getOption("checks.xhr.type"),a.getOption("checks.xhr.url"),!0),null!=i.timeout&&(i.timeout=a.getOption("checks.xhr.timeout")),f(i,a.markUp,a.markDown);try{i.send()}catch(h){h,a.markDown()}return i},a.checks.image=function(){var h;h=document.createElement("img"),h.onerror=a.markDown,h.onload=a.markUp,h.src=a.getOption("checks.image.url")},a.checks.down=a.markDown,a.checks.up=a.markUp,a.check=function(){return a.trigger("checking"),a.checks[a.getOption("checks.active")]()},a.confirmUp=a.confirmDown=a.check,a.onXHR=function(i){var k,j,h;if(h=function(n,m){var l;return l=n.open,n.open=function(s,q,r,o,p){return i({type:s,url:q,async:r,flags:m,user:o,password:p,xhr:n}),l.apply(n,arguments)}},j=window.XMLHttpRequest,window.XMLHttpRequest=function(l){var m,o,n;return n=new j(l),h(n,l),o=n.setRequestHeader,n.headers={},n.setRequestHeader=function(p,q){return n.headers[p]=q,o.call(n,p,q)},m=n.overrideMimeType,n.overrideMimeType=function(p){return n.mimeType=p,m.call(n,p)},n},e(window.XMLHttpRequest,j),null!=window.XDomainRequest){return k=window.XDomainRequest,window.XDomainRequest=function(){var l;return l=new k(),h(l),l},e(window.XDomainRequest,k)}},g=function(){if(a.getOption("interceptRequests")&&a.onXHR(function(h){var i;if(i=h.xhr,!1!==i.offline){return f(i,a.markUp,a.confirmDown)}}),a.getOption("checkOnLoad")){return a.check()}},setTimeout(g,0),window.Offline=a}).call(this),function(){var h,e,b,a,g,i,f,c,d;if(!window.Offline){throw new Error("Offline Reconnect brought in without offline.js")}a=Offline.reconnect={},i=null,g=function(){var j;return null!=a.state&&"inactive"!==a.state&&Offline.trigger("reconnect:stopped"),a.state="inactive",a.remaining=a.delay=null!=(j=Offline.getOption("reconnect.initialDelay"))?j:3},e=function(){var j,k;return j=null!=(k=Offline.getOption("reconnect.delay"))?k:Math.min(Math.ceil(1.5*a.delay),3600),a.remaining=a.delay=j},f=function(){if("connecting"!==a.state){return a.remaining-=1,Offline.trigger("reconnect:tick"),0===a.remaining?c():void 0}},c=function(){if("waiting"===a.state){return Offline.trigger("reconnect:connecting"),a.state="connecting",Offline.check()}},h=function(){if(Offline.getOption("reconnect")){return g(),a.state="waiting",Offline.trigger("reconnect:started"),i=setInterval(f,1000)}},d=function(){return null!=i&&clearInterval(i),g()},b=function(){if(Offline.getOption("reconnect")){return"connecting"===a.state?(Offline.trigger("reconnect:failure"),a.state="waiting",e()):void 0}},a.tryNow=c,g(),Offline.on("down",h),Offline.on("confirmed-down",b),Offline.on("up",d)}.call(this),function(){var b,a,c,f,e,d;if(!window.Offline){throw new Error("Requests module brought in without offline.js")}c=[],d=!1,f=function(g){if(!1!==Offline.getOption("requests")){return Offline.trigger("requests:capture"),"down"!==Offline.state&&(d=!0),c.push(g)}},e=function(p){var l,g,n,j,m,h,k,i,o;if(o=p.xhr,h=p.url,m=p.type,k=p.user,n=p.password,l=p.body,!1!==Offline.getOption("requests")){o.abort(),o.open(m,h,!0,k,n),j=o.headers;for(g in j){i=j[g],o.setRequestHeader(g,i)}return o.mimeType&&o.overrideMimeType(o.mimeType),o.send(l)}},b=function(){return c=[]},a=function(){var h,l,k,g,m,n,j;if(!1!==Offline.getOption("requests")){for(Offline.trigger("requests:flush"),n={},l=0,g=c.length;l<g;l++){m=c[l],j=m.url.replace(/(\?|&)_=[0-9]+/,function(i,o){return"?"===o?o:""}),Offline.getOption("deDupBody")?(h=m.body,h="[object Object]"===h.toString()?JSON.stringify(h):h.toString(),n[m.type.toUpperCase()+" - "+j+" - "+h]=m):n[m.type.toUpperCase()+" - "+j]=m}for(k in n){m=n[k],e(m)}return b()}},setTimeout(function(){if(!1!==Offline.getOption("requests")){return Offline.on("confirmed-up",function(){if(d){return d=!1,b()}}),Offline.on("up",a),Offline.on("down",function(){return d=!1}),Offline.onXHR(function(j){var h,i,g,k,l;if(l=j.xhr,g=j.async,!1!==l.offline&&(k=function(){return f(j)},i=l.send,l.send=function(m){return j.body=m,i.apply(l,arguments)},g)){return null===l.onprogress?(l.addEventListener("error",k,!1),l.addEventListener("timeout",k,!1)):(h=l.onreadystatechange,l.onreadystatechange=function(){return 0===l.readyState?k():4===l.readyState&&(0===l.status||l.status>=12000)&&k(),"function"==typeof h?h.apply(null,arguments):void 0})}}),Offline.requests={flush:a,clear:b}}},0)}.call(this),function(){var f,c,a,d,b,e;if(!Offline){throw new Error("Offline simulate brought in without offline.js")}for(d=["up","down"],c=0,a=d.length;c<a;c++){e=d[c];try{b=document.querySelector("script[data-simulate='"+e+"']")||("undefined"!=typeof localStorage&&null!==localStorage?localStorage.OFFLINE_SIMULATE:void 0)===e}catch(g){g,b=!1}}b&&(null==Offline.options&&(Offline.options={}),null==(f=Offline.options).checks&&(f.checks={}),Offline.options.checks.active=e)}.call(this),function(){var d,m,k,g,h,f,b,i,c,l,j,a,e;if(!window.Offline){throw new Error("Offline UI brought in without offline.js")}m='<div class="offline-ui"><div class="offline-ui-content"></div></div>',d='<a href class="offline-ui-retry"></a>',f=function(n){var o;return o=document.createElement("div"),o.innerHTML=n,o.children[0]},b=h=null,g=function(n){return j(n),b.className+=" "+n},j=function(n){return b.className=b.className.replace(new RegExp("(^| )"+n.split(" ").join("|")+"( |$)","gi")," ")},c={},i=function(n,o){return g(n),null!=c[n]&&clearTimeout(c[n]),c[n]=setTimeout(function(){return j(n),delete c[n]},1000*o)},e=function(o){var q,p,n,r;n={day:86400,hour:3600,minute:60,second:1};for(p in n){if(q=n[p],o>=q){return r=Math.floor(o/q),[r,p]}}return["now",""]},a=function(){var n,o;return b=f(m),document.body.appendChild(b),null!=Offline.reconnect&&Offline.getOption("reconnect")&&(b.appendChild(f(d)),n=b.querySelector(".offline-ui-retry"),o=function(p){return p.preventDefault(),Offline.reconnect.tryNow()},null!=n.addEventListener?n.addEventListener("click",o,!1):n.attachEvent("click",o)),g("offline-ui-"+Offline.state),h=b.querySelector(".offline-ui-content")},l=function(){return a(),Offline.on("up",function(){return j("offline-ui-down"),g("offline-ui-up"),i("offline-ui-up-2s",2),i("offline-ui-up-5s",5)}),Offline.on("down",function(){return j("offline-ui-up"),g("offline-ui-down"),i("offline-ui-down-2s",2),i("offline-ui-down-5s",5)}),Offline.on("reconnect:connecting",function(){return g("offline-ui-connecting"),j("offline-ui-waiting")}),Offline.on("reconnect:tick",function(){var o,p,n;return g("offline-ui-waiting"),j("offline-ui-connecting"),o=e(Offline.reconnect.remaining),p=o[0],n=o[1],h.setAttribute("data-retry-in-value",p),h.setAttribute("data-retry-in-unit",n)}),Offline.on("reconnect:stopped",function(){return j("offline-ui-connecting offline-ui-waiting"),h.setAttribute("data-retry-in-value",null),h.setAttribute("data-retry-in-unit",null)}),Offline.on("reconnect:failure",function(){return i("offline-ui-reconnect-failed-2s",2),i("offline-ui-reconnect-failed-5s",5)}),Offline.on("reconnect:success",function(){return i("offline-ui-reconnect-succeeded-2s",2),i("offline-ui-reconnect-succeeded-5s",5)})},"complete"===document.readyState?l():null!=document.addEventListener?document.addEventListener("DOMContentLoaded",l,!1):(k=document.onreadystatechange,document.onreadystatechange=function(){return"complete"===document.readyState&&l(),"function"==typeof k?k.apply(null,arguments):void 0})}.call(this);