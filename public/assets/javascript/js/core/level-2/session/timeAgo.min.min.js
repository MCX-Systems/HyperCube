(function(b){if(typeof define==="function"&&define.amd){define(["jquery"],b)}else{if(typeof module==="object"&&typeof module.exports==="object"){b(require("jquery"))}else{b(jQuery)}}}(function(m){m.timeago=function(a){if(a instanceof Date){return i(a)}else{if(typeof a==="string"){return i(m.timeago.parse(a))}else{if(typeof a==="number"){return i(new Date(a))}else{return i(m.timeago.datetime(a))}}}};var j=m.timeago;m.extend(m.timeago,{settings:{refreshMillis:60000,allowPast:true,allowFuture:false,localeTitle:false,cutoff:0,autoDispose:true,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",inPast:"any moment now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(e){if(!this.settings.allowPast&&!this.settings.allowFuture){throw"timeago allowPast and allowFuture settings can not both be set to false."}var d=this.settings.strings;var t=d.prefixAgo;var x=d.suffixAgo;if(this.settings.allowFuture){if(e<0){t=d.prefixFromNow;x=d.suffixFromNow}}if(!this.settings.allowPast&&e>=0){return this.settings.strings.inPast}var b=Math.abs(e)/1000;var w=b/60;var c=w/60;var a=c/24;var g=a/365;function u(r,p){var q=m.isFunction(r)?r(p,e):r;var o=(d.numbers&&d.numbers[p])||p;return q.replace(/%d/i,o)}var f=b<45&&u(d.seconds,Math.round(b))||b<90&&u(d.minute,1)||w<45&&u(d.minutes,Math.round(w))||w<90&&u(d.hour,1)||c<24&&u(d.hours,Math.round(c))||c<42&&u(d.day,1)||a<30&&u(d.days,Math.round(a))||a<45&&u(d.month,1)||a<365&&u(d.months,Math.round(a/30))||g<1.5&&u(d.year,1)||u(d.years,Math.round(g));var v=d.wordSeparator||"";if(d.wordSeparator===undefined){v=" "}return m.trim([t,f,x].join(v))},parse:function(a){var b=m.trim(a);b=b.replace(/\.\d+/,"");b=b.replace(/-/,"/").replace(/-/,"/");b=b.replace(/T/," ").replace(/Z/," UTC");b=b.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2");b=b.replace(/([\+\-]\d\d)$/," $100");return new Date(b)},datetime:function(a){var b=j.isTime(a)?m(a).attr("datetime"):m(a).attr("title");return j.parse(b)},isTime:function(a){return m(a).get(0).tagName.toLowerCase()==="time"}});var l={init:function(){l.dispose.call(this);var a=m.proxy(n,this);a();var b=j.settings;if(b.refreshMillis>0){this._timeagoInterval=setInterval(a,b.refreshMillis)}},update:function(a){var b=(a instanceof Date)?a:j.parse(a);m(this).data("timeago",{datetime:b});if(j.settings.localeTitle){m(this).attr("title",b.toLocaleString())}n.apply(this)},updateFromDOM:function(){m(this).data("timeago",{datetime:j.parse(j.isTime(this)?m(this).attr("datetime"):m(this).attr("title"))});n.apply(this)},dispose:function(){if(this._timeagoInterval){window.clearInterval(this._timeagoInterval);this._timeagoInterval=null}}};m.fn.timeago=function(a,c){var b=a?l[a]:l.init;if(!b){throw new Error("Unknown function name '"+a+"' for timeago")}this.each(function(){b.call(this,c)});return this};function n(){var b=j.settings;if(b.autoDispose&&!m.contains(document.documentElement,this)){m(this).timeago("dispose");return this}var a=h(this);if(!isNaN(a.datetime)){if(b.cutoff===0||Math.abs(k(a.datetime))<b.cutoff){m(this).text(i(a.datetime))}else{if(m(this).attr("title").length>0){m(this).text(m(this).attr("title"))}}}return this}function h(b){b=m(b);if(!b.data("timeago")){b.data("timeago",{datetime:j.datetime(b)});var a=m.trim(b.text());if(j.settings.localeTitle){b.attr("title",b.data("timeago").datetime.toLocaleString())}else{if(a.length>0&&!(j.isTime(b)&&b.attr("title"))){b.attr("title",a)}}}return b.data("timeago")}function i(a){return j.inWords(k(a))}function k(a){return(new Date().getTime()-a.getTime())}document.createElement("abbr");document.createElement("time")}));