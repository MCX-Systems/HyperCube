(function(c){var a={init:function(e){var f={color:c(this).css("background-color"),reach:20,speed:1000,pause:0,glow:true,repeat:true,onHover:false};c(this).css({"-moz-outline-radius":c(this).css("border-top-left-radius"),"-webkit-outline-radius":c(this).css("border-top-left-radius"),"outline-radius":c(this).css("border-top-left-radius")});if(e){c.extend(f,e)}f.color=c("<div style='background:"+f.color+"'></div>").css("background-color");if(f.repeat!==true&&!isNaN(f.repeat)&&f.repeat>0){f.repeat-=1}return this.each(function(){if(f.onHover){c(this).bind("mouseover",function(){b(f,this,0)}).bind("mouseout",function(){c(this).pulsate("destroy")})}else{b(f,this,0)}})},destroy:function(){return this.each(function(){clearTimeout(this.timer);c(this).css("outline",0)})}};var b=function(m,e,g){var l=m.reach,g=g>l?0:g,h=(l-g)/l,j=m.color.split(","),f="rgba("+j[0].split("(")[1]+","+j[1]+","+j[2].split(")")[0]+","+h+")",k={outline:"2px solid "+f};if(m.glow){k["box-shadow"]="0px 0px "+parseInt((g/1.5))+"px "+f}k["outline-offset"]=g+"px";c(e).css(k);var i=function(){if(g>=l&&!m.repeat){c(e).pulsate("destroy");return false}else{if(g>=l&&m.repeat!==true&&!isNaN(m.repeat)&&m.repeat>0){m.repeat=m.repeat-1}else{if(m.pause&&g>=l){d(m,e,g+1);return false}}}b(m,e,g+1)};if(e.timer){clearTimeout(e.timer)}e.timer=setTimeout(i,m.speed/l)};var d=function(e,f,g){innerfunc=function(){b(e,f,g)};f.timer=setTimeout(innerfunc,e.pause)};c.fn.pulsate=function(e){if(a[e]){return a[e].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof e==="object"||!e){return a.init.apply(this,arguments)}else{c.error("Method "+e+" does not exist on jQuery.pulsate")}}}})(jQuery);