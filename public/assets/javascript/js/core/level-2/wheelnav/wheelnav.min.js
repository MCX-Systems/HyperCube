wheelnav=function(g,j,b,d){this.holderId="wheel";if(g!==undefined&&g!==null){this.holderId=g}var h=document.getElementById(g);if((h===null||h===undefined)&&(j===undefined||j===null)){return this}var c;var f=true;if(j===undefined||j===null){var a=[];for(var e=0;e<h.children.length;e++){if(h.children[e].localName==="svg"){a.push(h.children[e])}}for(var e=0;e<a.length;e++){h.removeChild(a[e])}if(b!==undefined&&b!==null){if(d===undefined||d===null){d=b}this.raphael=new Raphael(g,b,d);c=b}else{this.raphael=new Raphael(g);c=h.clientWidth}this.raphael.setViewBox(0,0,this.raphael.width,this.raphael.height,true)}else{this.raphael=j;c=this.raphael.width;f=false}this.centerX=c/2;this.centerY=c/2;this.wheelRadius=c/2;this.navAngle=0;this.sliceAngle=null;this.titleRotateAngle=null;this.titleCurved=false;this.titleCurvedClockwise=null;this.titleCurvedByRotateAngle=false;this.initTitleRotate=false;this.clickModeRotate=true;this.rotateRound=false;this.rotateRoundCount=0;this.clickModeSpreadOff=false;this.animatetimeCalculated=false;this.animateRepeatCount=0;this.clockwise=true;this.multiSelect=false;this.hoverPercent=1;this.selectedPercent=1;this.clickablePercentMin=0;this.clickablePercentMax=1;this.currentPercent=null;this.cssMode=false;this.selectedToFront=true;this.selectedNavItemIndex=0;this.hoverEnable=true;this.hoveredToFront=true;this.navItemCount=0;this.navItemCountLabeled=false;this.navItemCountLabelOffset=0;this.navItems=[];this.navItemsEnabled=true;this.animateFinishFunction=null;this.navItemsContinuous=false;this.navItemsCentered=true;this.colors=colorpalette.defaultpalette;this.titleSpreadScale=null;this.spreaderEnable=false;this.spreaderRadius=20;this.spreaderStartAngle=0;this.spreaderSliceAngle=360;this.spreaderPathFunction=spreaderPath().PieSpreader;this.spreaderPathCustom=null;this.spreaderInPercent=1;this.spreaderOutPercent=1;this.spreaderInTitle="+";this.spreaderOutTitle="-";this.spreaderTitleFont=null;this.spreaderPathInAttr=null;this.spreaderPathOutAttr=null;this.spreaderTitleInAttr=null;this.spreaderTitleOutAttr=null;this.spreaderInTitleWidth=null;this.spreaderInTitleHeight=null;this.spreaderOutTitleWidth=null;this.spreaderOutTitleHeight=null;this.minPercent=0.01;this.maxPercent=1;this.initPercent=1;this.markerEnable=false;this.markerPathFunction=markerPath().TriangleMarker;this.markerPathCustom=null;this.currentClick=0;this.animateLocked=false;this.slicePathAttr=null;this.sliceHoverAttr=null;this.sliceSelectedAttr=null;this.titleFont="18px Impact, Charcoal, sans-serif";this.titleAttr=null;this.titleHoverAttr=null;this.titleSelectedAttr=null;this.titleWidth=null;this.titleHeight=null;this.titleHoverWidth=null;this.titleHoverHeight=null;this.titleSelectedWidth=null;this.titleSelectedHeight=null;this.linePathAttr=null;this.lineHoverAttr=null;this.lineSelectedAttr=null;this.slicePathCustom=null;this.sliceClickablePathCustom=null;this.sliceSelectedPathCustom=null;this.sliceHoverPathCustom=null;this.sliceInitPathCustom=null;this.sliceTransformCustom=null;this.sliceSelectedTransformCustom=null;this.sliceHoverTransformCustom=null;this.sliceInitTransformCustom=null;this.animateeffect=null;this.animatetime=null;if(slicePath()["PieSlice"]!==undefined){this.slicePathFunction=slicePath().PieSlice}else{this.slicePathFunction=slicePath().NullSlice}this.sliceClickablePathFunction=null;this.sliceTransformFunction=null;this.sliceSelectedPathFunction=null;this.sliceSelectedTransformFunction=null;this.sliceHoverPathFunction=null;this.sliceHoverTransformFunction=null;this.sliceInitPathFunction=null;this.sliceInitTransformFunction=null;this.keynavigateEnabled=false;this.keynavigateOnlyFocus=false;this.keynavigateDownCode=37;this.keynavigateDownCodeAlt=40;this.keynavigateUpCode=39;this.keynavigateUpCodeAlt=38;this.parseWheel(h);return this};wheelnav.prototype.initWheel=function(c){this.styleWheel();var b;if(this.navItemCount===0){if(c===undefined||c===null||!Array.isArray(c)){c=["title-0","title-1","title-2","title-3"]}this.navItemCount=c.length}else{c=null}for(i=0;i<this.navItemCount;i++){var a="";if(this.navItemCountLabeled){a=(i+this.navItemCountLabelOffset).toString()}else{if(c!==null){a=c[i]}else{a=""}}b=new wheelnavItem(this,a,i);this.navItems.push(b)}var d=0;for(i=0;i<this.navItems.length;i++){this.navItems[i].fillAttr=this.colors[d];d++;if(d===this.colors.length){d=0}}};wheelnav.prototype.createWheel=function(d,a){if(this.currentPercent===null){if(a){this.currentPercent=this.minPercent}else{this.currentPercent=this.maxPercent}}if(this.navItems.length===0){this.initWheel(d)}if(this.selectedNavItemIndex!==null){this.navItems[this.selectedNavItemIndex].selected=true}for(i=0;i<this.navItemCount;i++){this.navItems[i].createNavItem()}if(this.keynavigateEnabled){var b=this;var c=window;if(this.keynavigateOnlyFocus){c=document.getElementById(this.holderId);if(!c.hasAttribute("tabindex")){c.setAttribute("tabindex",0)}}c.addEventListener("keydown",this.keyNavigateFunction=function(h){h=h||window.e;var f=h.which||h.keyCode;if([b.keynavigateDownCode,b.keynavigateDownCodeAlt,b.keynavigateUpCode,b.keynavigateUpCodeAlt].indexOf(h.keyCode)>-1){h.preventDefault()}var g=null;if(f===b.keynavigateUpCode||f===b.keynavigateUpCodeAlt){if(b.currentClick===b.navItemCount-1){g=0}else{g=b.currentClick+1}}if(f===b.keynavigateDownCode||f===b.keynavigateDownCodeAlt){if(b.currentClick===0){g=b.navItemCount-1}else{g=b.currentClick-1}}if(g!==null){b.navigateWheel(g);if(b.navItems[g].navigateFunction!==null){b.navItems[g].navigateFunction()}}})}this.spreader=new spreader(this);this.marker=new marker(this);this.refreshWheel();if(a!==undefined){this.spreadWheel()}return this};wheelnav.prototype.removeWheel=function(){this.raphael.remove();if(this.keynavigateEnabled){var a=window;if(this.keynavigateOnlyFocus){a=document.getElementById(this.holderId);if(a.hasAttribute("tabindex")){a.removeAttribute("tabindex")}}a.removeEventListener("keydown",this.keyNavigateFunction)}};wheelnav.prototype.refreshWheel=function(a){for(i=0;i<this.navItemCount;i++){var b=this.navItems[i];b.setWheelSettings(a);b.refreshNavItem(a)}this.marker.setCurrentTransform();this.spreader.setCurrentTransform()};wheelnav.prototype.navigateWheel=function(b){this.animateUnlock(true);if(this.clickModeRotate){this.animateLocked=true}var a;for(i=0;i<this.navItemCount;i++){a=this.navItems[i];a.hovered=false;if(i===b){if(this.multiSelect){a.selected=!a.selected}else{a.selected=true;this.selectedNavItemIndex=i}}else{if(!this.multiSelect){a.selected=false}}if(this.clickModeRotate){var d=this.navItems[b].navAngle-this.navItems[this.currentClick].navAngle;if(this.rotateRound){if(this.clockwise&&d<0){d=360+d}if(!this.clockwise&&d>0){d=d-360}}a.currentRotateAngle-=d;var c;if(this.animatetime!=null){c=this.animatetime}else{c=1500}if(this.animatetimeCalculated&&b!==this.currentClick){a.animatetime=c*(Math.abs(d)/360)}if(this.rotateRoundCount>0){if(this.clockwise){a.currentRotateAngle-=this.rotateRoundCount*360}else{a.currentRotateAngle+=this.rotateRoundCount*360}a.animatetime=c*(this.rotateRoundCount+1)}}}for(i=0;i<this.navItemCount;i++){a=this.navItems[i];a.setCurrentTransform(true,true);a.refreshNavItem()}this.currentClick=b;if(this.clickModeSpreadOff){this.currentPercent=this.maxPercent;this.spreadWheel()}else{if(b!==null&&!this.clickModeRotate){this.marker.setCurrentTransform(this.navItems[this.currentClick].navAngle)}else{this.marker.setCurrentTransform()}this.spreader.setCurrentTransform(true)}};wheelnav.prototype.spreadWheel=function(){this.animateUnlock(true);this.animateLocked=true;if(this.currentPercent===this.maxPercent||this.currentPercent===null){this.currentPercent=this.minPercent}else{this.currentPercent=this.maxPercent}for(i=0;i<this.navItemCount;i++){var a=this.navItems[i];a.hovered=false;a.setCurrentTransform(true,false)}this.marker.setCurrentTransform();this.spreader.setCurrentTransform();return this};wheelnav.prototype.animateUnlock=function(c,d){if(c!==undefined&&c===true){for(var b=0;b<this.navItemCount;b++){this.navItems[b].navSliceUnderAnimation=false;this.navItems[b].navTitleUnderAnimation=false;this.navItems[b].navTitlePathUnderAnimation=false;this.navItems[b].navLineUnderAnimation=false;this.navItems[b].navSlice.stop();this.navItems[b].navLine.stop();this.navItems[b].navTitle.stop();if(this.navItems[b].navTitlePath!==undefined){this.navItems[b].navTitlePath.stop()}}}else{for(var a=0;a<this.navItemCount;a++){if(this.navItems[a].navSliceUnderAnimation===true||this.navItems[a].navTitleUnderAnimation===true||this.navItems[a].navTitlePathUnderAnimation===true||this.navItems[a].navLineUnderAnimation===true){return}}this.animateLocked=false;if(this.animateFinishFunction!==null&&d!==undefined&&d===true){this.animateFinishFunction()}}};wheelnav.prototype.setTooltips=function(b){if(b!==undefined&&b!==null&&Array.isArray(b)&&b.length<=this.navItems.length){for(var a=0;a<b.length;a++){this.navItems[a].setTooltip(b[a])}}};wheelnav.prototype.getItemId=function(a){return"wheelnav-"+this.holderId+"-item-"+a};wheelnav.prototype.getSliceId=function(a){return"wheelnav-"+this.holderId+"-slice-"+a};wheelnav.prototype.getClickableSliceId=function(a){return"wheelnav-"+this.holderId+"-clickableslice-"+a};wheelnav.prototype.getTitleId=function(a){return"wheelnav-"+this.holderId+"-title-"+a};wheelnav.prototype.getTitlePathId=function(a){return"wheelnav-"+this.holderId+"-titlepath-"+a};wheelnav.prototype.getLineId=function(a){return"wheelnav-"+this.holderId+"-line-"+a};wheelnav.prototype.getSpreaderId=function(){return"wheelnav-"+this.holderId+"-spreader"};wheelnav.prototype.getSpreaderTitleId=function(){return"wheelnav-"+this.holderId+"-spreadertitle"};wheelnav.prototype.getMarkerId=function(){return"wheelnav-"+this.holderId+"-marker"};wheelnav.prototype.parseWheel=function(B){if(B!==undefined&&B!==null){var K=B.hasAttribute("data-wheelnav");if(K){var k=[];var z=[];var s=[];var m=false;var l=B.getAttribute("data-wheelnav-slicepath");if(l!==null){if(slicePath()[l]!==undefined){this.slicePathFunction=slicePath()[l]}}var C=B.getAttribute("data-wheelnav-colors");if(C!==null){this.colors=C.split(",")}var n=B.getAttribute("data-wheelnav-wheelradius");if(n!==null){this.wheelRadius=Number(n)}var E=B.getAttribute("data-wheelnav-navangle");if(E!==null){this.navAngle=Number(E)}var g=B.getAttribute("data-wheelnav-rotateoff");if(g!==null){this.clickModeRotate=false}var D=B.getAttribute("data-wheelnav-cssmode");if(D!==null){this.cssMode=true}var d=B.getAttribute("data-wheelnav-spreader");if(d!==null){this.spreaderEnable=true}var e=B.getAttribute("data-wheelnav-spreaderradius");if(e!==null){this.spreaderRadius=Number(e)}var O=B.getAttribute("data-wheelnav-spreaderpath");if(O!==null){if(markerPath()[O]!==undefined){this.spreaderPathFunction=spreaderPath()[O]}}var J=B.getAttribute("data-wheelnav-marker");if(J!==null){this.markerEnable=true}var F=B.getAttribute("data-wheelnav-markerpath");if(F!==null){if(markerPath()[F]!==undefined){this.markerPathFunction=markerPath()[F]}}var a=B.getAttribute("data-wheelnav-titlewidth");if(a!==null){this.titleWidth=Number(a)}var N=B.getAttribute("data-wheelnav-titleheight");if(N!==null){this.titleHeight=Number(N)}var c=B.getAttribute("data-wheelnav-titlecurved");if(c!==null){this.titleCurved=true}var H=B.getAttribute("data-wheelnav-titlecurvedclockwise");if(H!==null){this.titleCurvedClockwise=true}var o=B.getAttribute("data-wheelnav-titlecurvedbyrotateangle");if(o!==null){this.titleCurvedByRotateAngle=true}var u=B.getAttribute("data-wheelnav-keynav");if(u!==null){this.keynavigateEnabled=true}var A=B.getAttribute("data-wheelnav-keynavonlyfocus");if(A!==null){this.keynavigateOnlyFocus=true}var v=B.getAttribute("data-wheelnav-keynavdowncode");if(v!==null){this.keynavigateDownCode=Number(v)}var q=B.getAttribute("data-wheelnav-keynavdowncodealt");if(q!==null){this.keynavigateDownCodeAlt=Number(q)}var I=B.getAttribute("data-wheelnav-keynavupcode");if(I!==null){this.keynavigateUpCode=Number(I)}var t=B.getAttribute("data-wheelnav-keynavupcodealt");if(t!==null){this.keynavigateUpCodeAlt=Number(t)}var b=B.getAttribute("data-wheelnav-init");if(b!==null){m=true}for(var M=0;M<B.children.length;M++){var w=B.children[M].getAttribute("data-wheelnav-navitemtext");var h=B.children[M].getAttribute("data-wheelnav-navitemicon");var G=B.children[M].getAttribute("data-wheelnav-navitemimg");if(w!==null||h!==null||G!==null){if(w!==null){k.push(w)}else{if(h!==null){if(icon[h]!==undefined){k.push(icon[h])}else{k.push(h)}}else{if(G!==null){k.push("imgsrc:"+G)}else{continue}}}if(B.children[M].onmouseup!==undefined){s.push(B.children[M].onmouseup)}else{s.push(null)}var f=false;for(var L=0;L<B.children[M].children.length;L++){if(B.children[M].children[L].getAttribute("href")!==undefined){z.push(B.children[M].children[L].getAttribute("href"))}}if(!f){z.push(null)}}}if(k.length>0){this.initWheel(k);for(var M=0;M<s.length;M++){this.navItems[M].navigateFunction=s[M];this.navItems[M].navigateHref=z[M]}if(!m){this.createWheel()}}}var p=[];for(var M=0;M<B.children.length;M++){if(B.children[M].localName!=="svg"){p.push(B.children[M])}}for(var M=0;M<p.length;M++){B.removeChild(p[M])}}};wheelnavItem=function(a,c,b){this.wheelnav=a;this.wheelItemIndex=b;if(a.clockwise){this.itemIndex=b}else{this.itemIndex=-b}this.enabled=a.navItemsEnabled;this.selected=false;this.hovered=false;this.navItem=null;this.navSlice=null;this.navTitle=null;this.navLine=null;this.navClickableSlice=null;this.navSliceCurrentTransformString=null;this.navTitleCurrentTransformString=null;this.navLineCurrentTransformString=null;this.navSliceUnderAnimation=false;this.navTitleUnderAnimation=false;this.navTitlePathUnderAnimation=false;this.navLineUnderAnimation=false;this.currentRotateAngle=0;this.setTitle(c);this.tooltip=null;this.fillAttr="#CCC";this.titleFont=this.wheelnav.titleFont;this.navigateHref=null;this.navigateFunction=null;this.titleWidth=null;this.titleHeight=null;this.titleHoverWidth=null;this.titleHoverHeight=null;this.titleSelectedWidth=null;this.titleSelectedHeight=null;this.animateeffect=null;this.animatetime=null;this.sliceInitPathFunction=null;this.sliceClickablePathFunction=null;this.slicePathFunction=null;this.sliceSelectedPathFunction=null;this.sliceHoverPathFunction=null;this.sliceTransformFunction=null;this.sliceSelectedTransformFunction=null;this.sliceHoverTransformFunction=null;this.sliceInitTransformFunction=null;this.slicePathCustom=null;this.sliceClickablePathCustom=null;this.sliceSelectedPathCustom=null;this.sliceHoverPathCustom=null;this.sliceInitPathCustom=null;this.sliceTransformCustom=null;this.sliceSelectedTransformCustom=null;this.sliceHoverTransformCustom=null;this.sliceInitTransformCustom=null;this.initPercent=null;this.minPercent=null;this.maxPercent=null;this.hoverPercent=null;this.selectedPercent=null;this.clickablePercentMin=null;this.clickablePercentMax=null;this.titleSpreadScale=null;this.sliceAngle=null;this.titleRotateAngle=null;this.titleCurved=null;this.titleCurvedClockwise=null;this.titleCurvedByRotateAngle=null;this.styleNavItem();return this};wheelnavItem.prototype.createNavItem=function(){this.setWheelSettings(false);if(this.navigateHref!==null){this.navigateFunction=function(){window.location.href=this.navigateHref}}if(!this.wheelnav.cssMode){this.slicePathAttr.fill=this.fillAttr;this.sliceHoverAttr.fill=this.fillAttr;this.sliceSelectedAttr.fill=this.fillAttr}if(!this.enabled){if(!this.wheelnav.cssMode){this.slicePathAttr.cursor="default";this.sliceHoverAttr.cursor="default";this.titleAttr.cursor="default";this.titleHoverAttr.cursor="default";this.linePathAttr.cursor="default";this.lineHoverAttr.cursor="default"}this.sliceClickablePathAttr.cursor="default";this.sliceClickableHoverAttr.cursor="default"}var k=this.wheelItemIndex-1;var j=360/this.wheelnav.navItemCount;if(this.sliceAngle===null){this.sliceAngle=360/this.wheelnav.navItemCount}if(this.wheelnav.clockwise){if(this.wheelnav.navItemsContinuous){if(this.itemIndex===0){this.baseAngle=(this.itemIndex*this.sliceAngle)+((-this.sliceAngle/2)+this.wheelnav.navAngle)}else{this.baseAngle=this.wheelnav.navItems[k].baseAngle+this.wheelnav.navItems[k].sliceAngle}}else{if(this.wheelnav.navItemsCentered){this.baseAngle=(this.itemIndex*j)+((-this.sliceAngle/2)+this.wheelnav.navAngle)}else{this.baseAngle=(this.itemIndex*j)+((-j/2)+this.wheelnav.navAngle);this.currentRotateAngle+=((j/2)-(this.wheelnav.navItems[0].sliceAngle/2))}}}else{if(this.wheelnav.navItemsContinuous){if(this.itemIndex===0){this.baseAngle=(this.itemIndex*this.sliceAngle)+((-this.sliceAngle/2)+this.wheelnav.navAngle)}else{this.baseAngle=this.wheelnav.navItems[k].baseAngle-this.wheelnav.navItems[this.wheelItemIndex].sliceAngle}}else{if(this.wheelnav.navItemsCentered){this.baseAngle=(this.itemIndex*j)+((-this.sliceAngle/2)+this.wheelnav.navAngle)}else{this.baseAngle=(this.itemIndex*j)+((-j/2)+this.wheelnav.navAngle)+(j-this.sliceAngle);this.currentRotateAngle-=((j/2)-(this.wheelnav.navItems[0].sliceAngle/2))}}}this.navAngle=this.baseAngle+(this.sliceAngle/2);if(this.wheelnav.animatetimeCalculated){this.animatetime=this.wheelnav.animatetime/this.wheelnav.navItemCount}this.initPathsAndTransforms();var f=this.sliceInitPath;this.navSlice=this.wheelnav.raphael.path(f.slicePathString);this.navSlice.attr(this.slicePathAttr);this.navSlice.id=this.wheelnav.getSliceId(this.wheelItemIndex);this.navSlice.node.id=this.navSlice.id;this.navLine=this.wheelnav.raphael.path(f.linePathString);this.navLine.attr(this.linePathAttr);this.navLine.id=this.wheelnav.getLineId(this.wheelItemIndex);this.navLine.node.id=this.navLine.id;var h=this.initNavTitle;if(wheelnavTitle().isPathTitle(this.title)){this.navTitle=this.wheelnav.raphael.path(h.path)}else{if(wheelnavTitle().isImageTitle(this.title)){this.navTitle=this.wheelnav.raphael.image(h.src,f.titlePosX-(this.titleWidth/2),f.titlePosY-(this.titleHeight/2),this.titleWidth,this.titleHeight)}else{if(this.titleCurved){this.navTitle=this.wheelnav.raphael.text(f.titlePosX,f.titlePosY,".");if(h.title!==""){this.addCurvedTitle(h.title)}}else{this.navTitle=this.wheelnav.raphael.text(f.titlePosX,f.titlePosY,h.title)}}}this.navTitle.id=this.wheelnav.getTitleId(this.wheelItemIndex);this.navTitle.node.id=this.navTitle.id;this.navTitle.attr(this.titleAttr);if(this.titleCurved){var a=document.getElementById(this.navTitle.node.id);if(a!==null){var c=a.getElementsByTagName("tspan");if(c.length>0){c[0].setAttribute("fill","transparent");c[0].setAttribute("stroke","transparent")}}}this.navSliceCurrentTransformString="";if(this.initTransform.sliceTransformString!==""){this.navSliceCurrentTransformString+=this.initTransform.sliceTransformString}this.navLineCurrentTransformString="";if(this.initTransform.lineTransformString!==""){this.navLineCurrentTransformString+=this.initTransform.lineTransformString}this.navTitleCurrentTransformString="";this.navTitleCurrentTransformString+=this.getTitleRotateString(this.wheelnav.initTitleRotate);if(this.initTransform.titleTransformString!==""&&this.initTransform.titleTransformString!==undefined){this.navTitleCurrentTransformString+=this.initTransform.titleTransformString}if(this.wheelnav.currentPercent<0.05){this.navTitleCurrentTransformString+=",s0.05"}if(this.navTitleSizeTransform!==undefined){this.navTitleCurrentTransformString+=this.navTitleSizeTransform}this.navSlice.attr({transform:this.navSliceCurrentTransformString});this.navLine.attr({transform:this.navLineCurrentTransformString});this.navTitle.attr({transform:this.navTitleCurrentTransformString});this.navItem=this.wheelnav.raphael.set();if(this.sliceClickablePathFunction!==null){var g=this.getCurrentClickablePath();this.navClickableSlice=this.wheelnav.raphael.path(g.slicePathString).attr(this.sliceClickablePathAttr).toBack();this.navClickableSlice.id=this.wheelnav.getClickableSliceId(this.wheelItemIndex);this.navClickableSlice.node.id=this.navClickableSlice.id;this.navItem.push(this.navSlice,this.navLine,this.navTitle,this.navClickableSlice)}else{this.navItem.push(this.navSlice,this.navLine,this.navTitle)}this.setTooltip(this.tooltip);this.navItem.id=this.wheelnav.getItemId(this.wheelItemIndex);var d=this.wheelnav;var b=this;var e=this.wheelItemIndex;if(this.enabled){this.navItem.mouseup(function(){if(b.navigateFunction!==null){b.navigateFunction()}d.navigateWheel(e)});if(this.wheelnav.hoverEnable){this.navItem.mouseover(function(){if(b.hovered!==true){b.hoverEffect(e,true)}});this.navItem.mouseout(function(){b.hovered=false;b.hoverEffect(e,false)})}}this.setCurrentTransform(true,false)};wheelnavItem.prototype.addCurvedTitle=function(e){var a=[];if(this.sliceInitPath.titlePathString!==undefined&&this.sliceInitPath.titlePathString!==""){a=this.sliceInitPath.titlePathString}else{this.sliceHelper.titleRadius=this.wheelnav.wheelRadius*0.63;a=this.sliceHelper.getCurvedTitlePathString()}this.navTitle.node.id=this.wheelnav.getTitleId(this.wheelItemIndex);var c=this.wheelnav.getTitlePathId(this.wheelItemIndex);this.navTitlePath=this.wheelnav.raphael.path(a);this.navTitlePath.attr({fill:"transparent",stroke:"transparent"});this.navTitlePath.node.id=c;var d=document.getElementById(this.navTitle.node.id);var b=window.document.createElementNS("http://www.w3.org/2000/svg","textPath");b.setAttribute("id",c+"-text");b.setAttribute("href","#"+c);b.setAttribute("startOffset","50%");b.setAttribute("dominant-baseline","middle");b.setAttribute("alignment-baseline","middle");b.textContent=e;d.appendChild(b);if(!this.titleCurvedByRotateAngle){this.titleRotateAngle=-this.navAngle}};wheelnavItem.prototype.hoverEffect=function(b,a){if(this.wheelnav.animateLocked===false){if(a){if(!this.selected){this.hovered=true}}this.refreshNavItem();if(this.hoverPercent!==1||this.sliceHoverPathFunction!==null||this.sliceHoverTransformFunction!==null||this.titleHover!==this.title||this.titleHoverWidth!==this.titleWidth||this.titleHoverHeight!==this.titleHeight){this.setCurrentTransform(false,false)}this.wheelnav.marker.setCurrentTransform();this.wheelnav.spreader.setCurrentTransform(true)}};wheelnavItem.prototype.setCurrentTransform=function(h,b){if(!this.wheelnav.clickModeRotate||(!this.navSliceUnderAnimation&&!this.navTitleUnderAnimation&&!this.navTitlePathUnderAnimation&&!this.navLineUnderAnimation)){if(h!==undefined&&h===true){this.navSliceUnderAnimation=true;this.navTitleUnderAnimation=true;if(this.navTitlePath!==undefined){this.navTitlePathUnderAnimation=true}this.navLineUnderAnimation=true}this.navSliceCurrentTransformString="";if(this.wheelnav.clickModeRotate){this.navSliceCurrentTransformString+=this.getItemRotateString()}if(this.selected){if(this.selectTransform.sliceTransformString!==undefined){this.navSliceCurrentTransformString+=this.selectTransform.sliceTransformString}}else{if(this.hovered){if(this.hoverTransform.sliceTransformString!==undefined){this.navSliceCurrentTransformString+=this.hoverTransform.sliceTransformString}}}if(this.sliceTransform.sliceTransformString!==undefined){this.navSliceCurrentTransformString+=this.sliceTransform.sliceTransformString}this.navLineCurrentTransformString="";if(this.wheelnav.clickModeRotate){this.navLineCurrentTransformString+=this.getItemRotateString()}if(this.selected){if(this.selectTransform.lineTransformString!==undefined){this.navLineCurrentTransformString+=this.selectTransform.lineTransformString}}else{if(this.hovered){if(this.hoverTransform.lineTransformString!==undefined){this.navLineCurrentTransformString+=this.hoverTransform.lineTransformString}}}if(this.sliceTransform.lineTransformString!==undefined){this.navLineCurrentTransformString+=this.sliceTransform.lineTransformString}this.navTitleCurrentTransformString="";this.navTitleCurrentTransformString+=this.getTitleRotateString(true);if(this.selected){if(this.navTitleSizeSelectedTransform!==undefined){this.navTitleCurrentTransformString+=this.navTitleSizeSelectedTransform}if(this.selectTransform.titleTransformString===""||this.selectTransform.titleTransformString===undefined){this.navTitleCurrentTransformString+=",s1"}else{this.navTitleCurrentTransformString+=","+this.selectTransform.titleTransformString}if(this.wheelnav.currentPercent<0.05){this.navTitleCurrentTransformString+=",s0.05"}}else{if(this.hovered){if(this.navTitleSizeHoverTransform!==undefined){this.navTitleCurrentTransformString+=this.navTitleSizeHoverTransform}if(this.hoverTransform.titleTransformString===""||this.hoverTransform.titleTransformString===undefined){this.navTitleCurrentTransformString+=",s1"}else{this.navTitleCurrentTransformString+=","+this.hoverTransform.titleTransformString}}else{if(this.wheelnav.currentPercent<0.05){this.navTitleCurrentTransformString+=",s0.05"}else{if(this.titleSpreadScale){this.navTitleCurrentTransformString+=",s"+this.wheelnav.currentPercent}else{if(this.navTitleSizeTransform!==undefined){this.navTitleCurrentTransformString+=this.navTitleSizeTransform}if(this.sliceTransform.titleTransformString===""||this.sliceTransform.titleTransformString===undefined){this.navTitleCurrentTransformString+=",s1"}else{this.navTitleCurrentTransformString+=","+this.sliceTransform.titleTransformString}}}}}var f=this.getCurrentPath();var g={};g={path:f.slicePathString,transform:this.navSliceCurrentTransformString};var k={};if(this.sliceClickablePathFunction!==null){var m=this.getCurrentClickablePath();k={path:m.slicePathString,transform:this.navSliceCurrentTransformString}}var j={};j={path:f.linePathString,transform:this.navLineCurrentTransformString};var o=this.getCurrentTitle();var q={};var p=null;if(wheelnavTitle().isPathTitle(o.title)){q={path:o.path,transform:this.navTitleCurrentTransformString}}else{if(wheelnavTitle().isImageTitle(o.title)){q={x:o.x,y:o.y,width:o.width,height:o.height,transform:this.navTitleCurrentTransformString};this.navTitle.attr({src:o.src})}else{q={x:o.x,y:o.y,transform:this.navTitleCurrentTransformString};if(o.title!==null&&o.title!==""){if(!this.titleCurved){this.navTitle.attr({text:o.title})}else{if(f.titlePathString!==undefined&&f.titlePathString!==""){p={path:f.titlePathString}}}}}}var d=this;var e=this.wheelnav;this.animSlice=Raphael.animation(g,this.animatetime,this.animateeffect,function(){d.navSliceUnderAnimation=false;e.animateUnlock(false,b)});this.animLine=Raphael.animation(j,this.animatetime,this.animateeffect,function(){d.navLineUnderAnimation=false;e.animateUnlock(false,b)});this.animTitle=Raphael.animation(q,this.animatetime,this.animateeffect,function(){d.navTitleUnderAnimation=false;e.animateUnlock(false,b)});if(this.titleCurved&&this.navTitlePath!==undefined){this.animTitlePath=Raphael.animation(p,this.animatetime,this.animateeffect,function(){d.navTitlePathUnderAnimation=false;e.animateUnlock(false,b)})}if(this.navClickableSlice!==null){this.animClickableSlice=Raphael.animation(k,this.animatetime,this.animateeffect)}var l=this.wheelnav.animateRepeatCount;if(h!==undefined&&h===true){if(this.wheelItemIndex===this.wheelnav.navItemCount-1){for(i=0;i<this.wheelnav.navItemCount;i++){var a=this.wheelnav.navItems[i];a.navSlice.animate(a.animSlice.repeat(l))}for(i=0;i<this.wheelnav.navItemCount;i++){var n=this.wheelnav.navItems[i];n.navLine.animate(n.animLine.repeat(l))}for(i=0;i<this.wheelnav.navItemCount;i++){var s=this.wheelnav.navItems[i];s.navTitle.animate(s.animTitle.repeat(l));if(s.titleCurved&&s.navTitlePath!==undefined){s.navTitlePath.animate(s.animTitlePath.repeat(l))}}if(this.wheelnav.sliceClickablePathFunction!==null){for(i=0;i<this.wheelnav.navItemCount;i++){var c=this.wheelnav.navItems[i];if(c.navClickableSlice!==null){c.navClickableSlice.animate(c.animClickableSlice.repeat(l))}}}}}else{this.navSlice.animate(this.animSlice.repeat(l));this.navLine.animate(this.animLine.repeat(l));this.navTitle.animate(this.animTitle.repeat(l));if(this.titleCurved&&this.navTitlePath!==undefined){this.navTitlePath.animate(this.animTitlePath.repeat(l))}if(this.navClickableSlice!==null){this.navClickableSlice.animate(this.animClickableSlice.repeat(l))}}}};wheelnavItem.prototype.setTitle=function(a){if(a===undefined){this.title=null}else{this.title=a}this.titleHover=this.title;this.titleSelected=this.title};wheelnavItem.prototype.setTooltip=function(a){if(a!==null){this.navItem.attr({title:a})}};wheelnavItem.prototype.refreshNavItem=function(a){if(this.selected){this.navSlice.attr(this.sliceSelectedAttr);this.navLine.attr(this.lineSelectedAttr);this.navTitle.attr(this.titleSelectedAttr);if(this.navClickableSlice!==null){this.navClickableSlice.attr(this.sliceClickableSelectedAttr)}if(this.wheelnav.selectedToFront){this.navSlice.toFront();this.navLine.toFront();this.navTitle.toFront();if(this.navClickableSlice!==null){this.navClickableSlice.toFront()}}else{if(this.navClickableSlice!==null){this.navClickableSlice.toBack()}this.navTitle.toBack();this.navLine.toBack();this.navSlice.toBack()}}else{if(this.hovered){if(this.wheelnav.hoverEnable){this.navSlice.attr(this.sliceHoverAttr);this.navLine.attr(this.lineHoverAttr);this.navTitle.attr(this.titleHoverAttr);if(this.navClickableSlice!==null){this.navClickableSlice.attr(this.sliceClickableHoverAttr)}if(this.wheelnav.hoveredToFront){this.navSlice.toFront();this.navLine.toFront();this.navTitle.toFront()}if(this.navClickableSlice!==null){this.navClickableSlice.toFront()}}}else{this.navSlice.attr(this.slicePathAttr);this.navLine.attr(this.linePathAttr);this.navTitle.attr(this.titleAttr);if(this.navClickableSlice!==null){this.navClickableSlice.attr(this.sliceClickablePathAttr)}if(this.navClickableSlice!==null){this.navClickableSlice.toBack()}this.navTitle.toBack();this.navLine.toBack();this.navSlice.toBack()}}if(a!==undefined&&a===true){this.initPathsAndTransforms();this.setCurrentTransform(false,false)}};wheelnavItem.prototype.setWheelSettings=function(a){if(this.wheelnav.slicePathAttr!==null){this.slicePathAttr=JSON.parse(JSON.stringify(this.wheelnav.slicePathAttr))}if(this.wheelnav.sliceHoverAttr!==null){this.sliceHoverAttr=JSON.parse(JSON.stringify(this.wheelnav.sliceHoverAttr))}if(this.wheelnav.sliceSelectedAttr!==null){this.sliceSelectedAttr=JSON.parse(JSON.stringify(this.wheelnav.sliceSelectedAttr))}if(this.wheelnav.titleAttr!==null){this.titleAttr=JSON.parse(JSON.stringify(this.wheelnav.titleAttr))}if(this.wheelnav.titleHoverAttr!==null){this.titleHoverAttr=JSON.parse(JSON.stringify(this.wheelnav.titleHoverAttr))}if(this.wheelnav.titleSelectedAttr!==null){this.titleSelectedAttr=JSON.parse(JSON.stringify(this.wheelnav.titleSelectedAttr))}if(this.wheelnav.titleRotateAngle!==null&&this.titleRotateAngle===null){this.titleRotateAngle=this.wheelnav.titleRotateAngle}if(this.wheelnav.titleCurved!==null&&this.titleCurved===null){this.titleCurved=this.wheelnav.titleCurved}if(this.wheelnav.titleCurvedClockwise!==null&&this.titleCurvedClockwise===null){this.titleCurvedClockwise=this.wheelnav.titleCurvedClockwise}else{if(this.titleCurvedClockwise===null){this.titleCurvedClockwise=!this.wheelnav.clockwise}}if(this.wheelnav.titleCurvedByRotateAngle!==null&&this.titleCurvedByRotateAngle===null){this.titleCurvedByRotateAngle=this.wheelnav.titleCurvedByRotateAngle}if(this.wheelnav.titleWidth!==null&&this.titleWidth===null){this.titleWidth=this.wheelnav.titleWidth}if(this.wheelnav.titleHeight!==null&&this.titleHeight===null){this.titleHeight=this.wheelnav.titleHeight}if(this.titleWidth!==null&&this.titleHeight===null){this.titleHeight=this.titleWidth}if(this.titleWidth===null&&this.titleHeight!==null){this.titleWidth=this.titleHeight}if(wheelnavTitle().isImageTitle(this.title)){if(this.titleWidth===null){this.titleWidth=32}if(this.titleHeight===null){this.titleHeight=32}}if(this.wheelnav.titleHoverWidth!==null&&this.titleHoverWidth===null){this.titleHoverWidth=this.wheelnav.titleHoverWidth}if(this.wheelnav.titleHoverHeight!==null&&this.titleHoverHeight===null){this.titleHoverHeight=this.wheelnav.titleHoverHeight}if(this.titleHoverWidth!==null&&this.titleHoverHeight===null){this.titleHoverHeight=this.titleHoverWidth}if(this.titleHoverWidth===null&&this.titleHoverHeight!==null){this.titleHoverWidth=this.titleHoverHeight}if(this.wheelnav.titleSelectedWidth!==null&&this.titleSelectedWidth===null){this.titleSelectedWidth=this.wheelnav.titleSelectedWidth}if(this.wheelnav.titleSelectedHeight!==null&&this.titleSelectedHeight===null){this.titleSelectedHeight=this.wheelnav.titleSelectedHeight}if(this.titleSelectedWidth!==null&&this.titleSelectedHeight===null){this.titleSelectedHeight=this.titleSelectedWidth}if(this.titleSelectedWidth===null&&this.titleSelectedHeight!==null){this.titleSelectedWidth=this.titleSelectedHeight}if(this.titleHoverHeight===null){this.titleHoverHeight=this.titleHeight}if(this.titleHoverWidth===null){this.titleHoverWidth=this.titleWidth}if(this.titleSelectedHeight===null){this.titleSelectedHeight=this.titleHeight}if(this.titleSelectedWidth===null){this.titleSelectedWidth=this.titleWidth}if(this.wheelnav.linePathAttr!==null){this.linePathAttr=JSON.parse(JSON.stringify(this.wheelnav.linePathAttr))}if(this.wheelnav.lineHoverAttr!==null){this.lineHoverAttr=JSON.parse(JSON.stringify(this.wheelnav.lineHoverAttr))}if(this.wheelnav.lineSelectedAttr!==null){this.lineSelectedAttr=JSON.parse(JSON.stringify(this.wheelnav.lineSelectedAttr))}if(this.animateeffect===null||a){if(this.wheelnav.animateeffect!==null){this.animateeffect=this.wheelnav.animateeffect}else{this.animateeffect="bounce"}}if(this.animatetime===null||a){if(this.wheelnav.animatetime!==null){this.animatetime=this.wheelnav.animatetime}else{this.animatetime=1500}}if(this.title!==null){if(this.sliceInitPathFunction===null||a){this.sliceInitPathFunction=this.wheelnav.sliceInitPathFunction}if(this.sliceClickablePathFunction===null||a){this.sliceClickablePathFunction=this.wheelnav.sliceClickablePathFunction}if(this.slicePathFunction===null||a){this.slicePathFunction=this.wheelnav.slicePathFunction}if(this.sliceSelectedPathFunction===null||a){this.sliceSelectedPathFunction=this.wheelnav.sliceSelectedPathFunction}if(this.sliceHoverPathFunction===null||a){this.sliceHoverPathFunction=this.wheelnav.sliceHoverPathFunction}if(this.sliceTransformFunction===null||a){this.sliceTransformFunction=this.wheelnav.sliceTransformFunction}if(this.sliceSelectedTransformFunction===null||a){this.sliceSelectedTransformFunction=this.wheelnav.sliceSelectedTransformFunction}if(this.sliceHoverTransformFunction===null||a){this.sliceHoverTransformFunction=this.wheelnav.sliceHoverTransformFunction}if(this.sliceInitTransformFunction===null||a){this.sliceInitTransformFunction=this.wheelnav.sliceInitTransformFunction}}else{this.sliceInitPathFunction=slicePath().NullInitSlice;this.sliceClickablePathFunction=slicePath().NullSlice;this.slicePathFunction=slicePath().NullSlice;this.sliceSelectedPathFunction=null;this.sliceHoverPathFunction=null;this.sliceTransformFunction=null;this.sliceSelectedTransformFunction=null;this.sliceHoverTransformFunction=null;this.sliceInitTransformFunction=null}if(this.slicePathCustom===null||a){this.slicePathCustom=this.wheelnav.slicePathCustom}if(this.sliceClickablePathCustom===null||a){this.sliceClickablePathCustom=this.wheelnav.sliceClickablePathCustom}if(this.sliceSelectedPathCustom===null||a){this.sliceSelectedPathCustom=this.wheelnav.sliceSelectedPathCustom}if(this.sliceHoverPathCustom===null||a){this.sliceHoverPathCustom=this.wheelnav.sliceHoverPathCustom}if(this.sliceInitPathCustom===null||a){this.sliceInitPathCustom=this.wheelnav.sliceInitPathCustom}if(this.sliceTransformCustom===null||a){this.sliceTransformCustom=this.wheelnav.sliceTransformCustom}if(this.sliceSelectedTransformCustom===null||a){this.sliceSelectedTransformCustom=this.wheelnav.sliceSelectedTransformCustom}if(this.sliceHoverTransformCustom===null||a){this.sliceHoverTransformCustom=this.wheelnav.sliceHoverTransformCustom}if(this.sliceInitTransformCustom===null||a){this.sliceInitTransformCustom=this.wheelnav.sliceInitTransformCustom}if(this.initPercent===null||a){this.initPercent=this.wheelnav.initPercent}if(this.minPercent===null||a){this.minPercent=this.wheelnav.minPercent}if(this.maxPercent===null||a){this.maxPercent=this.wheelnav.maxPercent}if(this.hoverPercent===null||a){this.hoverPercent=this.wheelnav.hoverPercent}if(this.selectedPercent===null||a){this.selectedPercent=this.wheelnav.selectedPercent}if(this.clickablePercentMin===null||a){this.clickablePercentMin=this.wheelnav.clickablePercentMin}if(this.clickablePercentMax===null||a){this.clickablePercentMax=this.wheelnav.clickablePercentMax}if(this.titleSpreadScale===null||a){if(this.wheelnav.titleSpreadScale!==null){this.titleSpreadScale=this.wheelnav.titleSpreadScale}else{this.titleSpreadScale=false}}if(this.sliceAngle===null||a){if(this.wheelnav.sliceAngle!==null){this.sliceAngle=this.wheelnav.sliceAngle}}};wheelnavItem.prototype.initPathsAndTransforms=function(){this.sliceHelper=new pathHelper();this.sliceHelper.centerX=this.wheelnav.centerX;this.sliceHelper.centerY=this.wheelnav.centerY;this.sliceHelper.wheelRadius=this.wheelnav.wheelRadius;this.sliceHelper.startAngle=this.baseAngle;this.sliceHelper.sliceAngle=this.sliceAngle;this.sliceHelper.itemIndex=this.itemIndex;this.sliceHelper.titleCurvedClockwise=this.titleCurvedClockwise;this.slicePathMin=this.slicePathFunction(this.sliceHelper,this.minPercent,this.slicePathCustom);this.slicePathMax=this.slicePathFunction(this.sliceHelper,this.maxPercent,this.slicePathCustom);if(this.sliceSelectedPathFunction!==null){this.selectedSlicePathMin=this.sliceSelectedPathFunction(this.sliceHelper,this.selectedPercent*this.minPercent,this.sliceSelectedPathCustom)}else{this.selectedSlicePathMin=this.slicePathFunction(this.sliceHelper,this.selectedPercent*this.minPercent,this.sliceSelectedPathCustom)}if(this.sliceSelectedPathFunction!==null){this.selectedSlicePathMax=this.sliceSelectedPathFunction(this.sliceHelper,this.selectedPercent*this.maxPercent,this.sliceSelectedPathCustom)}else{this.selectedSlicePathMax=this.slicePathFunction(this.sliceHelper,this.selectedPercent*this.maxPercent,this.sliceSelectedPathCustom)}if(this.sliceHoverPathFunction!==null){this.hoverSlicePathMin=this.sliceHoverPathFunction(this.sliceHelper,this.hoverPercent*this.minPercent,this.sliceHoverPathCustom)}else{this.hoverSlicePathMin=this.slicePathFunction(this.sliceHelper,this.hoverPercent*this.minPercent,this.sliceHoverPathCustom)}if(this.sliceHoverPathFunction!==null){this.hoverSlicePathMax=this.sliceHoverPathFunction(this.sliceHelper,this.hoverPercent*this.maxPercent,this.sliceHoverPathCustom)}else{this.hoverSlicePathMax=this.slicePathFunction(this.sliceHelper,this.hoverPercent*this.maxPercent,this.sliceHoverPathCustom)}if(this.sliceClickablePathFunction!==null){this.clickableSlicePathMin=this.sliceClickablePathFunction(this.sliceHelper,this.clickablePercentMin,this.sliceClickablePathCustom);this.clickableSlicePathMax=this.sliceClickablePathFunction(this.sliceHelper,this.clickablePercentMax,this.sliceClickablePathCustom)}if(this.sliceInitPathFunction!==null){this.sliceInitPath=this.sliceInitPathFunction(this.sliceHelper,this.initPercent,this.sliceInitPathCustom)}else{if(this.wheelnav.currentPercent===this.wheelnav.maxPercent){this.sliceInitPath=this.slicePathFunction(this.sliceHelper,this.maxPercent,this.sliceInitPathCustom)}else{this.sliceInitPath=this.slicePathFunction(this.sliceHelper,this.minPercent,this.sliceInitPathCustom)}}if(this.sliceTransformFunction!==null){this.sliceTransform=this.sliceTransformFunction(this.wheelnav.centerX,this.wheelnav.centerY,this.wheelnav.wheelRadius,this.baseAngle,this.sliceAngle,this.titleRotateAngle,this.itemIndex,this.sliceTransformCustom)}else{this.sliceTransform=sliceTransform().NullTransform}if(this.sliceSelectedTransformFunction!==null){this.selectTransform=this.sliceSelectedTransformFunction(this.wheelnav.centerX,this.wheelnav.centerY,this.wheelnav.wheelRadius,this.baseAngle,this.sliceAngle,this.titleRotateAngle,this.itemIndex,this.sliceSelectedTransformCustom)}else{this.selectTransform=sliceTransform().NullTransform}if(this.sliceHoverTransformFunction!==null){this.hoverTransform=this.sliceHoverTransformFunction(this.wheelnav.centerX,this.wheelnav.centerY,this.wheelnav.wheelRadius,this.baseAngle,this.sliceAngle,this.titleRotateAngle,this.itemIndex,this.sliceHoverTransformCustom)}else{this.hoverTransform=sliceTransform().NullTransform}if(this.sliceInitTransformFunction!==null){this.initTransform=this.sliceInitTransformFunction(this.wheelnav.centerX,this.wheelnav.centerY,this.wheelnav.wheelRadius,this.baseAngle,this.sliceAngle,this.titleRotateAngle,this.itemIndex,this.sliceInitTransformCustom)}else{this.initTransform=sliceTransform().NullTransform}if(wheelnavTitle().isPathTitle(this.title)){initNavTitle=new wheelnavTitle(this.title,this.wheelnav.raphael.raphael);basicNavTitleMin=new wheelnavTitle(this.title,this.wheelnav.raphael.raphael);basicNavTitleMax=new wheelnavTitle(this.title,this.wheelnav.raphael.raphael);hoverNavTitleMin=new wheelnavTitle(this.titleHover,this.wheelnav.raphael.raphael);hoverNavTitleMax=new wheelnavTitle(this.titleHover,this.wheelnav.raphael.raphael);selectedNavTitleMin=new wheelnavTitle(this.titleSelected,this.wheelnav.raphael.raphael);selectedNavTitleMax=new wheelnavTitle(this.titleSelected,this.wheelnav.raphael.raphael);this.navTitleSizeTransform=basicNavTitleMax.getTitleSizeTransform(this.titleWidth,this.titleHeight);this.navTitleSizeHoverTransform=hoverNavTitleMax.getTitleSizeTransform(this.titleHoverWidth,this.titleHoverHeight);this.navTitleSizeSelectedTransform=selectedNavTitleMax.getTitleSizeTransform(this.titleSelectedWidth,this.titleSelectedHeight)}else{initNavTitle=new wheelnavTitle(this.title);basicNavTitleMin=new wheelnavTitle(this.title);basicNavTitleMax=new wheelnavTitle(this.title);hoverNavTitleMin=new wheelnavTitle(this.titleHover);hoverNavTitleMax=new wheelnavTitle(this.titleHover);selectedNavTitleMin=new wheelnavTitle(this.titleSelected);selectedNavTitleMax=new wheelnavTitle(this.titleSelected)}this.initNavTitle=initNavTitle.getTitlePercentAttr(this.sliceInitPath.titlePosX,this.sliceInitPath.titlePosY,this.titleWidth,this.titleHeight);this.basicNavTitleMin=basicNavTitleMin.getTitlePercentAttr(this.slicePathMin.titlePosX,this.slicePathMin.titlePosY,this.titleWidth,this.titleHeight);this.basicNavTitleMax=basicNavTitleMax.getTitlePercentAttr(this.slicePathMax.titlePosX,this.slicePathMax.titlePosY,this.titleWidth,this.titleHeight);this.hoverNavTitleMin=hoverNavTitleMin.getTitlePercentAttr(this.hoverSlicePathMin.titlePosX,this.hoverSlicePathMin.titlePosY,this.titleHoverWidth,this.titleHoverHeight);this.hoverNavTitleMax=hoverNavTitleMax.getTitlePercentAttr(this.hoverSlicePathMax.titlePosX,this.hoverSlicePathMax.titlePosY,this.titleHoverWidth,this.titleHoverHeight);this.selectedNavTitleMin=selectedNavTitleMin.getTitlePercentAttr(this.selectedSlicePathMin.titlePosX,this.selectedSlicePathMin.titlePosY,this.titleSelectedWidth,this.titleSelectedHeight);this.selectedNavTitleMax=selectedNavTitleMax.getTitlePercentAttr(this.selectedSlicePathMax.titlePosX,this.selectedSlicePathMax.titlePosY,this.titleSelectedWidth,this.titleSelectedHeight)};wheelnavItem.prototype.getCurrentPath=function(){var a;if(this.wheelnav.currentPercent===this.wheelnav.maxPercent){if(this.selected){a=this.selectedSlicePathMax}else{if(this.hovered){a=this.hoverSlicePathMax}else{a=this.slicePathMax}}}else{if(this.selected){a=this.selectedSlicePathMin}else{if(this.hovered){a=this.hoverSlicePathMin}else{a=this.slicePathMin}}}return a};wheelnavItem.prototype.getCurrentClickablePath=function(){var a;if(this.wheelnav.currentPercent===this.wheelnav.maxPercent){a=this.clickableSlicePathMax}else{a=this.clickableSlicePathMin}return a};wheelnavItem.prototype.getCurrentTitle=function(){var a;if(this.wheelnav.currentPercent===this.wheelnav.maxPercent){if(this.selected){a=this.selectedNavTitleMax}else{if(this.hovered){a=this.hoverNavTitleMax}else{a=this.basicNavTitleMax}}}else{if(this.selected){a=this.selectedNavTitleMin}else{if(this.hovered){a=this.hoverNavTitleMin}else{a=this.basicNavTitleMin}}}return a};wheelnavItem.prototype.getItemRotateString=function(){return"r,"+(this.currentRotateAngle).toString()+","+this.wheelnav.centerX+","+this.wheelnav.centerY};wheelnavItem.prototype.getTitleRotateString=function(b){var a="";a+=this.getItemRotateString();if(this.titleRotateAngle!==null&&b){a+=",r,"+(this.navAngle+this.titleRotateAngle).toString()}else{a+=",r,"+(-this.currentRotateAngle).toString()}return a};wheelnavTitle=function(c,a){this.title=c;if(c!==null){if(a!==undefined){this.relativePath=a.pathToRelative(c);var b=a.pathBBox(this.relativePath);this.centerX=b.cx;this.centerY=b.cy;this.width=b.width;this.height=b.height;this.startX=this.relativePath[0][1];this.startY=this.relativePath[0][2]}this.title=c}else{this.title=""}this.isPathTitle=function(d){if(d!==null&&(d.substr(0,1)==="m"||d.substr(0,1)==="M")&&(d.substr(d.length-1,1)==="z"||d.substr(d.length-1,1)==="Z")&&(d.indexOf(",")>-1||d.indexOf(" ")>-1)){return true}else{return false}};this.isImageTitle=function(d){if(d===undefined){d=this.title}if(d!==null&&d.substr(0,7)==="imgsrc:"){return true}else{return false}};return this};wheelnavTitle.prototype.getTitlePercentAttr=function(c,b,d,g){var a={};if(this.relativePath!==undefined){var f=c+(this.startX-this.centerX);var e=b+(this.startY-this.centerY);this.relativePath[0][1]=f;this.relativePath[0][2]=e;a={path:this.relativePath,title:this.title}}else{if(this.isImageTitle()){a={x:c-(d/2),y:b-(g/2),width:d,height:g,title:this.title,src:this.title.substr(7,this.title.length)}}else{a={x:c,y:b,title:this.title}}}return a};wheelnavTitle.prototype.getTitleSizeTransform=function(b,c){var a="";if(b!==null&&c!==null){a="s";if(this.height>this.width){a+=(b/this.height).toString()+",";a+=(c/this.height).toString()}else{a+=(b/this.width).toString()+",";a+=(c/this.width).toString()}}return a};wheelnav.prototype.styleWheel=function(){if(!this.cssMode){if(this.spreaderPathInAttr===undefined||this.spreaderPathInAttr===null){this.spreaderPathInAttr={fill:"#f6bc53",stroke:"#f6bc53","stroke-width":2,cursor:"pointer"}}if(this.spreaderPathOutAttr===undefined||this.spreaderPathOutAttr===null){this.spreaderPathOutAttr={fill:"#f6bc53",stroke:"#f6bc53","stroke-width":2,cursor:"pointer"}}if(this.spreaderTitleInAttr===undefined||this.spreaderTitleInAttr===null){this.spreaderTitleInAttr={fill:"#e98b07",stroke:"#f6bc53",cursor:"pointer"}}if(this.spreaderTitleOutAttr===undefined||this.spreaderTitleOutAttr===null){this.spreaderTitleOutAttr={fill:"#e98b07",stroke:"#f6bc53",cursor:"pointer"}}if(this.markerAttr===undefined||this.markerAttr===null){this.markerAttr={stroke:"#f6bc53","stroke-width":3}}}else{this.spreaderPathInAttr={"class":this.getSpreaderCssClass("in")};this.spreaderPathOutAttr={"class":this.getSpreaderCssClass("out")};this.spreaderTitleInAttr={"class":this.getSpreaderTitleCssClass("in")};this.spreaderTitleOutAttr={"class":this.getSpreaderTitleCssClass("out")};this.markerAttr={"class":this.getMarkerCssClass()}}};wheelnavItem.prototype.styleNavItem=function(){if(!this.wheelnav.cssMode){this.slicePathAttr={stroke:"#333","stroke-width":0,cursor:"pointer","fill-opacity":1};this.sliceHoverAttr={stroke:"#222","stroke-width":0,cursor:"pointer","fill-opacity":0.77};this.sliceSelectedAttr={stroke:"#111","stroke-width":0,cursor:"default","fill-opacity":1};this.titleAttr={font:this.titleFont,fill:"#333",stroke:"none",cursor:"pointer"};this.titleHoverAttr={font:this.titleFont,fill:"#222",cursor:"pointer",stroke:"none"};this.titleSelectedAttr={font:this.titleFont,fill:"#fff",cursor:"default"};this.linePathAttr={stroke:"#444","stroke-width":1,cursor:"pointer"};this.lineHoverAttr={stroke:"#222","stroke-width":2,cursor:"pointer"};this.lineSelectedAttr={stroke:"#444","stroke-width":1,cursor:"default"}}else{this.slicePathAttr={"class":this.wheelnav.getSliceCssClass(this.wheelItemIndex,"basic")};this.sliceHoverAttr={"class":this.wheelnav.getSliceCssClass(this.wheelItemIndex,"hover")};this.sliceSelectedAttr={"class":this.wheelnav.getSliceCssClass(this.wheelItemIndex,"selected")};this.titleAttr={"class":this.wheelnav.getTitleCssClass(this.wheelItemIndex,"basic")};this.titleHoverAttr={"class":this.wheelnav.getTitleCssClass(this.wheelItemIndex,"hover")};this.titleSelectedAttr={"class":this.wheelnav.getTitleCssClass(this.wheelItemIndex,"selected")};this.linePathAttr={"class":this.wheelnav.getLineCssClass(this.wheelItemIndex,"basic")};this.lineHoverAttr={"class":this.wheelnav.getLineCssClass(this.wheelItemIndex,"hover")};this.lineSelectedAttr={"class":this.wheelnav.getLineCssClass(this.wheelItemIndex,"selected")}}this.sliceClickablePathAttr={fill:"#FFF",stroke:"#FFF","stroke-width":0,cursor:"pointer","fill-opacity":0.01};this.sliceClickableHoverAttr={stroke:"#FFF","stroke-width":0,cursor:"pointer"};this.sliceClickableSelectedAttr={stroke:"#FFF","stroke-width":0,cursor:"default"}};wheelnav.prototype.getSliceCssClass=function(b,a){return"wheelnav-"+this.holderId+"-slice-"+a+"-"+b};wheelnav.prototype.getTitleCssClass=function(b,a){return"wheelnav-"+this.holderId+"-title-"+a+"-"+b};wheelnav.prototype.getLineCssClass=function(b,a){return"wheelnav-"+this.holderId+"-line-"+a+"-"+b};wheelnav.prototype.getSpreaderCssClass=function(a){return"wheelnav-"+this.holderId+"-spreader-"+a};wheelnav.prototype.getSpreaderTitleCssClass=function(a){return"wheelnav-"+this.holderId+"-spreadertitle-"+a};wheelnav.prototype.getMarkerCssClass=function(){return"wheelnav-"+this.holderId+"-marker"};var pathHelper=function(){this.sliceRadius=0;this.startAngle=0;this.middleAngle=0;this.endAngle=0;this.sliceAngle=0;this.startTheta=0;this.middleTheta=0;this.endTheta=0;this.titlePosX=0;this.titlePosY=0;this.titleRadius=0;this.titleTheta=0;this.titleAngle=0;this.custom=null;this.centerX=0;this.centerY=0;this.wheelRadius=0;this.itemIndex=0;this.navItemCount=0;this.navAngle=0;this.titleCurvedClockwise=false;this.setBaseValue=function(a,b){if(b===null){b=new slicePathCustomization()}else{this.custom=b}this.sliceRadius=this.wheelRadius*a*0.9;this.middleAngle=this.startAngle+this.sliceAngle/2;this.endAngle=this.startAngle+this.sliceAngle;this.startTheta=this.getTheta(this.startAngle);this.middleTheta=this.getTheta(this.middleAngle);this.endTheta=this.getTheta(this.endAngle);if(b!==null){if(b.titleRadiusPercent!==null){this.titleRadius=this.sliceRadius*b.titleRadiusPercent}if(b.titleSliceAnglePercent!==null){this.titleTheta=this.getTheta(this.startAngle+this.sliceAngle*b.titleSliceAnglePercent);this.titleAngle=this.startAngle+this.sliceAngle*b.titleSliceAnglePercent}}else{this.titleRadius=this.sliceRadius*0.5;this.titleTheta=this.middleTheta;this.titleAngle=this.middleAngle}this.setTitlePos()};this.setTitlePos=function(){this.titlePosX=this.titleRadius*Math.cos(this.titleTheta)+this.centerX;this.titlePosY=this.titleRadius*Math.sin(this.titleTheta)+this.centerY};this.getX=function(b,a){return a*Math.cos(this.getTheta(b))+this.centerX};this.getY=function(b,a){return a*Math.sin(this.getTheta(b))+this.centerY};this.MoveTo=function(b,a){return["M",this.getX(b,a),this.getY(b,a)]};this.MoveToXY=function(b,a){return["M",b,a]};this.MoveToCenter=function(){return["M",this.centerX,this.centerY]};this.LineTo=function(d,c,a,b){if(a===undefined){a=d}if(b===undefined){b=c}return["L",this.getX(d,c),this.getY(a,b)]};this.LineToXY=function(b,a){return["L",b,a]};this.ArcTo=function(a,c,b){return["A",a,a,0,0,1,this.getX(c,b),this.getY(c,b)]};this.ArcToXY=function(a,c,b){return["A",a,a,0,0,1,c,b]};this.ArcBackTo=function(a,c,b){return["A",a,a,0,0,0,this.getX(c,b),this.getY(c,b)]};this.ArcBackToXY=function(a,c,b){return["A",a,a,0,0,0,c,b]};this.CubicBezierTo=function(f,e,d,b,c,a){return["C",this.getX(f,e),this.getY(f,e),this.getX(d,b),this.getY(d,b),this.getX(c,a),this.getY(c,a)]};this.CubicBezierToXY=function(c,a,f,e,d,b){return["C",c,a,f,e,d,b]};this.StartSpreader=function(a,c,b){if(this.endAngle-this.startAngle===360){a.push(this.MoveTo(c,b))}else{a.push(this.MoveToCenter());a.push(this.LineTo(c,b))}};this.getCurvedTitlePathString=function(){var c=this.titleAngle-(this.sliceAngle/2);var b=this.titleAngle+(this.sliceAngle/2);var a=[];if(this.titleCurvedClockwise){a.push(this.MoveTo(c,this.titleRadius));a.push(this.ArcTo(this.titleRadius,b,this.titleRadius))}else{a.push(this.MoveTo(b,this.titleRadius));a.push(this.ArcBackTo(this.titleRadius,c,this.titleRadius))}return a};this.Close=function(){return["z"]};this.getTheta=function(a){return(a%360)*Math.PI/180};this.radians=function(a){return a*Math.PI/180};this.degrees=function(a){return a*180/Math.PI};return this};var slicePathCustomization=function(){this.titleRadiusPercent=0.5;this.titleSliceAnglePercent=0.5;return this};var spreaderPathCustomization=function(){this.titleRadiusPercent=0;this.titleSliceAnglePercent=0.5;this.spreaderPercent=1;return this};var markerPathCustomization=function(){this.titleRadiusPercent=1;this.titleSliceAnglePercent=0.5;this.markerPercent=1.05;return this};slicePath=function(){this.NullSlice=function(b,a,c){b.setBaseValue(a,c);titlePathString=b.getCurvedTitlePathString();return{slicePathString:"",linePathString:"",titlePosX:b.titlePosX,titlePosY:b.titlePosY,titlePathString:titlePathString}};this.NullInitSlice=function(b,a,c){b.setBaseValue(a,c);slicePathString=[b.MoveToCenter(),b.Close()];titlePathString=b.getCurvedTitlePathString();return{slicePathString:slicePathString,linePathString:slicePathString,titlePosX:b.centerX,titlePosY:b.centerY,titlePathString:titlePathString}};this.PieSliceCustomization=function(){var a=new slicePathCustomization();a.titleRadiusPercent=0.6;a.arcBaseRadiusPercent=1;a.arcRadiusPercent=1;a.startRadiusPercent=0;return a};this.PieSlice=function(c,b,d){if(d===null){d=PieSliceCustomization()}c.setBaseValue(b,d);var e=c.sliceRadius*d.arcBaseRadiusPercent;var a=c.sliceRadius*d.arcRadiusPercent;slicePathString=[];slicePathString.push(c.MoveTo(c.middleAngle,d.startRadiusPercent*c.sliceRadius));slicePathString.push(c.LineTo(c.startAngle,e));if(c.sliceAngle>180){slicePathString.push(c.ArcTo(a,c.middleAngle,e))}slicePathString.push(c.ArcTo(a,c.endAngle,e));slicePathString.push(c.Close());titlePathString=c.getCurvedTitlePathString();return{slicePathString:slicePathString,linePathString:"",titlePosX:c.titlePosX,titlePosY:c.titlePosY,titlePathString:titlePathString}};this.FlowerSlice=function(b,a,c){if(c===null){c=PieSliceCustomization();c.titleRadiusPercent=0.5;c.arcBaseRadiusPercent=0.65;c.arcRadiusPercent=0.14}var d=PieSlice(b,a,c);return{slicePathString:d.slicePathString,linePathString:"",titlePosX:d.titlePosX,titlePosY:d.titlePosY,titlePathString:d.titlePathString}};this.PieArrowSliceCustomization=function(){var a=new slicePathCustomization();a.titleRadiusPercent=0.6;a.arrowRadiusPercent=1.1;return a};this.PieArrowSlice=function(c,b,d){if(d===null){d=PieArrowSliceCustomization()}c.setBaseValue(b,d);r=c.sliceRadius;arrowAngleStart=c.startAngle+c.sliceAngle*0.45;arrowAngleEnd=c.startAngle+c.sliceAngle*0.55;var a=r*d.arrowRadiusPercent;slicePathString=[c.MoveToCenter(),c.LineTo(c.startAngle,r),c.ArcTo(r,arrowAngleStart,r),c.LineTo(c.middleAngle,a),c.LineTo(arrowAngleEnd,r),c.ArcTo(r,c.endAngle,r),c.Close()];titlePathString=c.getCurvedTitlePathString();return{slicePathString:slicePathString,linePathString:"",titlePosX:c.titlePosX,titlePosY:c.titlePosY,titlePathString:titlePathString}};this.PieArrowBasePieSlice=function(b,a,c){if(c===null){c=PieArrowSliceCustomization()}c.arrowRadiusPercent=1;var d=PieArrowSlice(b,a,c);return{slicePathString:d.slicePathString,linePathString:"",titlePosX:d.titlePosX,titlePosY:d.titlePosY,titlePathString:d.titlePathString}};this.DonutSliceCustomization=function(){var a=new slicePathCustomization();a.minRadiusPercent=0.37;a.maxRadiusPercent=0.9;return a};this.DonutSlice=function(b,a,c){if(c===null){c=DonutSliceCustomization()}maxRadius=b.wheelRadius*a*c.maxRadiusPercent;minRadius=b.wheelRadius*a*c.minRadiusPercent;b.setBaseValue(a,c);b.titleRadius=(maxRadius+minRadius)/2;b.setTitlePos();slicePathString=[b.MoveTo(b.startAngle,minRadius),b.LineTo(b.startAngle,maxRadius),b.ArcTo(maxRadius,b.middleAngle,maxRadius),b.ArcTo(maxRadius,b.endAngle,maxRadius),b.LineTo(b.endAngle,minRadius),b.ArcBackTo(minRadius,b.middleAngle,minRadius),b.ArcBackTo(minRadius,b.startAngle,minRadius),b.Close()];titlePathString=b.getCurvedTitlePathString();return{slicePathString:slicePathString,linePathString:"",titlePosX:b.titlePosX,titlePosY:b.titlePosY,titlePathString:titlePathString}};this.CogSliceCustomization=function(){var a=new slicePathCustomization();a.titleRadiusPercent=0.55;a.isBasePieSlice=false;return a};this.CogSlice=function(b,a,c){if(c===null){c=CogSliceCustomization()}b.setBaseValue(a,c);r=b.sliceRadius;rbase=b.wheelRadius*a*0.83;percentAngle0625=b.startAngle+b.sliceAngle*0.0625;percentAngle1250=b.startAngle+b.sliceAngle*0.125;percentAngle1875=b.startAngle+b.sliceAngle*0.1875;percentAngle2500=b.startAngle+b.sliceAngle*0.25;percentAngle3125=b.startAngle+b.sliceAngle*0.3125;percentAngle3750=b.startAngle+b.sliceAngle*0.375;percentAngle4375=b.startAngle+b.sliceAngle*0.4375;percentAngle5000=b.startAngle+b.sliceAngle*0.5;percentAngle5625=b.startAngle+b.sliceAngle*0.5625;percentAngle6250=b.startAngle+b.sliceAngle*0.625;percentAngle6875=b.startAngle+b.sliceAngle*0.6875;percentAngle7500=b.startAngle+b.sliceAngle*0.75;percentAngle8125=b.startAngle+b.sliceAngle*0.8125;percentAngle8750=b.startAngle+b.sliceAngle*0.875;percentAngle9375=b.startAngle+b.sliceAngle*0.9375;percentAngle9687=b.startAngle+b.sliceAngle*0.96875;if(c.isBasePieSlice){r=rbase;slicePathString=[b.MoveToCenter(),b.LineTo(b.startAngle,r),b.ArcTo(r,percentAngle0625,r),b.ArcTo(r,percentAngle1250,r),b.ArcTo(r,percentAngle1875,r),b.ArcTo(r,percentAngle2500,r),b.ArcTo(r,percentAngle3125,r),b.ArcTo(r,percentAngle3750,r),b.ArcTo(r,percentAngle4375,r),b.ArcTo(r,percentAngle5000,r),b.ArcTo(r,percentAngle5625,r),b.ArcTo(r,percentAngle6250,r),b.ArcTo(r,percentAngle6875,r),b.ArcTo(r,percentAngle7500,r),b.ArcTo(r,percentAngle8125,r),b.ArcTo(r,percentAngle8750,r),b.ArcTo(r,percentAngle9375,r),b.ArcTo(r,percentAngle9687,r),b.ArcTo(r,b.endAngle,r),b.Close()]}else{slicePathString=[b.MoveToCenter(),b.LineTo(b.startAngle,r),b.ArcTo(r,percentAngle0625,r),b.LineTo(percentAngle0625,rbase),b.ArcTo(rbase,percentAngle1875,rbase),b.LineTo(percentAngle1875,r),b.ArcTo(r,percentAngle3125,r),b.LineTo(percentAngle3125,rbase),b.ArcTo(rbase,percentAngle4375,rbase),b.LineTo(percentAngle4375,r),b.ArcTo(r,percentAngle5625,r),b.LineTo(percentAngle5625,rbase),b.ArcTo(rbase,percentAngle6875,rbase),b.LineTo(percentAngle6875,r),b.ArcTo(r,percentAngle8125,r),b.LineTo(percentAngle8125,rbase),b.ArcTo(rbase,percentAngle9375,rbase),b.LineTo(percentAngle9375,r),b.ArcTo(r,b.endAngle,r),b.Close()]}titlePathString=b.getCurvedTitlePathString();return{slicePathString:slicePathString,linePathString:"",titlePosX:b.titlePosX,titlePosY:b.titlePosY,titlePathString:titlePathString}};this.CogBasePieSlice=function(b,a,c){if(c===null){c=CogSliceCustomization()}c.isBasePieSlice=true;var d=CogSlice(b,a,c);return{slicePathString:d.slicePathString,linePathString:"",titlePosX:d.titlePosX,titlePosY:d.titlePosY,titlePathString:d.titlePathString}};this.StarSliceCustomization=function(){var a=new slicePathCustomization();a.titleRadiusPercent=0.44;a.minRadiusPercent=0.5;a.isBasePieSlice=false;return a};this.StarSlice=function(b,a,c){if(c===null){c=StarSliceCustomization()}b.setBaseValue(a,c);r=b.wheelRadius*a;rbase=r*c.minRadiusPercent;if(c.isBasePieSlice){r=b.sliceRadius;slicePathString=[b.MoveToCenter(),b.LineTo(b.startAngle,r),b.ArcTo(r,b.middleAngle,r),b.ArcTo(r,b.endAngle,r),b.Close()]}else{slicePathString=[b.MoveToCenter(),b.LineTo(b.startAngle,rbase),b.LineTo(b.middleAngle,r),b.LineTo(b.endAngle,rbase),b.Close()]}titlePathString=b.getCurvedTitlePathString();return{slicePathString:slicePathString,linePathString:"",titlePosX:b.titlePosX,titlePosY:b.titlePosY,titlePathString:titlePathString}};this.StarBasePieSlice=function(b,a,c){if(c===null){c=StarSliceCustomization()}c.titleRadiusPercent=0.6;c.isBasePieSlice=true;var d=StarSlice(b,a,c);return{slicePathString:d.slicePathString,linePathString:"",titlePosX:d.titlePosX,titlePosY:d.titlePosY,titlePathString:d.titlePathString}};this.MenuSliceCustomization=function(){var a=new slicePathCustomization();a.menuRadius=35;a.titleRadiusPercent=0.63;a.isSelectedLine=false;a.lineBaseRadiusPercent=0;return a};this.MenuSlice=function(c,b,d){if(d===null){d=MenuSliceCustomization()}c.setBaseValue(b,d);x=c.centerX;y=c.centerY;var a=c.wheelRadius*b;c.titleRadius=a*d.titleRadiusPercent;c.setTitlePos();var e=b*d.menuRadius;if(b<=0.05){e=10}middleTheta=c.middleTheta;slicePathString=[["M",c.titlePosX-(e*Math.cos(middleTheta)),c.titlePosY-(e*Math.sin(middleTheta))],["A",e,e,0,0,1,c.titlePosX+(e*Math.cos(middleTheta)),c.titlePosY+(e*Math.sin(middleTheta))],["A",e,e,0,0,1,c.titlePosX-(e*Math.cos(middleTheta)),c.titlePosY-(e*Math.sin(middleTheta))],["z"]];if(b<=0.05){linePathString=[["M",x,y],["A",1,1,0,0,1,x+1,y+1]]}else{if(!d.isSelectedLine){linePathString=[c.MoveTo(c.middleAngle,d.lineBaseRadiusPercent*a),c.ArcTo(a/2,c.middleAngle,c.titleRadius-e)]}else{linePathString=[c.MoveTo(c.middleAngle,d.lineBaseRadiusPercent*a),c.ArcTo(a/3,c.middleAngle,c.titleRadius-e)]}}titlePathString=c.getCurvedTitlePathString();return{slicePathString:slicePathString,linePathString:linePathString,titlePosX:c.titlePosX,titlePosY:c.titlePosY,titlePathString:titlePathString}};this.MenuSliceSelectedLine=function(b,a,c){if(c===null){c=MenuSliceCustomization()}c.isSelectedLine=true;var d=MenuSlice(b,a,c);return{slicePathString:d.slicePathString,linePathString:d.linePathString,titlePosX:d.titlePosX,titlePosY:d.titlePosY,titlePathString:d.titlePathString}};this.MenuSliceWithoutLine=function(b,a,c){var d=MenuSlice(b,a,c);return{slicePathString:d.slicePathString,linePathString:"",titlePosX:d.titlePosX,titlePosY:d.titlePosY,titlePathString:d.titlePathString}};this.LineSlice=function(b,a,c){b.setBaseValue(a,c);r=b.sliceRadius;if(b.sliceAngle>60&&b.sliceAngle<180){b.titleRadius=r*((180/b.sliceAngle)/5);b.setTitlePos()}else{b.titleRadius=r*0.55;b.setTitlePos()}if(b.sliceAngle<180){slicePathString=[b.MoveToCenter(),b.LineTo(b.startAngle,r),b.LineTo(b.endAngle,r),b.Close()]}else{if(b.startAngle===180||b.startAngle===0||b.startAngle===-180||b.startAngle===360){slicePathString=[b.MoveToCenter(),b.LineTo(b.startAngle,r),b.LineTo(b.startAngle,r,b.middleAngle,r),b.LineTo(b.endAngle,r,b.middleAngle,r),b.LineTo(b.endAngle,r),b.Close()]}else{slicePathString=[b.MoveToCenter(),b.LineTo(b.startAngle,r),b.LineTo(b.middleAngle,r,b.startAngle,r),b.LineTo(b.middleAngle,r,b.endAngle,r),b.LineTo(b.endAngle,r),b.Close()]}}titlePathString=b.getCurvedTitlePathString();return{slicePathString:slicePathString,linePathString:"",titlePosX:b.titlePosX,titlePosY:b.titlePosY,titlePathString:titlePathString}};this.EyeSliceCustomization=function(){var a=new slicePathCustomization();a.titleRadiusPercent=0.68;return a};this.EyeSlice=function(b,a,c){if(c===null){c=EyeSliceCustomization()}b.setBaseValue(a,c);r=b.wheelRadius*a*0.7;if(a===0){r=0.01}startAngle=b.startAngle;endAngle=b.endAngle;if(b.sliceAngle===180){startAngle=b.startAngle+b.sliceAngle/4;endAngle=b.startAngle+b.sliceAngle-b.sliceAngle/4}slicePathString=[b.MoveTo(endAngle,r),b.ArcTo(r,startAngle,r),b.ArcTo(r,endAngle,r),b.Close()];titlePathString=b.getCurvedTitlePathString();return{slicePathString:slicePathString,linePathString:"",titlePosX:b.titlePosX,titlePosY:b.titlePosY,titlePathString:titlePathString}};this.WheelSlice=function(c,b,d){c.setBaseValue(b,d);x=c.centerX;y=c.centerY;r=c.sliceRadius;startTheta=c.startTheta;middleTheta=c.middleTheta;endTheta=c.endTheta;var e;var a;if(c.sliceAngle<120){c.titleRadius=r*0.57;e=0.9;middleRadiusPercent=0.87;a=0.87}else{if(c.sliceAngle<180){c.titleRadius=r*0.52;e=0.91;middleRadiusPercent=0.87;a=0.87}else{c.titleRadius=r*0.45;e=0.873;middleRadiusPercent=0.87;a=0.94}}slicePathString=[c.MoveTo(c.middleAngle,r*0.07),["L",(r*0.07)*Math.cos(middleTheta)+(r*a)*Math.cos(startTheta)+x,(r*0.07)*Math.sin(middleTheta)+(r*a)*Math.sin(startTheta)+y],["A",(r*e),(r*e),0,0,1,(r*0.07)*Math.cos(middleTheta)+(r*middleRadiusPercent)*Math.cos(middleTheta)+x,(r*0.07)*Math.sin(middleTheta)+(r*middleRadiusPercent)*Math.sin(middleTheta)+y],["A",(r*e),(r*e),0,0,1,(r*0.07)*Math.cos(middleTheta)+(r*a)*Math.cos(endTheta)+x,(r*0.07)*Math.sin(middleTheta)+(r*a)*Math.sin(endTheta)+y],c.Close()];linePathString=[c.MoveTo(c.startAngle,r),c.ArcTo(r,c.middleAngle,r),c.ArcTo(r,c.endAngle,r),c.ArcBackTo(r,c.middleAngle,r),c.ArcBackTo(r,c.startAngle,r)];c.setTitlePos();titlePathString=c.getCurvedTitlePathString();return{slicePathString:slicePathString,linePathString:linePathString,titlePosX:c.titlePosX,titlePosY:c.titlePosY,titlePathString:titlePathString}};this.OuterStrokeSlice=function(b,a,c){b.setBaseValue(a,c);x=b.centerX;y=b.centerY;r=b.sliceRadius;innerRadius=r/4;if(b.sliceAngle<120){b.titleRadius=r*0.57}else{if(b.sliceAngle<180){b.titleRadius=r*0.52}else{b.titleRadius=r*0.45}}linePathString=[b.MoveTo(b.startAngle,innerRadius),b.LineTo(b.startAngle,r),b.MoveTo(b.endAngle,innerRadius),b.LineTo(b.endAngle,r)];slicePathString=[b.MoveTo(b.startAngle,r),b.ArcTo(r,b.middleAngle,r),b.ArcTo(r,b.endAngle,r),b.ArcBackTo(r,b.middleAngle,r),b.ArcBackTo(r,b.startAngle,r),b.MoveTo(b.startAngle,innerRadius),b.ArcTo(innerRadius,b.middleAngle,innerRadius),b.ArcTo(innerRadius,b.endAngle,innerRadius),b.ArcBackTo(innerRadius,b.middleAngle,innerRadius),b.ArcBackTo(innerRadius,b.startAngle,innerRadius)];b.setTitlePos();titlePathString=b.getCurvedTitlePathString();return{slicePathString:slicePathString,linePathString:linePathString,titlePosX:b.titlePosX,titlePosY:b.titlePosY,titlePathString:titlePathString}};this.TabSlice=function(d,c,e){var b=d.wheelRadius*0.9;var a=360/d.sliceAngle;var f=2*b/a;x=d.centerX;y=d.centerY;itemIndex=d.itemIndex;titlePosX=x;titlePosY=itemIndex*f+y+(f/2)-b;slicePathString=[];slicePathString.push(d.MoveToXY(x-(f/2),itemIndex*f+y-b));slicePathString.push(d.LineToXY((f/2)+x,itemIndex*f+y-b));slicePathString.push(d.LineToXY((f/2)+x,(itemIndex+1)*f+y-b));slicePathString.push(d.LineToXY(x-(f/2),(itemIndex+1)*f+y-b));slicePathString.push(d.Close());titlePathString=[];titlePathString.push(d.MoveToXY(x-(f/2),(itemIndex+1)*f+y-b));titlePathString.push(d.ArcToXY(f*2,(f/2)+x,itemIndex*f+y-b));return{slicePathString:slicePathString,linePathString:"",titlePosX:titlePosX,titlePosY:titlePosY,titlePathString:titlePathString}};this.YinYangSlice=function(b,a,c){b.setBaseValue(a,c);r=b.sliceRadius;slicePathString=[b.MoveToCenter(),b.ArcTo(r/2,b.startAngle,r),b.ArcTo(r,b.middleAngle,r),b.ArcTo(r,b.endAngle,r),b.ArcBackTo(r/2,0,0),b.Close()];titlePosX=b.getX(b.startAngle,r/2);titlePosY=b.getY(b.startAngle,r/2);titlePathString=[b.MoveToCenter(),b.ArcTo(r/4,b.startAngle+b.sliceAngle*0.2,r*0.8)];return{slicePathString:slicePathString,linePathString:slicePathString,titlePosX:titlePosX,titlePosY:titlePosY,titlePathString:titlePathString}};this.WebSlice=function(b,a,c){b.setBaseValue(a,c);r=b.sliceRadius;b.titleRadius=r*0.55;b.setTitlePos();linePathString=[b.MoveToCenter(),b.LineTo(b.startAngle,r*1.1),b.MoveToCenter(),b.LineTo(b.endAngle,r*1.1),b.MoveTo(b.startAngle,r*0.15),b.LineTo(b.endAngle,r*0.15),b.MoveTo(b.startAngle,r*0.35),b.LineTo(b.endAngle,r*0.35),b.MoveTo(b.startAngle,r*0.55),b.LineTo(b.endAngle,r*0.55),b.MoveTo(b.startAngle,r*0.75),b.LineTo(b.endAngle,r*0.75),b.MoveTo(b.startAngle,r*0.95),b.LineTo(b.endAngle,r*0.95),b.Close()];titlePathString=b.getCurvedTitlePathString();return{slicePathString:"",linePathString:linePathString,titlePosX:b.titlePosX,titlePosY:b.titlePosY,titlePathString:titlePathString}};this.WinterSliceCustomization=function(){var a=new slicePathCustomization();a.titleRadiusPercent=0.85;a.arcRadiusPercent=1;return a};this.WinterSlice=function(c,b,d){if(d===null){d=WinterSliceCustomization()}c.setBaseValue(b,d);sliceAngle=c.sliceAngle;parallelAngle=c.startAngle+sliceAngle/4;parallelAngle2=c.startAngle+((sliceAngle/4)*3);borderAngle1=c.startAngle+(sliceAngle/200);borderAngle2=c.startAngle+(sliceAngle/2)-(sliceAngle/200);borderAngle3=c.startAngle+(sliceAngle/2)+(sliceAngle/200);borderAngle4=c.startAngle+sliceAngle-(sliceAngle/200);var a=c.sliceRadius*d.arcRadiusPercent;slicePathString=[c.MoveToCenter(),c.MoveTo(parallelAngle,a/100),c.LineTo(borderAngle1,a/2),c.LineTo(parallelAngle,a-(a/100)),c.LineTo(borderAngle2,a/2),c.LineTo(parallelAngle,a/100),c.MoveTo(parallelAngle2,a/100),c.LineTo(borderAngle4,a/2),c.LineTo(parallelAngle2,a-(a/100)),c.LineTo(borderAngle3,a/2),c.LineTo(parallelAngle2,a/100),c.Close()];linePathString=[c.MoveTo(parallelAngle,a),c.LineTo(borderAngle2,a/2),c.MoveTo(borderAngle3,a/2),c.LineTo(parallelAngle2,a)];titlePathString=c.getCurvedTitlePathString();return{slicePathString:slicePathString,linePathString:linePathString,titlePosX:c.titlePosX,titlePosY:c.titlePosY,titlePathString:titlePathString}};this.TutorialSliceCustomization=function(){var a=new slicePathCustomization();a.titleRadiusPercent=0.6;a.isMoveTo=false;a.isLineTo=false;a.isArcTo=false;a.isArcBackTo=false;return a};this.TutorialSlice=function(b,a,c){if(c===null){c=TutorialSliceCustomization()}b.setBaseValue(a,c);slicePathString=[];titlePathString=[];slicePathString.push(b.MoveToCenter());titlePathRadius1=b.titleRadius;titlePathRadius2=b.titleRadius;titlePathEndangle=b.startAngle;titlePathStartRadius=0;if(c.isMoveTo===true){slicePathString.push(b.MoveTo(b.middleAngle,b.sliceRadius/4));titlePathRadius1*=1.05;titlePathRadius2*=0.95;titlePathStartRadius+=b.sliceRadius/16;titlePathEndangle=b.startAngle+(b.sliceAngle/8)}if(c.isLineTo){slicePathString.push(b.LineTo(b.startAngle,b.sliceRadius));titlePathRadius1*=1.1;titlePathRadius2*=0.9;titlePathStartRadius+=b.sliceRadius/16;titlePathEndangle=b.startAngle+(b.sliceAngle/4)}if(c.isArcTo){slicePathString.push(b.ArcTo(b.sliceRadius,b.middleAngle,b.sliceRadius));titlePathRadius1*=1.2;titlePathRadius2*=0.8;titlePathStartRadius+=b.sliceRadius/8;titlePathEndangle=b.middleAngle-(b.sliceAngle/8)}if(c.isArcBackTo){slicePathString.push(b.ArcBackTo(b.sliceRadius,b.endAngle,b.sliceRadius));titlePathRadius1*=1.3;titlePathRadius2*=0.7;titlePathStartRadius+=b.sliceRadius/8;titlePathEndangle=b.endAngle}slicePathString.push(b.Close());titlePathString.push(b.MoveTo(b.startAngle,titlePathStartRadius));titlePathString.push(b.CubicBezierTo(b.middleAngle-(b.sliceAngle/8),titlePathRadius1,b.middleAngle+(b.sliceAngle/8),titlePathRadius2,titlePathEndangle,b.sliceRadius));linePathString=[b.MoveToCenter(),b.LineTo(b.startAngle,b.sliceRadius),b.ArcTo(b.sliceRadius,b.middleAngle,b.sliceRadius),b.ArcTo(b.sliceRadius,b.endAngle,b.sliceRadius),b.Close()];return{slicePathString:slicePathString,linePathString:linePathString,titlePosX:b.titlePosX,titlePosY:b.titlePosY,titlePathString:titlePathString}};return this};var sliceTransform=function(){this.startAngle=0;this.startTheta=0;this.middleTheta=0;this.endTheta=0;var a=function(c,k,e,g,d,j,f,h){this.startAngle=g;this.startTheta=b(startAngle);this.middleTheta=b(startAngle+d/2);this.endTheta=b(startAngle+d)};var b=function(c){return(c%360)*Math.PI/180};this.NullTransform=function(c,k,e,g,d,j,f,h){return{sliceTransformString:"",lineTransformString:"",titleTransformString:""}};this.MoveMiddleTransform=function(n,l,g,k,o,e,c,d){a(n,l,g,k,o,e,c);var f="t"+(g/10*Math.cos(middleTheta)).toString()+","+(g/10*Math.sin(middleTheta)).toString();var j;if(e!==null){j=b(-e)}else{var m=k-(c*o);j=b(m+o/2)}var h="s1,r0,t"+(g/10*Math.cos(j)).toString()+","+(g/10*Math.sin(j)).toString();return{sliceTransformString:f,lineTransformString:f,titleTransformString:h}};this.RotateTransform=function(k,j,g,h,l,e,c,d){var f="s1,r360";return{sliceTransformString:f,lineTransformString:f,titleTransformString:f}};this.RotateHalfTransform=function(k,j,g,h,l,e,c,d){var f="s1,r90";return{sliceTransformString:f,lineTransformString:f,titleTransformString:f}};this.RotateTitleTransform=function(k,j,f,h,l,e,c,d){var g="s1,r360";return{sliceTransformString:"",lineTransformString:"",titleTransformString:g}};this.ScaleTransform=function(k,j,g,h,l,e,c,d){var f="s1.2";return{sliceTransformString:f,lineTransformString:"",titleTransformString:f}};this.ScaleTitleTransform=function(c,k,e,g,d,j,f,h){return{sliceTransformString:"",lineTransformString:"",titleTransformString:"s1.3"}};this.RotateScaleTransform=function(k,j,g,h,l,e,c,d){var f="r360,s1.3";return{sliceTransformString:f,lineTransformString:"",titleTransformString:f}};this.CustomTransform=function(k,j,g,h,l,e,c,d){var f=d.scaleString+","+d.rotateString;return{sliceTransformString:f,lineTransformString:f,titleTransformString:f}};this.CustomTitleTransform=function(k,j,f,h,l,e,c,d){var g=d.scaleString+","+d.rotateString;return{sliceTransformString:"",lineTransformString:"",titleTransformString:g}};return this};var sliceTransformCustomization=function(){this.scaleString="s1";this.rotateString="r0";return this};spreader=function(c){this.wheelnav=c;if(this.wheelnav.spreaderEnable){this.spreaderHelper=new pathHelper();this.spreaderHelper.centerX=this.wheelnav.centerX;this.spreaderHelper.centerY=this.wheelnav.centerY;this.spreaderHelper.navItemCount=this.wheelnav.navItemCount;this.spreaderHelper.navAngle=this.wheelnav.navAngle;this.spreaderHelper.wheelRadius=this.wheelnav.spreaderRadius;this.spreaderHelper.startAngle=this.wheelnav.spreaderStartAngle;this.spreaderHelper.sliceAngle=this.wheelnav.spreaderSliceAngle;var f=this.wheelnav;this.animateeffect="bounce";this.animatetime=1500;if(this.wheelnav.animateeffect!==null){this.animateeffect=this.wheelnav.animateeffect}if(this.wheelnav.animatetime!==null){this.animatetime=this.wheelnav.animatetime}if(this.wheelnav.spreaderTitleFont!==null){this.fontAttr={font:this.wheelnav.spreaderTitleFont}}else{this.fontAttr={font:"18px Impact, Charcoal, sans-serif"}}this.spreaderPathIn=this.wheelnav.spreaderPathFunction(this.spreaderHelper,this.wheelnav.spreaderInPercent,this.wheelnav.spreaderPathCustom);this.spreaderPathOut=this.wheelnav.spreaderPathFunction(this.spreaderHelper,this.wheelnav.spreaderOutPercent,this.wheelnav.spreaderPathCustom);var g=this.spreaderPathOut;if(f.initPercent<f.maxPercent){g=this.spreaderPathIn}this.spreaderPath=this.wheelnav.raphael.path(g.spreaderPathString);this.spreaderPath.attr(f.spreaderPathAttr);this.spreaderPath.id=f.getSpreaderId();this.spreaderPath.node.id=this.spreaderPath.id;this.spreaderPath.click(function(){f.spreadWheel()});this.inTitleWidth=this.wheelnav.spreaderInTitleWidth;this.inTitleHeight=this.wheelnav.spreaderInTitleHeight;this.outTitleWidth=this.wheelnav.spreaderOutTitleWidth;this.outTitleHeight=this.wheelnav.spreaderOutTitleHeight;if(this.inTitleWidth!==null&&this.inTitleHeight===null){this.inTitleHeight=this.inTitleWidth}if(this.inTitleWidth===null&&this.inTitleHeight!==null){this.inTitleWidth=this.inTitleHeight}if(this.outTitleWidth!==null&&this.outTitleHeight===null){this.outTitleHeight=this.outTitleWidth}if(this.outTitleWidth===null&&this.outTitleHeight!==null){this.outTitleWidth=this.outTitleHeight}if(wheelnavTitle().isImageTitle(this.wheelnav.spreaderOutTitle)){if(this.inTitleWidth===null){this.inTitleWidth=32}if(this.inTitleHeight===null){this.inTitleHeight=32}if(this.outTitleWidth===null){this.outTitleWidth=32}if(this.outTitleHeight===null){this.outTitleHeight=32}}if(wheelnavTitle().isPathTitle(this.wheelnav.spreaderInTitle)){inTitle=new wheelnavTitle(this.wheelnav.spreaderInTitle,this.wheelnav.raphael.raphael)}else{inTitle=new wheelnavTitle(this.wheelnav.spreaderInTitle)}this.inTitleSizeTransform=inTitle.getTitleSizeTransform(this.inTitleWidth,this.inTitleHeight);this.inTitle=inTitle.getTitlePercentAttr(this.spreaderPathIn.titlePosX,this.spreaderPathIn.titlePosY,this.inTitleWidth,this.inTitleHeight);if(wheelnavTitle().isPathTitle(this.wheelnav.spreaderOutTitle)){outTitle=new wheelnavTitle(this.wheelnav.spreaderOutTitle,this.wheelnav.raphael.raphael)}else{outTitle=new wheelnavTitle(this.wheelnav.spreaderOutTitle)}this.outTitleSizeTransform=outTitle.getTitleSizeTransform(this.outTitleWidth,this.outTitleHeight);this.outTitle=outTitle.getTitlePercentAttr(this.spreaderPathOut.titlePosX,this.spreaderPathOut.titlePosY,this.outTitleWidth,this.outTitleHeight);var h=this.outTitle;var d=this.wheelnav.spreaderTitleOutAttr;var b=this.outTitleWidth;var a=this.outTitleHeight;var e=this.outTitleSizeTransform;if(f.initPercent<f.maxPercent){h=this.inTitle;d=this.wheelnav.spreaderTitleInAttr;b=this.inTitleWidth;a=this.inTitleHeight;e=this.inTitleSizeTransform}if(wheelnavTitle().isPathTitle(this.wheelnav.spreaderOutTitle)){this.spreaderTitle=f.raphael.path(h.path)}else{if(wheelnavTitle().isImageTitle(this.wheelnav.spreaderOutTitle)){this.spreaderTitle=this.wheelnav.raphael.image(h.src,g.titlePosX-(b/2),g.titlePosY-(a/2),b,a)}else{this.spreaderTitle=f.raphael.text(g.titlePosX,g.titlePosY,h.title)}}this.spreaderTitle.attr(this.fontAttr);this.spreaderTitle.attr(d);this.spreaderTitle.attr({transform:e});this.spreaderTitle.id=f.getSpreaderTitleId();this.spreaderTitle.node.id=this.spreaderTitle.id;this.spreaderTitle.click(function(){f.spreadWheel()});this.setCurrentTransform()}return this};spreader.prototype.setCurrentTransform=function(b){if(this.wheelnav.spreaderEnable){if(b===undefined||b===false){if(this.wheelnav.currentPercent>this.wheelnav.minPercent){currentPath=this.spreaderPathOut.spreaderPathString}else{currentPath=this.spreaderPathIn.spreaderPathString}spreaderTransformAttr={path:currentPath};this.spreaderPath.animate(spreaderTransformAttr,this.animatetime,this.animateeffect);var d;var a;var c;if(this.wheelnav.currentPercent===this.wheelnav.maxPercent){d=this.outTitle;a=this.wheelnav.spreaderTitleOutAttr;this.spreaderPath.attr(this.wheelnav.spreaderPathOutAttr);c=this.outTitleSizeTransform}else{d=this.inTitle;a=this.wheelnav.spreaderTitleInAttr;this.spreaderPath.attr(this.wheelnav.spreaderPathInAttr);c=this.inTitleSizeTransform}if(wheelnavTitle().isPathTitle(d.title)){a.path=d.path;a.transform=c}else{if(wheelnavTitle().isImageTitle(d.title)){a.x=d.x;a.y=d.y;a.width=d.width;a.height=d.height;this.spreaderTitle.attr({src:d.src})}else{offYOffset=0;if(d.title==="-"){offYOffset=3}a.x=d.x;a.y=d.y-offYOffset;if(d.title!==null){this.spreaderTitle.attr({text:d.title})}}}this.spreaderTitle.animate(a,this.animatetime,this.animateeffect)}this.spreaderPath.toFront();this.spreaderTitle.toFront()}};spreaderPath=function(){this.NullSpreader=function(a,b){if(b===null){b=new spreaderPathCustomization()}a.setBaseValue(b.spreaderPercent,b);return{spreaderPathString:"",titlePosX:a.titlePosX,titlePosY:a.titlePosY}};this.PieSpreaderCustomization=function(){var a=new spreaderPathCustomization();a.spreaderRadius=25;a.arcBaseRadiusPercent=1;a.arcRadiusPercent=1;a.startRadiusPercent=0;return a};this.PieSpreader=function(c,b,d){if(d===null){d=PieSpreaderCustomization()}c.setBaseValue(d.spreaderPercent*b,d);var e=c.sliceRadius*d.arcBaseRadiusPercent;var a=c.sliceRadius*d.arcRadiusPercent;spreaderPathString=[];c.StartSpreader(spreaderPathString,c.startAngle,e);spreaderPathString.push(c.ArcTo(a,c.middleAngle,e));spreaderPathString.push(c.ArcTo(a,c.endAngle,e));spreaderPathString.push(c.Close());return{spreaderPathString:spreaderPathString,titlePosX:c.titlePosX,titlePosY:c.titlePosY}};this.StarSpreaderCustomization=function(){var a=new spreaderPathCustomization();a.minRadiusPercent=0.5;return a};this.StarSpreader=function(c,b,d){if(d===null){d=StarSpreaderCustomization()}c.setBaseValue(d.spreaderPercent*b,d);rbase=c.wheelRadius*d.spreaderPercent*d.minRadiusPercent*b;r=c.sliceRadius;spreaderPathString=[];sliceAngle=c.sliceAngle/c.navItemCount;baseAngle=c.navAngle;if(c.endAngle-c.startAngle<360){baseAngle=c.startAngle}c.StartSpreader(spreaderPathString,baseAngle,r);for(var a=0;a<c.navItemCount;a++){startAngle=a*sliceAngle+(baseAngle+sliceAngle/2);middleAngle=startAngle+(sliceAngle/2);endAngle=startAngle+sliceAngle;if(c.endAngle-c.startAngle<360){if(a===c.navItemCount-1){endAngle=middleAngle}}spreaderPathString.push(c.LineTo(startAngle,rbase));spreaderPathString.push(c.LineTo(middleAngle,r));spreaderPathString.push(c.LineTo(endAngle,rbase))}spreaderPathString.push(c.Close());return{spreaderPathString:spreaderPathString,titlePosX:c.titlePosX,titlePosY:c.titlePosY}};this.AntiStarSpreaderCustomization=function(){var a=new spreaderPathCustomization();a.minRadiusPercent=0.21;return a};this.AntiStarSpreader=function(c,b,d){if(d===null){d=AntiStarSpreaderCustomization()}c.setBaseValue(d.spreaderPercent*b,d);rbase=c.wheelRadius*d.spreaderPercent*d.minRadiusPercent*b;r=c.sliceRadius;spreaderPathString=[];sliceAngle=c.sliceAngle/c.navItemCount;baseAngle=c.navAngle;if(c.endAngle-c.startAngle<360){baseAngle=c.startAngle;c.StartSpreader(spreaderPathString,baseAngle,rbase)}else{spreaderPathString.push(c.MoveTo(c.startAngle+(c.navAngle+sliceAngle/2),rbase))}for(var a=0;a<c.navItemCount;a++){startAngle=a*sliceAngle+(baseAngle+sliceAngle/2);middleAngle=startAngle+(sliceAngle/2);endAngle=startAngle+sliceAngle;if(c.endAngle-c.startAngle<360){if(a===c.navItemCount-1){endAngle=middleAngle}}spreaderPathString.push(c.LineTo(startAngle,r));spreaderPathString.push(c.LineTo(middleAngle,rbase));spreaderPathString.push(c.LineTo(endAngle,r))}spreaderPathString.push(c.Close());return{spreaderPathString:spreaderPathString,titlePosX:c.titlePosX,titlePosY:c.titlePosY}};this.FlowerSpreaderCustomization=function(){var a=new spreaderPathCustomization();a.minRadiusPercent=0.63;a.menuRadius=7;return a};this.FlowerSpreader=function(c,b,d){if(d===null){d=FlowerSpreaderCustomization()}c.setBaseValue(d.spreaderPercent*b,d);rbase=c.wheelRadius*d.spreaderPercent*d.minRadiusPercent*b;r=c.sliceRadius;spreaderPathString=[];sliceAngle=c.sliceAngle/c.navItemCount;baseAngle=c.navAngle;if(c.endAngle-c.startAngle<360){baseAngle=c.startAngle;c.StartSpreader(spreaderPathString,baseAngle,rbase)}else{spreaderPathString.push(c.MoveTo(c.startAngle+(c.navAngle+sliceAngle/2),rbase))}for(var a=0;a<c.navItemCount;a++){startAngle=a*sliceAngle+(baseAngle+sliceAngle/2);middleAngle=startAngle+(sliceAngle/2);endAngle=startAngle+sliceAngle;if(c.endAngle-c.startAngle<360){if(a===0){spreaderPathString.push(c.ArcTo(d.menuRadius,startAngle,rbase))}if(a===c.navItemCount-1){endAngle=middleAngle}}else{spreaderPathString.push(c.LineTo(startAngle,rbase))}spreaderPathString.push(c.ArcTo(d.menuRadius,endAngle,rbase))}spreaderPathString.push(c.Close());return{spreaderPathString:spreaderPathString,titlePosX:c.titlePosX,titlePosY:c.titlePosY}};this.HolderSpreaderCustomization=function(){var a=new spreaderPathCustomization();a.minRadiusPercent=0.5;a.menuRadius=37;return a};this.HolderSpreader=function(c,b,d){if(d===null){d=HolderSpreaderCustomization()}c.setBaseValue(d.spreaderPercent*b,d);rbase=c.wheelRadius*d.spreaderPercent*d.minRadiusPercent*b;r=c.sliceRadius;spreaderPathString=[];sliceAngle=c.sliceAngle/c.navItemCount;baseAngle=c.navAngle;if(c.endAngle-c.startAngle<360){baseAngle=c.startAngle;c.StartSpreader(spreaderPathString,baseAngle,rbase)}else{spreaderPathString.push(c.MoveTo(c.startAngle+(c.navAngle+sliceAngle/2),rbase))}for(var a=0;a<c.navItemCount;a++){startAngle=a*sliceAngle+(baseAngle+sliceAngle/2);middleAngle=startAngle+(sliceAngle/4);endAngle=startAngle+sliceAngle;if(c.endAngle-c.startAngle<360){if(a===c.navItemCount-1){endAngle=middleAngle}}else{spreaderPathString.push(c.LineTo(startAngle,rbase))}spreaderPathString.push(c.LineTo(startAngle,r));spreaderPathString.push(c.ArcBackTo(d.menuRadius,middleAngle,rbase));spreaderPathString.push(c.ArcTo(d.menuRadius,endAngle,r))}spreaderPathString.push(c.Close());return{spreaderPathString:spreaderPathString,titlePosX:c.titlePosX,titlePosY:c.titlePosY}};this.LineSpreaderCustomization=function(){var a=new spreaderPathCustomization();a.minRadiusPercent=0.5;return a};this.LineSpreader=function(c,b,d){if(d===null){d=LineSpreaderCustomization()}c.setBaseValue(d.spreaderPercent*b,d);rbase=c.wheelRadius*d.spreaderPercent*d.minRadiusPercent*b;r=c.sliceRadius;spreaderPathString=[];sliceAngle=c.sliceAngle/c.navItemCount;baseAngle=c.navAngle;if(c.endAngle-c.startAngle<360){baseAngle=c.startAngle}spreaderPathString.push(c.MoveTo(baseAngle+sliceAngle/2,r));for(var a=0;a<c.navItemCount;a++){startAngle=a*sliceAngle+(baseAngle+sliceAngle/2);endAngle=startAngle+sliceAngle;if(c.navItemCount===2){endAngle-=90}spreaderPathString.push(c.LineTo(startAngle,r));spreaderPathString.push(c.LineTo(endAngle,r))}spreaderPathString.push(c.Close());return{spreaderPathString:spreaderPathString,titlePosX:c.titlePosX,titlePosY:c.titlePosY}};return this};marker=function(a){this.wheelnav=a;if(this.wheelnav.markerEnable){this.markerHelper=new pathHelper();this.markerHelper.centerX=this.wheelnav.centerX;this.markerHelper.centerY=this.wheelnav.centerY;this.markerHelper.navItemCount=this.wheelnav.navItemCount;this.markerHelper.navAngle=this.wheelnav.navAngle;this.markerHelper.wheelRadius=this.wheelnav.wheelRadius*this.wheelnav.maxPercent;this.markerHelper.sliceAngle=this.wheelnav.navItems[0].sliceAngle;this.markerHelper.startAngle=this.markerHelper.navAngle-(this.markerHelper.sliceAngle/2);this.animateeffect="bounce";this.animatetime=1500;if(this.wheelnav.animateeffect!==null){this.animateeffect=this.wheelnav.animateeffect}if(this.wheelnav.animatetime!==null){this.animatetime=this.wheelnav.animatetime}this.markerPathMin=this.wheelnav.markerPathFunction(this.markerHelper,this.wheelnav.minPercent,this.wheelnav.markerPathCustom);this.markerPathMax=this.wheelnav.markerPathFunction(this.markerHelper,this.wheelnav.maxPercent,this.wheelnav.markerPathCustom);this.marker=this.wheelnav.raphael.path(this.markerPathMax.markerPathString);this.marker.attr(this.wheelnav.markerAttr);this.marker.id=this.wheelnav.getMarkerId();this.marker.node.id=this.marker.id}return this};marker.prototype.setCurrentTransform=function(c){if(this.wheelnav.markerEnable){var a="";if(this.wheelnav.currentPercent===this.wheelnav.maxPercent){a=this.markerPathMax.markerPathString}else{a=this.markerPathMin.markerPathString}if(c!==undefined){var b=c-this.markerHelper.navAngle;markerTransformAttr={transform:"r,"+(b).toString()+","+this.wheelnav.centerX+","+this.wheelnav.centerY,path:a}}else{markerTransformAttr={path:a}}this.marker.animate(markerTransformAttr,this.animatetime,this.animateeffect);this.marker.toFront()}};markerPath=function(){this.NullMarker=function(a,b){if(b===null){b=new markerPathCustomization()}a.setBaseValue(b);return{markerPathString:"",titlePosX:a.titlePosX,titlePosY:a.titlePosY}};this.TriangleMarkerCustomization=function(){var a=new markerPathCustomization();a.arcBaseRadiusPercent=1.09;a.arcRadiusPercent=1.2;a.startRadiusPercent=0;return a};this.TriangleMarker=function(e,d,f){if(f===null){f=TriangleMarkerCustomization()}e.setBaseValue(f.markerPercent*d,f);var g=e.sliceRadius*f.arcBaseRadiusPercent;var b=e.sliceRadius*f.arcRadiusPercent;var c=e.startAngle+e.sliceAngle*0.46;var a=e.startAngle+e.sliceAngle*0.54;markerPathString=[e.MoveTo(e.navAngle,g),e.LineTo(c,b),e.LineTo(a,b),e.Close()];return{markerPathString:markerPathString,titlePosX:e.titlePosX,titlePosY:e.titlePosY}};this.PieLineMarkerCustomization=function(){var a=new markerPathCustomization();a.arcBaseRadiusPercent=1;a.arcRadiusPercent=1;a.startRadiusPercent=0;a.sliceAngle=null;return a};this.PieLineMarker=function(c,b,d){if(d===null){d=PieLineMarkerCustomization()}c.setBaseValue(d.markerPercent*b,d);var e=c.sliceRadius*d.arcBaseRadiusPercent;var a=c.sliceRadius*d.arcRadiusPercent;if(d.sliceAngle!==null){c.startAngle=c.navAngle-(d.sliceAngle/2);c.endAngle=c.navAngle+(d.sliceAngle/2)}markerPathString=[c.MoveTo(c.startAngle,e),c.ArcTo(a,c.endAngle,e),c.ArcBackTo(a,c.startAngle,e),c.Close()];return{markerPathString:markerPathString,titlePosX:c.titlePosX,titlePosY:c.titlePosY}};this.MenuMarkerCustomization=function(){var a=new markerPathCustomization();a.menuRadius=40;a.titleRadiusPercent=0.63;a.lineBaseRadiusPercent=0;return a};this.MenuMarker=function(b,a,c){if(c===null){c=MenuMarkerCustomization()}b.setBaseValue(c.markerPercent*a,c);x=b.centerX;y=b.centerY;b.titleRadius=b.wheelRadius*c.titleRadiusPercent*a;b.setTitlePos();var d=c.menuRadius*a;if(a<=0.05){d=11}middleTheta=b.middleTheta;markerPathString=[["M",b.titlePosX-(d*Math.cos(middleTheta)),b.titlePosY-(d*Math.sin(middleTheta))],["A",d,d,0,0,1,b.titlePosX+(d*Math.cos(middleTheta)),b.titlePosY+(d*Math.sin(middleTheta))],["A",d,d,0,0,1,b.titlePosX-(d*Math.cos(middleTheta)),b.titlePosY-(d*Math.sin(middleTheta))],["z"]];return{markerPathString:markerPathString,titlePosX:b.titlePosX,titlePosY:b.titlePosY}};this.LineMarkerCustomization=function(){var a=new markerPathCustomization();a.arcBaseRadiusPercent=1.05;a.arcRadiusPercent=1.2;a.startRadiusPercent=0;return a};this.LineMarker=function(c,b,d){if(d===null){d=LineMarkerCustomization()}c.setBaseValue(d.markerPercent*b,d);var e=c.sliceRadius*d.arcBaseRadiusPercent;var a=c.sliceRadius*d.arcRadiusPercent;markerPathString=[c.MoveTo(c.navAngle,e),c.LineTo(c.navAngle,a),c.Close()];return{markerPathString:markerPathString,titlePosX:c.titlePosX,titlePosY:c.titlePosY}};this.DropMarkerCustomization=function(){var a=new markerPathCustomization();a.dropBaseRadiusPercent=0;a.dropRadiusPercent=0.15;return a};this.DropMarker=function(b,e,a){if(a===null){a=DropMarkerCustomization()}b.setBaseValue(a.markerPercent*e,a);var h=b.sliceRadius*a.dropBaseRadiusPercent;var f=b.startAngle+b.sliceAngle*0.2;var d=b.startAngle;var c=b.startAngle+b.sliceAngle*0.8;var g=b.startAngle+b.sliceAngle;var j=b.sliceRadius*a.dropRadiusPercent;markerPathString=[b.MoveTo(0,j),b.ArcTo(j,180,j),b.ArcTo(j,360,j),b.MoveTo(b.navAngle,h),b.LineTo(f,j),b.LineTo(d,j),b.LineTo(b.navAngle,j*1.6),b.LineTo(g,j),b.LineTo(c,j),b.Close()];return{markerPathString:markerPathString,titlePosX:b.titlePosX,titlePosY:b.titlePosY}};return this};var colorpalette={defaultpalette:new Array("#2D9E46","#F5BE41","#F77604","#D63C22","#006BA6","#92ADAF"),purple:new Array("#4F346B","#623491","#9657D6","#AD74E7","#CBA3F3"),greenred:new Array("#17B92A","#FF3D00","#17B92A","#FF3D00"),greensilver:new Array("#1F700A","#79CC3C","#D4E178","#E6D5C3","#AC875D"),oceanfive:new Array("#00A0B0","#6A4A3C","#CC333F","#EB6841","#EDC951"),garden:new Array("#648A4F","#2B2B29","#DF6126","#FFA337","#F57C85"),gamebookers:new Array("#FF9900","#DCDCDC","#BCBCBC","#3299BB","#727272"),parrot:new Array("#D80351","#F5D908","#00A3EE","#929292","#3F3F3F"),pisycholand:new Array("#FF1919","#FF5E19","#FF9F19","#E4FF19","#29FF19"),makeLOVEnotWAR:new Array("#2C0EF0","#B300FF","#6751F0","#FF006F","#8119FF"),theworldismine:new Array("#F21D1D","#FF2167","#B521FF","#7E2AA8","#000000"),fractalloveone:new Array("#002EFF","#00FFF7","#00FF62","#FFAA00","#FFF700"),fractallovetwo:new Array("#FF9500","#FF0000","#FF00F3","#AA00FF","#002EFF"),fractallove:new Array("#002EFF","#00FFF7","#00FF62","#FFAA00","#F5D908","#FF0000","#FF00F3","#AA00FF"),sprinkles:new Array("#272523","#FFACAC","#FFD700","#00590C","#08006D"),goldenyellow:new Array("#D8B597","#8C4006","#B6690F","#E3C57F","#FFEDBE"),hotaru:new Array("#364C4A","#497C7F","#92C5C0","#858168","#CCBCA5")};