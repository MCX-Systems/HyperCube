/*!
 * Socket.IO v2.2.0
 * (c) 2014-2018 Guillermo Rauch
 * Released under the MIT License.
 */
(function webpackUniversalModuleDefinition(a,b){if(typeof exports==="object"&&typeof module==="object"){module.exports=b()}else{if(typeof define==="function"&&define.amd){define([],b)}else{if(typeof exports==="object"){exports.io=b()}else{a.io=b()}}}})(this,function(){return(function(a){var b={};function c(e){if(b[e]){return b[e].exports}var d=b[e]={exports:{},id:e,loaded:false};a[e].call(d.exports,d,d.exports,c);d.loaded=true;return d.exports}c.m=a;c.c=b;c.p="";return c(0)})([(function(g,j,f){var i=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol==="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k};var d=f(1);var c=f(7);var b=f(12);var e=f(3)("socket.io-client");g.exports=j=h;var a=j.managers={};function h(o,l){if((typeof o==="undefined"?"undefined":i(o))==="object"){l=o;o=undefined}l=l||{};var r=d(o);var k=r.source;var n=r.id;var s=r.path;var p=a[n]&&s in a[n].nsps;var m=l.forceNew||l["force new connection"]||false===l.multiplex||p;var q;if(m){e("ignoring socket cache for %s",k);q=b(k,l)}else{if(!a[n]){e("new io instance for %s",k);a[n]=b(k,l)}q=a[n]}if(r.query&&!l.query){l.query=r.query}return q.socket(r.path,l)}j.protocol=c.protocol;j.connect=h;j.Manager=f(12);j.Socket=f(36)}),(function(d,b,f){var e=f(2);var a=f(3)("socket.io-client:url");d.exports=c;function c(i,k){var j=i;k=k||typeof location!=="undefined"&&location;if(null==i){i=k.protocol+"//"+k.host}if("string"===typeof i){if("/"===i.charAt(0)){if("/"===i.charAt(1)){i=k.protocol+i}else{i=k.host+i}}if(!/^(https?|wss?):\/\//.test(i)){a("protocol-less url %s",i);if("undefined"!==typeof k){i=k.protocol+"//"+i}else{i="https://"+i}}a("parse %s",i);j=e(i)}if(!j.port){if(/^(http|ws)$/.test(j.protocol)){j.port="80"}else{if(/^(http|ws)s$/.test(j.protocol)){j.port="443"}}}j.path=j.path||"/";var g=j.host.indexOf(":")!==-1;var h=g?"["+j.host+"]":j.host;j.id=j.protocol+"://"+h+":"+j.port;j.href=j.protocol+"://"+h+(k&&k.port===j.port?"":":"+j.port);return j}}),(function(b,a){var c=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;var e=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];b.exports=function d(n){var l=n,g=n.indexOf("["),k=n.indexOf("]");if(g!=-1&&k!=-1){n=n.substring(0,g)+n.substring(g,k).replace(/:/g,";")+n.substring(k,n.length)}var f=c.exec(n||""),j={},h=14;while(h--){j[e[h]]=f[h]||""}if(g!=-1&&k!=-1){j.source=l;j.host=j.host.substring(1,j.host.length-1).replace(/;/g,":");j.authority=j.authority.replace("[","").replace("]","").replace(/;/g,":");j.ipv6uri=true}return j}}),(function(b,a,c){(function(j){a=b.exports=c(5);a.log=e;a.formatArgs=f;a.save=g;a.load=h;a.useColors=i;a.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:d();a.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function i(){if(typeof window!=="undefined"&&window.process&&window.process.type==="renderer"){return true}if(typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)){return false}return(typeof document!=="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance)||(typeof window!=="undefined"&&window.console&&(window.console.firebug||(window.console.exception&&window.console.table)))||(typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31)||(typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}a.formatters.j=function(k){try{return JSON.stringify(k)}catch(l){return"[UnexpectedJSONParseError]: "+l.message}};function f(l){var n=this.useColors;l[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+l[0]+(n?"%c ":" ")+"+"+a.humanize(this.diff);if(!n){return}var o="color: "+this.color;l.splice(1,0,o,"color: inherit");var k=0;var m=0;l[0].replace(/%[a-zA-Z%]/g,function(p){if("%%"===p){return}k++;if("%c"===p){m=k}});l.splice(m,0,o)}function e(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function g(k){try{if(null==k){a.storage.removeItem("debug")}else{a.storage.debug=k}}catch(l){}}function h(){var k;try{k=a.storage.debug}catch(l){}if(!k&&typeof j!=="undefined"&&"env" in j){k=j.env.DEBUG}return k}a.enable(h());function d(){try{return window.localStorage}catch(k){}}}.call(a,c(4)))}),(function(f,h){var c=f.exports={};var i;var d;function n(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){i=setTimeout}else{i=n}}catch(r){i=n}try{if(typeof clearTimeout==="function"){d=clearTimeout}else{d=e}}catch(r){d=e}}());function b(r){if(i===setTimeout){return setTimeout(r,0)}if((i===n||!i)&&setTimeout){i=setTimeout;return setTimeout(r,0)}try{return i(r,0)}catch(s){try{return i.call(null,r,0)}catch(s){return i.call(this,r,0)}}}function a(r){if(d===clearTimeout){return clearTimeout(r)}if((d===e||!d)&&clearTimeout){d=clearTimeout;return clearTimeout(r)}try{return d(r)}catch(s){try{return d.call(null,r)}catch(s){return d.call(this,r)}}}var j=[];var o=false;var k;var l=-1;function m(){if(!o||!k){return}o=false;if(k.length){j=k.concat(j)}else{l=-1}if(j.length){q()}}function q(){if(o){return}var s=b(m);o=true;var r=j.length;while(r){k=j;j=[];while(++l<r){if(k){k[l].run()}}l=-1;r=j.length}k=null;o=false;a(s)}c.nextTick=function(r){var s=new Array(arguments.length-1);if(arguments.length>1){for(var t=1;t<arguments.length;t++){s[t-1]=arguments[t]}}j.push(new g(r,s));if(j.length===1&&!o){b(q)}};function g(r,s){this.fun=r;this.array=s}g.prototype.run=function(){this.fun.apply(null,this.array)};c.title="browser";c.browser=true;c.env={};c.argv=[];c.version="";c.versions={};function p(){}c.on=p;c.addListener=p;c.once=p;c.off=p;c.removeListener=p;c.removeAllListeners=p;c.emit=p;c.prependListener=p;c.prependOnceListener=p;c.listeners=function(r){return[]};c.binding=function(r){throw new Error("process.binding is not supported")};c.cwd=function(){return"/"};c.chdir=function(r){throw new Error("process.chdir is not supported")};c.umask=function(){return 0}}),(function(b,d,a){d=b.exports=j.debug=j["default"]=j;d.coerce=c;d.disable=e;d.enable=f;d.enabled=h;d.humanize=a(6);d.instances=[];d.names=[];d.skips=[];d.formatters={};function g(l){var m=0,k;for(k in l){m=((m<<5)-m)+l.charCodeAt(k);m|=0}return d.colors[Math.abs(m)%d.colors.length]}function j(m){var l;function k(){if(!k.enabled){return}var n=k;var s=+new Date();var q=s-(l||s);n.diff=q;n.prev=l;n.curr=s;l=s;var p=new Array(arguments.length);for(var r=0;r<p.length;r++){p[r]=arguments[r]}p[0]=d.coerce(p[0]);if("string"!==typeof p[0]){p.unshift("%O")}var o=0;p[0]=p[0].replace(/%([a-zA-Z%])/g,function(u,w){if(u==="%%"){return u}o++;var v=d.formatters[w];if("function"===typeof v){var x=p[o];u=v.call(n,x);p.splice(o,1);o--}return u});d.formatArgs.call(n,p);var t=k.log||d.log||console.log.bind(console);t.apply(n,p)}k.namespace=m;k.enabled=d.enabled(m);k.useColors=d.useColors();k.color=g(m);k.destroy=i;if("function"===typeof d.init){d.init(k)}d.instances.push(k);return k}function i(){var k=d.instances.indexOf(this);if(k!==-1){d.instances.splice(k,1);return true}else{return false}}function f(o){d.save(o);d.names=[];d.skips=[];var n;var m=(typeof o==="string"?o:"").split(/[\s,]+/);var l=m.length;for(n=0;n<l;n++){if(!m[n]){continue}o=m[n].replace(/\*/g,".*?");if(o[0]==="-"){d.skips.push(new RegExp("^"+o.substr(1)+"$"))}else{d.names.push(new RegExp("^"+o+"$"))}}for(n=0;n<d.instances.length;n++){var k=d.instances[n];k.enabled=d.enabled(k.namespace)}}function e(){d.enable("")}function h(l){if(l[l.length-1]==="*"){return true}var m,k;for(m=0,k=d.skips.length;m<k;m++){if(d.skips[m].test(l)){return false}}for(m=0,k=d.names.length;m<k;m++){if(d.names[m].test(l)){return true}}return false}function c(k){if(k instanceof Error){return k.stack||k.message}return k}}),(function(a,f){var n=1000;var c=n*60;var g=c*60;var j=g*24;var k=j*365.25;a.exports=function(m,d){d=d||{};var h=typeof m;if(h==="string"&&m.length>0){return e(m)}else{if(h==="number"){return b(m);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(m))}}};function e(m){m=String(m);if(m.length>100){return}var d=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(m);if(!d){return}var o=parseFloat(d[1]);var h=(d[2]||"ms").toLowerCase();switch(h){case"years":case"year":case"yrs":case"yr":case"y":return o*k;case"days":case"day":case"d":return o*j;case"hours":case"hour":case"hrs":case"hr":case"h":return o*g;case"minutes":case"minute":case"mins":case"min":case"m":return o*c;case"seconds":case"second":case"secs":case"sec":case"s":return o*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return undefined}}function i(d){if(d>=j){return Math.round(d/j)+"d"}if(d>=g){return Math.round(d/g)+"h"}if(d>=c){return Math.round(d/c)+"m"}if(d>=n){return Math.round(d/n)+"s"}return d+"ms"}function b(d){return l(d,j,"day")||l(d,g,"hour")||l(d,c,"minute")||l(d,n,"second")||d+" ms"}function l(h,m,d){if(h<m){return}if(h<m*1.5){return Math.floor(h/m)+" "+d}return Math.ceil(h/m)+" "+d+"s"}}),(function(d,q,f){var l=f(3)("socket.io-parser");var k=f(8);var a=f(9);var i=f(10);var e=f(11);q.protocol=4;q.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"];q.CONNECT=0;q.DISCONNECT=1;q.EVENT=2;q.ACK=3;q.ERROR=4;q.BINARY_EVENT=5;q.BINARY_ACK=6;q.Encoder=h;q.Decoder=o;function h(){}var n=q.ERROR+'"encode error"';h.prototype.encode=function(t,u){l("encoding packet %j",t);if(q.BINARY_EVENT===t.type||q.BINARY_ACK===t.type){c(t,u)}else{var s=b(t);u([s])}};function b(t){var u=""+t.type;if(q.BINARY_EVENT===t.type||q.BINARY_ACK===t.type){u+=t.attachments+"-"}if(t.nsp&&"/"!==t.nsp){u+=t.nsp+","}if(null!=t.id){u+=t.id}if(null!=t.data){var s=r(t.data);if(s!==false){u+=s}else{return n}}l("encoded %j as %s",t,u);return u}function r(t){try{return JSON.stringify(t)}catch(s){return false}}function c(t,u){function s(y){var w=a.deconstructPacket(y);var x=b(w.packet);var v=w.buffers;v.unshift(x);u(v)}a.removeBlobs(t,s)}function o(){this.reconstructor=null}k(o.prototype);o.prototype.add=function(t){var s;if(typeof t==="string"){s=g(t);if(q.BINARY_EVENT===s.type||q.BINARY_ACK===s.type){this.reconstructor=new j(s);if(this.reconstructor.reconPack.attachments===0){this.emit("decoded",s)}}else{this.emit("decoded",s)}}else{if(e(t)||t.base64){if(!this.reconstructor){throw new Error("got binary data when not reconstructing a packet")}else{s=this.reconstructor.takeBinaryData(t);if(s){this.reconstructor=null;this.emit("decoded",s)}}}else{throw new Error("Unknown type: "+t)}}};function g(y){var t=0;var x={type:Number(y.charAt(0))};if(null==q.types[x.type]){return m("unknown packet type "+x.type)}if(q.BINARY_EVENT===x.type||q.BINARY_ACK===x.type){var s="";while(y.charAt(++t)!=="-"){s+=y.charAt(t);if(t==y.length){break}}if(s!=Number(s)||y.charAt(t)!=="-"){throw new Error("Illegal attachments")}x.attachments=Number(s)}if("/"===y.charAt(t+1)){x.nsp="";while(++t){var z=y.charAt(t);if(","===z){break}x.nsp+=z;if(t===y.length){break}}}else{x.nsp="/"}var u=y.charAt(t+1);if(""!==u&&Number(u)==u){x.id="";while(++t){var z=y.charAt(t);if(null==z||Number(z)!=z){--t;break}x.id+=y.charAt(t);if(t===y.length){break}}x.id=Number(x.id)}if(y.charAt(++t)){var w=p(y.substr(t));var v=w!==false&&(x.type===q.ERROR||i(w));if(v){x.data=w}else{return m("invalid payload")}}l("decoded %s as %j",y,x);return x}function p(t){try{return JSON.parse(t)}catch(s){return false}}o.prototype.destroy=function(){if(this.reconstructor){this.reconstructor.finishedReconstruction()}};function j(s){this.reconPack=s;this.buffers=[]}j.prototype.takeBinaryData=function(s){this.buffers.push(s);if(this.buffers.length===this.reconPack.attachments){var t=a.reconstructPacket(this.reconPack,this.buffers);this.finishedReconstruction();return t}return null};j.prototype.finishedReconstruction=function(){this.reconPack=null;this.buffers=[]};function m(s){return{type:q.ERROR,data:"parser error: "+s}}}),(function(c,b,e){if(true){c.exports=d}function d(f){if(f){return a(f)}}function a(g){for(var f in d.prototype){g[f]=d.prototype[f]}return g}d.prototype.on=d.prototype.addEventListener=function(g,f){this._callbacks=this._callbacks||{};(this._callbacks["$"+g]=this._callbacks["$"+g]||[]).push(f);return this};d.prototype.once=function(h,g){function f(){this.off(h,f);g.apply(this,arguments)}f.fn=g;this.on(h,f);return this};d.prototype.off=d.prototype.removeListener=d.prototype.removeAllListeners=d.prototype.removeEventListener=function(k,h){this._callbacks=this._callbacks||{};if(0==arguments.length){this._callbacks={};return this}var j=this._callbacks["$"+k];if(!j){return this}if(1==arguments.length){delete this._callbacks["$"+k];return this}var f;for(var g=0;g<j.length;g++){f=j[g];if(f===h||f.fn===h){j.splice(g,1);break}}return this};d.prototype.emit=function(k){this._callbacks=this._callbacks||{};var g=[].slice.call(arguments,1),j=this._callbacks["$"+k];if(j){j=j.slice(0);for(var h=0,f=j.length;h<f;++h){j[h].apply(this,g)}}return this};d.prototype.listeners=function(f){this._callbacks=this._callbacks||{};return this._callbacks["$"+f]||[]};d.prototype.hasListeners=function(f){return !!this.listeners(f).length}}),(function(d,f,b){var g=b(10);var a=b(11);var c=Object.prototype.toString;var i=typeof Blob==="function"||(typeof Blob!=="undefined"&&c.call(Blob)==="[object BlobConstructor]");var j=typeof File==="function"||(typeof File!=="undefined"&&c.call(File)==="[object FileConstructor]");f.deconstructPacket=function(n){var l=[];var k=n.data;var m=n;m.data=h(k,l);m.attachments=l.length;return{packet:m,buffers:l}};function h(o,k){if(!o){return o}if(a(o)){var p={_placeholder:true,num:k.length};k.push(o);return p}else{if(g(o)){var n=new Array(o.length);for(var m=0;m<o.length;m++){n[m]=h(o[m],k)}return n}else{if(typeof o==="object"&&!(o instanceof Date)){var n={};for(var l in o){n[l]=h(o[l],k)}return n}}}return o}f.reconstructPacket=function(l,k){l.data=e(l.data,k);l.attachments=undefined;return l};function e(n,k){if(!n){return n}if(n&&n._placeholder){return k[n.num]}else{if(g(n)){for(var m=0;m<n.length;m++){n[m]=e(n[m],k)}}else{if(typeof n==="object"){for(var l in n){n[l]=e(n[l],k)}}}}return n}f.removeBlobs=function(m,o){function n(t,u,q){if(!t){return t}if((i&&t instanceof Blob)||(j&&t instanceof File)){k++;var p=new FileReader();p.onload=function(){if(q){q[u]=this.result}else{l=this.result}if(!--k){o(l)}};p.readAsArrayBuffer(t)}else{if(g(t)){for(var s=0;s<t.length;s++){n(t[s],s,t)}}else{if(typeof t==="object"&&!a(t)){for(var r in t){n(t[r],r,t)}}}}}var k=0;var l=m;n(l);if(!k){o(l)}}}),(function(b,a){var c={}.toString;b.exports=Array.isArray||function(d){return c.call(d)=="[object Array]"}}),(function(d,b){d.exports=f;var e=typeof Buffer==="function"&&typeof Buffer.isBuffer==="function";var c=typeof ArrayBuffer==="function";var a=function(g){return typeof ArrayBuffer.isView==="function"?ArrayBuffer.isView(g):(g.buffer instanceof ArrayBuffer)};function f(g){return(e&&Buffer.isBuffer(g))||(c&&(g instanceof ArrayBuffer||a(g)))}}),(function(f,i,e){var h=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol==="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p};var k=e(13);var d=e(36);var n=e(8);var c=e(7);var j=e(38);var l=e(39);var b=e(3)("socket.io-client:manager");var m=e(35);var g=e(40);var o=Object.prototype.hasOwnProperty;f.exports=a;function a(r,q){if(!(this instanceof a)){return new a(r,q)}if(r&&"object"===(typeof r==="undefined"?"undefined":h(r))){q=r;r=undefined}q=q||{};q.path=q.path||"/socket.io";this.nsps={};this.subs=[];this.opts=q;this.reconnection(q.reconnection!==false);this.reconnectionAttempts(q.reconnectionAttempts||Infinity);this.reconnectionDelay(q.reconnectionDelay||1000);this.reconnectionDelayMax(q.reconnectionDelayMax||5000);this.randomizationFactor(q.randomizationFactor||0.5);this.backoff=new g({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()});this.timeout(null==q.timeout?20000:q.timeout);this.readyState="closed";this.uri=r;this.connecting=[];this.lastPing=null;this.encoding=false;this.packetBuffer=[];var p=q.parser||c;this.encoder=new p.Encoder();this.decoder=new p.Decoder();this.autoConnect=q.autoConnect!==false;if(this.autoConnect){this.open()}}a.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var p in this.nsps){if(o.call(this.nsps,p)){this.nsps[p].emit.apply(this.nsps[p],arguments)}}};a.prototype.updateSocketIds=function(){for(var p in this.nsps){if(o.call(this.nsps,p)){this.nsps[p].id=this.generateId(p)}}};a.prototype.generateId=function(p){return(p==="/"?"":p+"#")+this.engine.id};n(a.prototype);a.prototype.reconnection=function(p){if(!arguments.length){return this._reconnection}this._reconnection=!!p;return this};a.prototype.reconnectionAttempts=function(p){if(!arguments.length){return this._reconnectionAttempts}this._reconnectionAttempts=p;return this};a.prototype.reconnectionDelay=function(p){if(!arguments.length){return this._reconnectionDelay}this._reconnectionDelay=p;this.backoff&&this.backoff.setMin(p);return this};a.prototype.randomizationFactor=function(p){if(!arguments.length){return this._randomizationFactor}this._randomizationFactor=p;this.backoff&&this.backoff.setJitter(p);return this};a.prototype.reconnectionDelayMax=function(p){if(!arguments.length){return this._reconnectionDelayMax}this._reconnectionDelayMax=p;this.backoff&&this.backoff.setMax(p);return this};a.prototype.timeout=function(p){if(!arguments.length){return this._timeout}this._timeout=p;return this};a.prototype.maybeReconnectOnOpen=function(){if(!this.reconnecting&&this._reconnection&&this.backoff.attempts===0){this.reconnect()}};a.prototype.open=a.prototype.connect=function(u,p){b("readyState %s",this.readyState);if(~this.readyState.indexOf("open")){return this}b("opening %s",this.uri);this.engine=k(this.uri,this.opts);var w=this.engine;var x=this;this.readyState="opening";this.skipReconnect=false;var r=j(w,"open",function(){x.onopen();u&&u()});var s=j(w,"error",function(z){b("connect_error");x.cleanup();x.readyState="closed";x.emitAll("connect_error",z);if(u){var y=new Error("Connection error");y.data=z;u(y)}else{x.maybeReconnectOnOpen()}});if(false!==this._timeout){var t=this._timeout;b("connect attempt will timeout after %d",t);var q=setTimeout(function(){b("connect attempt timed out after %d",t);r.destroy();w.close();w.emit("error","timeout");x.emitAll("connect_timeout",t)},t);this.subs.push({destroy:function v(){clearTimeout(q)}})}this.subs.push(r);this.subs.push(s);return this};a.prototype.onopen=function(){b("open");this.cleanup();this.readyState="open";this.emit("open");var p=this.engine;this.subs.push(j(p,"data",l(this,"ondata")));this.subs.push(j(p,"ping",l(this,"onping")));this.subs.push(j(p,"pong",l(this,"onpong")));this.subs.push(j(p,"error",l(this,"onerror")));this.subs.push(j(p,"close",l(this,"onclose")));this.subs.push(j(this.decoder,"decoded",l(this,"ondecoded")))};a.prototype.onping=function(){this.lastPing=new Date();this.emitAll("ping")};a.prototype.onpong=function(){this.emitAll("pong",new Date()-this.lastPing)};a.prototype.ondata=function(p){this.decoder.add(p)};a.prototype.ondecoded=function(p){this.emit("packet",p)};a.prototype.onerror=function(p){b("error",p);this.emitAll("error",p)};a.prototype.socket=function(t,s){var p=this.nsps[t];if(!p){p=new d(this,t,s);this.nsps[t]=p;var r=this;p.on("connecting",q);p.on("connect",function(){p.id=r.generateId(t)});if(this.autoConnect){q()}}function q(){if(!~m(r.connecting,p)){r.connecting.push(p)}}return p};a.prototype.destroy=function(p){var q=m(this.connecting,p);if(~q){this.connecting.splice(q,1)}if(this.connecting.length){return}this.close()};a.prototype.packet=function(q){b("writing packet %j",q);var p=this;if(q.query&&q.type===0){q.nsp+="?"+q.query}if(!p.encoding){p.encoding=true;this.encoder.encode(q,function(s){for(var r=0;r<s.length;r++){p.engine.write(s[r],q.options)}p.encoding=false;p.processPacketQueue()})}else{p.packetBuffer.push(q)}};a.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var p=this.packetBuffer.shift();this.packet(p)}};a.prototype.cleanup=function(){b("cleanup");var r=this.subs.length;for(var p=0;p<r;p++){var q=this.subs.shift();q.destroy()}this.packetBuffer=[];this.encoding=false;this.lastPing=null;this.decoder.destroy()};a.prototype.close=a.prototype.disconnect=function(){b("disconnect");this.skipReconnect=true;this.reconnecting=false;if("opening"===this.readyState){this.cleanup()}this.backoff.reset();this.readyState="closed";if(this.engine){this.engine.close()}};a.prototype.onclose=function(p){b("onclose");this.cleanup();this.backoff.reset();this.readyState="closed";this.emit("close",p);if(this._reconnection&&!this.skipReconnect){this.reconnect()}};a.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect){return this}var p=this;if(this.backoff.attempts>=this._reconnectionAttempts){b("reconnect failed");this.backoff.reset();this.emitAll("reconnect_failed");this.reconnecting=false}else{var q=this.backoff.duration();b("will wait %dms before reconnect attempt",q);this.reconnecting=true;var s=setTimeout(function(){if(p.skipReconnect){return}b("attempting reconnect");p.emitAll("reconnect_attempt",p.backoff.attempts);p.emitAll("reconnecting",p.backoff.attempts);if(p.skipReconnect){return}p.open(function(t){if(t){b("reconnect attempt error");p.reconnecting=false;p.reconnect();p.emitAll("reconnect_error",t.data)}else{b("reconnect success");p.onreconnect()}})},q);this.subs.push({destroy:function r(){clearTimeout(s)}})}};a.prototype.onreconnect=function(){var p=this.backoff.attempts;this.reconnecting=false;this.backoff.reset();this.updateSocketIds();this.emitAll("reconnect",p)}}),(function(b,a,c){b.exports=c(14);b.exports.parser=c(21)}),(function(e,i,d){var h=d(15);var l=d(8);var b=d(3)("engine.io-client:socket");var j=d(35);var a=d(21);var g=d(2);var f=d(29);e.exports=c;function c(n,m){if(!(this instanceof c)){return new c(n,m)}m=m||{};if(n&&"object"===typeof n){m=n;n=null}if(n){n=g(n);m.hostname=n.host;m.secure=n.protocol==="https"||n.protocol==="wss";m.port=n.port;if(n.query){m.query=n.query}}else{if(m.host){m.hostname=g(m.host).host}}this.secure=null!=m.secure?m.secure:(typeof location!=="undefined"&&"https:"===location.protocol);if(m.hostname&&!m.port){m.port=this.secure?"443":"80"}this.agent=m.agent||false;this.hostname=m.hostname||(typeof location!=="undefined"?location.hostname:"localhost");this.port=m.port||(typeof location!=="undefined"&&location.port?location.port:(this.secure?443:80));this.query=m.query||{};if("string"===typeof this.query){this.query=f.decode(this.query)}this.upgrade=false!==m.upgrade;this.path=(m.path||"/engine.io").replace(/\/$/,"")+"/";this.forceJSONP=!!m.forceJSONP;this.jsonp=false!==m.jsonp;this.forceBase64=!!m.forceBase64;this.enablesXDR=!!m.enablesXDR;this.timestampParam=m.timestampParam||"t";this.timestampRequests=m.timestampRequests;this.transports=m.transports||["polling","websocket"];this.transportOptions=m.transportOptions||{};this.readyState="";this.writeBuffer=[];this.prevBufferLen=0;this.policyPort=m.policyPort||843;this.rememberUpgrade=m.rememberUpgrade||false;this.binaryType=null;this.onlyBinaryUpgrades=m.onlyBinaryUpgrades;this.perMessageDeflate=false!==m.perMessageDeflate?(m.perMessageDeflate||{}):false;if(true===this.perMessageDeflate){this.perMessageDeflate={}}if(this.perMessageDeflate&&null==this.perMessageDeflate.threshold){this.perMessageDeflate.threshold=1024}this.pfx=m.pfx||null;this.key=m.key||null;this.passphrase=m.passphrase||null;this.cert=m.cert||null;this.ca=m.ca||null;this.ciphers=m.ciphers||null;this.rejectUnauthorized=m.rejectUnauthorized===undefined?true:m.rejectUnauthorized;this.forceNode=!!m.forceNode;this.isReactNative=(typeof navigator!=="undefined"&&typeof navigator.product==="string"&&navigator.product.toLowerCase()==="reactnative");if(typeof self==="undefined"||this.isReactNative){if(m.extraHeaders&&Object.keys(m.extraHeaders).length>0){this.extraHeaders=m.extraHeaders}if(m.localAddress){this.localAddress=m.localAddress}}this.id=null;this.upgrades=null;this.pingInterval=null;this.pingTimeout=null;this.pingIntervalTimer=null;this.pingTimeoutTimer=null;this.open()}c.priorWebsocketSuccess=false;l(c.prototype);c.protocol=a.protocol;c.Socket=c;c.Transport=d(20);c.transports=d(15);c.parser=d(21);c.prototype.createTransport=function(n){b('creating transport "%s"',n);var o=k(this.query);o.EIO=a.protocol;o.transport=n;var m=this.transportOptions[n]||{};if(this.id){o.sid=this.id}var p=new h[n]({query:o,socket:this,agent:m.agent||this.agent,hostname:m.hostname||this.hostname,port:m.port||this.port,secure:m.secure||this.secure,path:m.path||this.path,forceJSONP:m.forceJSONP||this.forceJSONP,jsonp:m.jsonp||this.jsonp,forceBase64:m.forceBase64||this.forceBase64,enablesXDR:m.enablesXDR||this.enablesXDR,timestampRequests:m.timestampRequests||this.timestampRequests,timestampParam:m.timestampParam||this.timestampParam,policyPort:m.policyPort||this.policyPort,pfx:m.pfx||this.pfx,key:m.key||this.key,passphrase:m.passphrase||this.passphrase,cert:m.cert||this.cert,ca:m.ca||this.ca,ciphers:m.ciphers||this.ciphers,rejectUnauthorized:m.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:m.perMessageDeflate||this.perMessageDeflate,extraHeaders:m.extraHeaders||this.extraHeaders,forceNode:m.forceNode||this.forceNode,localAddress:m.localAddress||this.localAddress,requestTimeout:m.requestTimeout||this.requestTimeout,protocols:m.protocols||void (0),isReactNative:this.isReactNative});return p};function k(n){var p={};for(var m in n){if(n.hasOwnProperty(m)){p[m]=n[m]}}return p}c.prototype.open=function(){var o;if(this.rememberUpgrade&&c.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1){o="websocket"}else{if(0===this.transports.length){var m=this;setTimeout(function(){m.emit("error","No transports available")},0);return}else{o=this.transports[0]}}this.readyState="opening";try{o=this.createTransport(o)}catch(n){this.transports.shift();this.open();return}o.open();this.setTransport(o)};c.prototype.setTransport=function(n){b("setting transport %s",n.name);var m=this;if(this.transport){b("clearing existing transport %s",this.transport.name);this.transport.removeAllListeners()}this.transport=n;n.on("drain",function(){m.onDrain()}).on("packet",function(o){m.onPacket(o)}).on("error",function(o){m.onError(o)}).on("close",function(){m.onClose("transport close")})};c.prototype.probe=function(m){b('probing transport "%s"',m);var p=this.createTransport(m,{probe:1});var r=false;var v=this;c.priorWebsocketSuccess=false;function q(){if(v.onlyBinaryUpgrades){var x=!this.supportsBinary&&v.transport.supportsBinary;r=r||x}if(r){return}b('probe transport "%s" opened',m);p.send([{type:"ping",data:"probe"}]);p.once("packet",function(z){if(r){return}if("pong"===z.type&&"probe"===z.data){b('probe transport "%s" pong',m);v.upgrading=true;v.emit("upgrading",p);if(!p){return}c.priorWebsocketSuccess="websocket"===p.name;b('pausing current transport "%s"',v.transport.name);v.transport.pause(function(){if(r){return}if("closed"===v.readyState){return}b("changing transport and sending upgrade packet");n();v.setTransport(p);p.send([{type:"upgrade"}]);v.emit("upgrade",p);p=null;v.upgrading=false;v.flush()})}else{b('probe transport "%s" failed',m);var y=new Error("probe error");y.transport=p.name;v.emit("upgradeError",y)}})}function t(){if(r){return}r=true;n();p.close();p=null}function s(y){var x=new Error("probe error: "+y);x.transport=p.name;t();b('probe transport "%s" failed because of error: %s',m,y);v.emit("upgradeError",x)}function w(){s("transport closed")}function u(){s("socket closed")}function o(x){if(p&&x.name!==p.name){b('"%s" works - aborting "%s"',x.name,p.name);t()}}function n(){p.removeListener("open",q);p.removeListener("error",s);p.removeListener("close",w);v.removeListener("close",u);v.removeListener("upgrading",o)}p.once("open",q);p.once("error",s);p.once("close",w);this.once("close",u);this.once("upgrading",o);p.open()};c.prototype.onOpen=function(){b("socket open");this.readyState="open";c.priorWebsocketSuccess="websocket"===this.transport.name;this.emit("open");this.flush();if("open"===this.readyState&&this.upgrade&&this.transport.pause){b("starting upgrade probes");for(var n=0,m=this.upgrades.length;n<m;n++){this.probe(this.upgrades[n])}}};c.prototype.onPacket=function(n){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){b('socket receive: type "%s", data "%s"',n.type,n.data);this.emit("packet",n);this.emit("heartbeat");switch(n.type){case"open":this.onHandshake(JSON.parse(n.data));break;case"pong":this.setPing();this.emit("pong");break;case"error":var m=new Error("server error");m.code=n.data;this.onError(m);break;case"message":this.emit("data",n.data);this.emit("message",n.data);break}}else{b('packet received with socket readyState "%s"',this.readyState)}};c.prototype.onHandshake=function(m){this.emit("handshake",m);this.id=m.sid;this.transport.query.sid=m.sid;this.upgrades=this.filterUpgrades(m.upgrades);this.pingInterval=m.pingInterval;this.pingTimeout=m.pingTimeout;this.onOpen();if("closed"===this.readyState){return}this.setPing();this.removeListener("heartbeat",this.onHeartbeat);this.on("heartbeat",this.onHeartbeat)};c.prototype.onHeartbeat=function(n){clearTimeout(this.pingTimeoutTimer);var m=this;m.pingTimeoutTimer=setTimeout(function(){if("closed"===m.readyState){return}m.onClose("ping timeout")},n||(m.pingInterval+m.pingTimeout))};c.prototype.setPing=function(){var m=this;clearTimeout(m.pingIntervalTimer);m.pingIntervalTimer=setTimeout(function(){b("writing ping packet - expecting pong within %sms",m.pingTimeout);m.ping();m.onHeartbeat(m.pingTimeout)},m.pingInterval)};c.prototype.ping=function(){var m=this;this.sendPacket("ping",function(){m.emit("ping")})};c.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen);this.prevBufferLen=0;if(0===this.writeBuffer.length){this.emit("drain")}else{this.flush()}};c.prototype.flush=function(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){b("flushing %d packets in socket",this.writeBuffer.length);this.transport.send(this.writeBuffer);this.prevBufferLen=this.writeBuffer.length;this.emit("flush")}};c.prototype.write=c.prototype.send=function(o,m,n){this.sendPacket("message",o,m,n);return this};c.prototype.sendPacket=function(o,p,m,n){if("function"===typeof p){n=p;p=undefined}if("function"===typeof m){n=m;m=null}if("closing"===this.readyState||"closed"===this.readyState){return}m=m||{};m.compress=false!==m.compress;var q={type:o,data:p,options:m};this.emit("packetCreate",q);this.writeBuffer.push(q);if(n){this.once("flush",n)}this.flush()};c.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var m=this;if(this.writeBuffer.length){this.once("drain",function(){if(this.upgrading){o()}else{p()}})}else{if(this.upgrading){o()}else{p()}}}function p(){m.onClose("forced close");b("socket closing - telling transport to close");m.transport.close()}function n(){m.removeListener("upgrade",n);m.removeListener("upgradeError",n);p()}function o(){m.once("upgrade",n);m.once("upgradeError",n)}return this};c.prototype.onError=function(m){b("socket error %j",m);c.priorWebsocketSuccess=false;this.emit("error",m);this.onClose("transport error",m)};c.prototype.onClose=function(n,o){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){b('socket close with reason: "%s"',n);var m=this;clearTimeout(this.pingIntervalTimer);clearTimeout(this.pingTimeoutTimer);this.transport.removeAllListeners("close");this.transport.close();this.transport.removeAllListeners();this.readyState="closed";this.id=null;this.emit("close",n,o);m.writeBuffer=[];m.prevBufferLen=0}};c.prototype.filterUpgrades=function(o){var p=[];for(var n=0,m=o.length;n<m;n++){if(~j(this.transports,o[n])){p.push(o[n])}}return p}}),(function(c,a,g){var e=g(16);var d=g(18);var h=g(32);var b=g(33);a.polling=f;a.websocket=b;function f(k){var o;var l=false;var j=false;var n=false!==k.jsonp;if(typeof location!=="undefined"){var m="https:"===location.protocol;var i=location.port;if(!i){i=m?443:80}l=k.hostname!==location.hostname||i!==k.port;j=k.secure!==m}k.xdomain=l;k.xscheme=j;o=new e(k);if("open" in o&&!k.forceJSONP){return new d(k)}else{if(!n){throw new Error("JSONP disabled")}return new h(k)}}}),(function(c,b,d){var a=d(17);c.exports=function(i){var h=i.xdomain;var f=i.xscheme;var g=i.enablesXDR;try{if("undefined"!==typeof XMLHttpRequest&&(!h||a)){return new XMLHttpRequest()}}catch(j){}try{if("undefined"!==typeof XDomainRequest&&!f&&g){return new XDomainRequest()}}catch(j){}if(!h){try{return new self[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(j){}}}}),(function(b,a){try{b.exports=typeof XMLHttpRequest!=="undefined"&&"withCredentials" in new XMLHttpRequest()}catch(c){b.exports=false}}),(function(d,e,c){var k=c(16);var l=c(19);var j=c(8);var f=c(30);var b=c(3)("engine.io-client:polling-xhr");d.exports=h;d.exports.Request=a;function i(){}function h(o){l.call(this,o);this.requestTimeout=o.requestTimeout;this.extraHeaders=o.extraHeaders;if(typeof location!=="undefined"){var p="https:"===location.protocol;var n=location.port;if(!n){n=p?443:80}this.xd=(typeof location!=="undefined"&&o.hostname!==location.hostname)||n!==o.port;this.xs=o.secure!==p}}f(h,l);h.prototype.supportsBinary=true;h.prototype.request=function(n){n=n||{};n.uri=this.uri();n.xd=this.xd;n.xs=this.xs;n.agent=this.agent||false;n.supportsBinary=this.supportsBinary;n.enablesXDR=this.enablesXDR;n.pfx=this.pfx;n.key=this.key;n.passphrase=this.passphrase;n.cert=this.cert;n.ca=this.ca;n.ciphers=this.ciphers;n.rejectUnauthorized=this.rejectUnauthorized;n.requestTimeout=this.requestTimeout;n.extraHeaders=this.extraHeaders;return new a(n)};h.prototype.doWrite=function(r,o){var q=typeof r!=="string"&&r!==undefined;var p=this.request({method:"POST",data:r,isBinary:q});var n=this;p.on("success",o);p.on("error",function(s){n.onError("xhr post error",s)});this.sendXhr=p};h.prototype.doPoll=function(){b("xhr poll");var o=this.request();var n=this;o.on("data",function(p){n.onData(p)});o.on("error",function(p){n.onError("xhr poll error",p)});this.pollXhr=o};function a(n){this.method=n.method||"GET";this.uri=n.uri;this.xd=!!n.xd;this.xs=!!n.xs;this.async=false!==n.async;this.data=undefined!==n.data?n.data:null;this.agent=n.agent;this.isBinary=n.isBinary;this.supportsBinary=n.supportsBinary;this.enablesXDR=n.enablesXDR;this.requestTimeout=n.requestTimeout;this.pfx=n.pfx;this.key=n.key;this.passphrase=n.passphrase;this.cert=n.cert;this.ca=n.ca;this.ciphers=n.ciphers;this.rejectUnauthorized=n.rejectUnauthorized;this.extraHeaders=n.extraHeaders;this.create()}j(a.prototype);a.prototype.create=function(){var p={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};p.pfx=this.pfx;p.key=this.key;p.passphrase=this.passphrase;p.cert=this.cert;p.ca=this.ca;p.ciphers=this.ciphers;p.rejectUnauthorized=this.rejectUnauthorized;var r=this.xhr=new k(p);var n=this;try{b("xhr open %s: %s",this.method,this.uri);r.open(this.method,this.uri,this.async);try{if(this.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(true);for(var o in this.extraHeaders){if(this.extraHeaders.hasOwnProperty(o)){r.setRequestHeader(o,this.extraHeaders[o])}}}}catch(q){}if("POST"===this.method){try{if(this.isBinary){r.setRequestHeader("Content-type","application/octet-stream")}else{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}}catch(q){}}try{r.setRequestHeader("Accept","*/*")}catch(q){}if("withCredentials" in r){r.withCredentials=true}if(this.requestTimeout){r.timeout=this.requestTimeout}if(this.hasXDR()){r.onload=function(){n.onLoad()};r.onerror=function(){n.onError(r.responseText)}}else{r.onreadystatechange=function(){if(r.readyState===2){try{var t=r.getResponseHeader("Content-Type");if(n.supportsBinary&&t==="application/octet-stream"){r.responseType="arraybuffer"}}catch(s){}}if(4!==r.readyState){return}if(200===r.status||1223===r.status){n.onLoad()}else{setTimeout(function(){n.onError(r.status)},0)}}}b("xhr data %s",this.data);r.send(this.data)}catch(q){setTimeout(function(){n.onError(q)},0);return}if(typeof document!=="undefined"){this.index=a.requestsCount++;a.requests[this.index]=this}};a.prototype.onSuccess=function(){this.emit("success");this.cleanup()};a.prototype.onData=function(n){this.emit("data",n);this.onSuccess()};a.prototype.onError=function(n){this.emit("error",n);this.cleanup(true)};a.prototype.cleanup=function(n){if("undefined"===typeof this.xhr||null===this.xhr){return}if(this.hasXDR()){this.xhr.onload=this.xhr.onerror=i}else{this.xhr.onreadystatechange=i}if(n){try{this.xhr.abort()}catch(o){}}if(typeof document!=="undefined"){delete a.requests[this.index]}this.xhr=null};a.prototype.onLoad=function(){var n;try{var p;try{p=this.xhr.getResponseHeader("Content-Type")}catch(o){}if(p==="application/octet-stream"){n=this.xhr.response||this.xhr.responseText}else{n=this.xhr.responseText}}catch(o){this.onError(o)}if(null!=n){this.onData(n)}};a.prototype.hasXDR=function(){return typeof XDomainRequest!=="undefined"&&!this.xs&&this.enablesXDR};a.prototype.abort=function(){this.cleanup()};a.requestsCount=0;a.requests={};if(typeof document!=="undefined"){if(typeof attachEvent==="function"){attachEvent("onunload",m)}else{if(typeof addEventListener==="function"){var g="onpagehide" in self?"pagehide":"unload";addEventListener(g,m,false)}}}function m(){for(var n in a.requests){if(a.requests.hasOwnProperty(n)){a.requests[n].abort()}}}}),(function(e,h,c){var j=c(20);var g=c(29);var b=c(21);var i=c(30);var d=c(31);var a=c(3)("engine.io-client:polling");e.exports=k;var f=(function(){var l=c(16);var m=new l({xdomain:false});return null!=m.responseType})();function k(m){var l=(m&&m.forceBase64);if(!f||l){this.supportsBinary=false}j.call(this,m)}i(k,j);k.prototype.name="polling";k.prototype.doOpen=function(){this.poll()};k.prototype.pause=function(l){var m=this;this.readyState="pausing";function o(){a("paused");m.readyState="paused";l()}if(this.polling||!this.writable){var n=0;if(this.polling){a("we are currently polling - waiting to pause");n++;this.once("pollComplete",function(){a("pre-pause polling complete");--n||o()})}if(!this.writable){a("we are currently writing - waiting to pause");n++;this.once("drain",function(){a("pre-pause writing complete");--n||o()})}}else{o()}};k.prototype.poll=function(){a("polling");this.polling=true;this.doPoll();this.emit("poll")};k.prototype.onData=function(m){var l=this;a("polling got data %s",m);var n=function(q,o,p){if("opening"===l.readyState){l.onOpen()}if("close"===q.type){l.onClose();return false}l.onPacket(q)};b.decodePayload(m,this.socket.binaryType,n);if("closed"!==this.readyState){this.polling=false;this.emit("pollComplete");if("open"===this.readyState){this.poll()}else{a('ignoring poll - transport state "%s"',this.readyState)}}};k.prototype.doClose=function(){var l=this;function m(){a("writing close packet");l.write([{type:"close"}])}if("open"===this.readyState){a("transport open - closing");m()}else{a("transport not open - deferring close");this.once("open",m)}};k.prototype.write=function(n){var m=this;this.writable=false;var l=function(){m.writable=true;m.emit("drain")};b.encodePayload(n,this.supportsBinary,function(o){m.doWrite(o,l)})};k.prototype.uri=function(){var o=this.query||{};var n=this.secure?"https":"http";var m="";if(false!==this.timestampRequests){o[this.timestampParam]=d()}if(!this.supportsBinary&&!o.sid){o.b64=1}o=g.encode(o);if(this.port&&(("https"===n&&Number(this.port)!==443)||("http"===n&&Number(this.port)!==80))){m=":"+this.port}if(o.length){o="?"+o}var l=this.hostname.indexOf(":")!==-1;return n+"://"+(l?"["+this.hostname+"]":this.hostname)+m+this.path+o}}),(function(b,a,d){var f=d(21);var c=d(8);b.exports=e;function e(g){this.path=g.path;this.hostname=g.hostname;this.port=g.port;this.secure=g.secure;this.query=g.query;this.timestampParam=g.timestampParam;this.timestampRequests=g.timestampRequests;this.readyState="";this.agent=g.agent||false;this.socket=g.socket;this.enablesXDR=g.enablesXDR;this.pfx=g.pfx;this.key=g.key;this.passphrase=g.passphrase;this.cert=g.cert;this.ca=g.ca;this.ciphers=g.ciphers;this.rejectUnauthorized=g.rejectUnauthorized;this.forceNode=g.forceNode;this.isReactNative=g.isReactNative;this.extraHeaders=g.extraHeaders;this.localAddress=g.localAddress}c(e.prototype);e.prototype.onError=function(i,h){var g=new Error(i);g.type="TransportError";g.description=h;this.emit("error",g);return this};e.prototype.open=function(){if("closed"===this.readyState||""===this.readyState){this.readyState="opening";this.doOpen()}return this};e.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.doClose();this.onClose()}return this};e.prototype.send=function(g){if("open"===this.readyState){this.write(g)}else{throw new Error("Transport not open")}};e.prototype.onOpen=function(){this.readyState="open";this.writable=true;this.emit("open")};e.prototype.onData=function(g){var h=f.decodePacket(g,this.socket.binaryType);this.onPacket(h)};e.prototype.onPacket=function(g){this.emit("packet",g)};e.prototype.onClose=function(){this.readyState="closed";this.emit("close")}}),(function(a,v,d){var m=d(22);var l=d(23);var i=d(24);var e=d(25);var c=d(26);var q;if(typeof ArrayBuffer!=="undefined"){q=d(27)}var t=typeof navigator!=="undefined"&&/Android/i.test(navigator.userAgent);var o=typeof navigator!=="undefined"&&/PhantomJS/i.test(navigator.userAgent);var k=t||o;v.protocol=3;var n=v.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6};var f=m(n);var g={type:"error",data:"parser error"};var h=d(28);v.encodePacket=function(y,B,z,A){if(typeof B==="function"){A=B;B=false}if(typeof z==="function"){A=z;z=null}var w=(y.data===undefined)?undefined:y.data.buffer||y.data;if(typeof ArrayBuffer!=="undefined"&&w instanceof ArrayBuffer){return b(y,B,A)}else{if(typeof h!=="undefined"&&w instanceof h){return r(y,B,A)}}if(w&&w.base64){return p(y,A)}var x=n[y.type];if(undefined!==y.data){x+=z?c.encode(String(y.data),{strict:false}):String(y.data)}return A(""+x)};function p(x,y){var w="b"+v.packets[x.type]+x.data.data;return y(w)}function b(A,C,B){if(!C){return v.encodeBase64Packet(A,B)}var z=A.data;var y=new Uint8Array(z);var x=new Uint8Array(1+z.byteLength);x[0]=n[A.type];for(var w=0;w<y.length;w++){x[w+1]=y[w]}return B(x.buffer)}function s(x,z,y){if(!z){return v.encodeBase64Packet(x,y)}var w=new FileReader();w.onload=function(){v.encodePacket({type:x.type,data:w.result},z,true,y)};return w.readAsArrayBuffer(x.data)}function r(y,A,z){if(!A){return v.encodeBase64Packet(y,z)}if(k){return s(y,A,z)}var x=new Uint8Array(1);x[0]=n[y.type];var w=new h([x.buffer,y.data]);return z(w)}v.encodeBase64Packet=function(w,D){var E="b"+v.packets[w.type];if(typeof h!=="undefined"&&w.data instanceof h){var A=new FileReader();A.onload=function(){var F=A.result.split(",")[1];D(E+F)};return A.readAsDataURL(w.data)}var C;try{C=String.fromCharCode.apply(null,new Uint8Array(w.data))}catch(B){var x=new Uint8Array(w.data);var y=new Array(x.length);for(var z=0;z<x.length;z++){y[z]=x[z]}C=String.fromCharCode.apply(null,y)}E+=btoa(C);return D(E)};v.decodePacket=function(A,B,w){if(A===undefined){return g}if(typeof A==="string"){if(A.charAt(0)==="b"){return v.decodeBase64Packet(A.substr(1),B)}if(w){A=j(A);if(A===false){return g}}var z=A.charAt(0);if(Number(z)!=z||!f[z]){return g}if(A.length>1){return{type:f[z],data:A.substring(1)}}else{return{type:f[z]}}}var x=new Uint8Array(A);var z=x[0];var y=i(A,1);if(h&&B==="blob"){y=new h([y])}return{type:f[z],data:y}};function j(w){try{w=c.decode(w,{strict:false})}catch(x){return false}return w}v.decodeBase64Packet=function(y,z){var w=f[y.charAt(0)];if(!q){return{type:w,data:{base64:true,data:y.substr(1)}}}var x=q.decode(y.substr(1));if(z==="blob"&&h){x=new h([x])}return{type:w,data:x}};v.encodePayload=function(z,B,A){if(typeof B==="function"){A=B;B=null}var y=l(z);if(B&&y){if(h&&!k){return v.encodePayloadAsBlob(z,A)}return v.encodePayloadAsArrayBuffer(z,A)}if(!z.length){return A("0:")}function w(C){return C.length+":"+C}function x(D,C){v.encodePacket(D,!y?false:B,false,function(E){C(null,w(E))})}u(z,x,function(D,C){return A(C.join(""))})};function u(A,C,x){var w=new Array(A.length);var B=e(A.length,x);var y=function(E,F,D){C(F,function(G,H){w[E]=H;D(G,w)})};for(var z=0;z<A.length;z++){y(z,A[z],B)}}v.decodePayload=function(D,w,G){if(typeof D!=="string"){return v.decodePayloadAsBinary(D,w,G)}if(typeof w==="function"){G=w;w=null}var x;if(D===""){return G(g,0,1)}var y="",z,A;for(var E=0,B=D.length;E<B;E++){var C=D.charAt(E);if(C!==":"){y+=C;continue}if(y===""||(y!=(z=Number(y)))){return G(g,0,1)}A=D.substr(E+1,z);if(y!=A.length){return G(g,0,1)}if(A.length){x=v.decodePacket(A,w,false);if(g.type===x.type&&g.data===x.data){return G(g,0,1)}var F=G(x,E+z,B);if(false===F){return}}E+=z;y=""}if(y!==""){return G(g,0,1)}};v.encodePayloadAsArrayBuffer=function(x,y){if(!x.length){return y(new ArrayBuffer(0))}function w(A,z){v.encodePacket(A,true,true,function(B){return z(null,B)})}u(x,w,function(A,C){var D=C.reduce(function(F,G){var E;if(typeof G==="string"){E=G.length}else{E=G.byteLength}return F+E.toString().length+E+2},0);var B=new Uint8Array(D);var z=0;C.forEach(function(I){var E=typeof I==="string";var H=I;if(E){var F=new Uint8Array(I.length);for(var G=0;G<I.length;G++){F[G]=I.charCodeAt(G)}H=F.buffer}if(E){B[z++]=0}else{B[z++]=1}var J=H.byteLength.toString();for(var G=0;G<J.length;G++){B[z++]=parseInt(J[G])}B[z++]=255;var F=new Uint8Array(H);for(var G=0;G<F.length;G++){B[z++]=F[G]}});return y(B.buffer)})};v.encodePayloadAsBlob=function(x,y){function w(A,z){v.encodePacket(A,true,true,function(H){var F=new Uint8Array(1);F[0]=1;if(typeof H==="string"){var C=new Uint8Array(H.length);for(var E=0;E<H.length;E++){C[E]=H.charCodeAt(E)}H=C.buffer;F[0]=0}var B=(H instanceof ArrayBuffer)?H.byteLength:H.size;var I=B.toString();var G=new Uint8Array(I.length+1);for(var E=0;E<I.length;E++){G[E]=parseInt(I[E])}G[I.length]=255;if(h){var D=new h([F.buffer,G.buffer,H]);z(null,D)}})}u(x,w,function(A,z){return y(new h(z))})};v.decodePayloadAsBinary=function(C,w,H){if(typeof w==="function"){H=w;w=null}var G=C;var I=[];while(G.byteLength>0){var x=new Uint8Array(G);var y=x[0]===0;var F="";for(var B=1;;B++){if(x[B]===255){break}if(F.length>310){return H(g,0,1)}F+=x[B]}G=i(G,2+F.length);F=parseInt(F);var A=i(G,0,F);if(y){try{A=String.fromCharCode.apply(null,new Uint8Array(A))}catch(D){var z=new Uint8Array(A);A="";for(var B=0;B<z.length;B++){A+=String.fromCharCode(z[B])}}}I.push(A);G=i(G,F)}var E=I.length;I.forEach(function(J,K){H(v.decodePacket(J,w,true),K,E)})}}),(function(b,a){b.exports=Object.keys||function c(g){var d=[];var e=Object.prototype.hasOwnProperty;for(var f in g){if(e.call(g,f)){d.push(f)}}return d}}),(function(e,c,h){var a=h(10);var g=Object.prototype.toString;var b=typeof Blob==="function"||typeof Blob!=="undefined"&&g.call(Blob)==="[object BlobConstructor]";var d=typeof File==="function"||typeof File!=="undefined"&&g.call(File)==="[object FileConstructor]";e.exports=f;function f(n){if(!n||typeof n!=="object"){return false}if(a(n)){for(var m=0,j=n.length;m<j;m++){if(f(n[m])){return true}}return false}if((typeof Buffer==="function"&&Buffer.isBuffer&&Buffer.isBuffer(n))||(typeof ArrayBuffer==="function"&&n instanceof ArrayBuffer)||(b&&n instanceof Blob)||(d&&n instanceof File)){return true}if(n.toJSON&&typeof n.toJSON==="function"&&arguments.length===1){return f(n.toJSON(),true)}for(var k in n){if(Object.prototype.hasOwnProperty.call(n,k)&&f(n[k])){return true}}return false}}),(function(b,a){b.exports=function(h,k,e){var d=h.byteLength;k=k||0;e=e||d;if(h.slice){return h.slice(k,e)}if(k<0){k+=d}if(e<0){e+=d}if(e>d){e=d}if(k>=d||k>=e||d===0){return new ArrayBuffer(0)}var j=new Uint8Array(h);var c=new Uint8Array(e-k);for(var f=k,g=0;f<e;f++,g++){c[g]=j[f]}return c.buffer}}),(function(b,a){b.exports=d;function d(h,i,g){var e=false;g=g||c;f.count=h;return(h===0)?i():f;function f(k,j){if(f.count<=0){throw new Error("after called too many times")}--f.count;if(k){e=true;i(k);i=g}else{if(f.count===0&&!e){i(null,j)}}}}function c(){}}),(function(e,h){
/*! https://mths.be/utf8js v2.1.2 by @mathias */
var m=String.fromCharCode;function i(s){var r=[];var q=0;var t=s.length;var u;var p;while(q<t){u=s.charCodeAt(q++);if(u>=55296&&u<=56319&&q<t){p=s.charCodeAt(q++);if((p&64512)==56320){r.push(((u&1023)<<10)+(p&1023)+65536)}else{r.push(u);q--}}else{r.push(u)}}return r}function o(t){var r=t.length;var q=-1;var s;var p="";while(++q<r){s=t[q];if(s>65535){s-=65536;p+=m(s>>>10&1023|55296);s=56320|s&1023}p+=m(s)}return p}function n(q,p){if(q>=55296&&q<=57343){if(p){throw Error("Lone surrogate U+"+q.toString(16).toUpperCase()+" is not a scalar value")}return false}return true}function j(q,p){return m(((q>>p)&63)|128)}function k(q,p){if((q&4294967168)==0){return m(q)}var r="";if((q&4294965248)==0){r=m(((q>>6)&31)|192)}else{if((q&4294901760)==0){if(!n(q,p)){q=65533}r=m(((q>>12)&15)|224);r+=j(q,6)}else{if((q&4292870144)==0){r=m(((q>>18)&7)|240);r+=j(q,12);r+=j(q,6)}}}r+=m((q&63)|128);return r}function l(t,v){v=v||{};var p=false!==v.strict;var s=i(t);var u=s.length;var r=-1;var q;var w="";while(++r<u){q=s[r];w+=k(q,p)}return w}function d(){if(a>=b){throw Error("Invalid byte index")}var p=c[a]&255;a++;if((p&192)==128){return p&63}throw Error("Invalid continuation byte")}function g(r){var q;var p;var u;var t;var s;if(a>b){throw Error("Invalid byte index")}if(a==b){return false}q=c[a]&255;a++;if((q&128)==0){return q}if((q&224)==192){p=d();s=((q&31)<<6)|p;if(s>=128){return s}else{throw Error("Invalid continuation byte")}}if((q&240)==224){p=d();u=d();s=((q&15)<<12)|(p<<6)|u;if(s>=2048){return n(s,r)?s:65533}else{throw Error("Invalid continuation byte")}}if((q&248)==240){p=d();u=d();t=d();s=((q&7)<<18)|(p<<12)|(u<<6)|t;if(s>=65536&&s<=1114111){return s}}throw Error("Invalid UTF-8 detected")}var c;var b;var a;function f(t,s){s=s||{};var p=false!==s.strict;c=i(t);b=c.length;a=0;var q=[];var r;while((r=g(p))!==false){q.push(r)}return o(q)}e.exports={version:"2.1.2",encode:l,decode:f}}),(function(b,a){(function(){var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var e=new Uint8Array(256);for(var c=0;c<d.length;c++){e[d.charCodeAt(c)]=c}a.encode=function(k){var h=new Uint8Array(k),j,f=h.length,g="";for(j=0;j<f;j+=3){g+=d[h[j]>>2];g+=d[((h[j]&3)<<4)|(h[j+1]>>4)];g+=d[((h[j+1]&15)<<2)|(h[j+2]>>6)];g+=d[h[j+2]&63]}if((f%3)===2){g=g.substring(0,g.length-1)+"="}else{if(f%3===1){g=g.substring(0,g.length-2)+"=="}}return g};a.decode=function(n){var g=n.length*0.75,o=n.length,m,j=0,k,h,f,r;if(n[n.length-1]==="="){g--;if(n[n.length-2]==="="){g--}}var l=new ArrayBuffer(g),q=new Uint8Array(l);for(m=0;m<o;m+=4){k=e[n.charCodeAt(m)];h=e[n.charCodeAt(m+1)];f=e[n.charCodeAt(m+2)];r=e[n.charCodeAt(m+3)];q[j++]=(k<<2)|(h>>4);q[j++]=((h&15)<<4)|(f>>2);q[j++]=((f&3)<<6)|(r&63)}return l}})()}),(function(a,b){var d=typeof d!=="undefined"?d:typeof WebKitBlobBuilder!=="undefined"?WebKitBlobBuilder:typeof MSBlobBuilder!=="undefined"?MSBlobBuilder:typeof MozBlobBuilder!=="undefined"?MozBlobBuilder:false;var f=(function(){try{var j=new Blob(["hi"]);return j.size===2}catch(k){return false}})();var c=f&&(function(){try{var j=new Blob([new Uint8Array([1,2])]);return j.size===2}catch(k){return false}})();var h=d&&d.prototype.append&&d.prototype.getBlob;function e(j){return j.map(function(l){if(l.buffer instanceof ArrayBuffer){var k=l.buffer;if(l.byteLength!==k.byteLength){var m=new Uint8Array(l.byteLength);m.set(new Uint8Array(k,l.byteOffset,l.byteLength));k=m.buffer}return k}return l})}function i(k,j){j=j||{};var l=new d();e(k).forEach(function(m){l.append(m)});return(j.type)?l.getBlob(j.type):l.getBlob()}function g(k,j){return new Blob(e(k),j||{})}if(typeof Blob!=="undefined"){i.prototype=Blob.prototype;g.prototype=Blob.prototype}a.exports=(function(){if(f){return c?Blob:g}else{if(h){return i}else{return undefined}}})()}),(function(b,a){a.encode=function(d){var e="";for(var c in d){if(d.hasOwnProperty(c)){if(e.length){e+="&"}e+=encodeURIComponent(c)+"="+encodeURIComponent(d[c])}}return e};a.decode=function(c){var f={};var g=c.split("&");for(var e=0,d=g.length;e<d;e++){var h=g[e].split("=");f[decodeURIComponent(h[0])]=decodeURIComponent(h[1])}return f}}),(function(b,a){b.exports=function(d,c){var e=function(){};e.prototype=c.prototype;d.prototype=new e;d.prototype.constructor=d}}),(function(e,h){var f="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),d=64,b={},k=0,j=0,g;function l(i){var m="";do{m=f[i%d]+m;i=Math.floor(i/d)}while(i>0);return m}function a(m){var i=0;for(j=0;j<m.length;j++){i=i*d+b[m.charAt(j)]}return i}function c(){var i=l(+new Date());if(i!==g){return k=0,g=i}return i+"."+l(k++)}for(;j<d;j++){b[f[j]]=j}c.encode=l;c.decode=a;e.exports=c}),(function(b,a,c){(function(d){var l=c(19);var f=c(30);b.exports=h;var i=/\n/g;var e=/\\n/g;var j;function g(){}function k(){return typeof self!=="undefined"?self:typeof window!=="undefined"?window:typeof d!=="undefined"?d:{}}function h(o){l.call(this,o);this.query=this.query||{};if(!j){var n=k();j=n.___eio=(n.___eio||[])}this.index=j.length;var m=this;j.push(function(p){m.onData(p)});this.query.j=this.index;if(typeof addEventListener==="function"){addEventListener("beforeunload",function(){if(m.script){m.script.onerror=g}},false)}}f(h,l);h.prototype.supportsBinary=false;h.prototype.doClose=function(){if(this.script){this.script.parentNode.removeChild(this.script);this.script=null}if(this.form){this.form.parentNode.removeChild(this.form);this.form=null;this.iframe=null}l.prototype.doClose.call(this)};h.prototype.doPoll=function(){var n=this;var m=document.createElement("script");if(this.script){this.script.parentNode.removeChild(this.script);this.script=null}m.async=true;m.src=this.uri();m.onerror=function(q){n.onError("jsonp poll error",q)};var p=document.getElementsByTagName("script")[0];if(p){p.parentNode.insertBefore(m,p)}else{(document.head||document.body).appendChild(m)}this.script=m;var o="undefined"!==typeof navigator&&/gecko/i.test(navigator.userAgent);if(o){setTimeout(function(){var q=document.createElement("iframe");document.body.appendChild(q);document.body.removeChild(q)},100)}};h.prototype.doWrite=function(s,u){var v=this;if(!this.form){var n=document.createElement("form");var o=document.createElement("textarea");var m=this.iframeId="eio_iframe_"+this.index;var r;n.className="socketio";n.style.position="absolute";n.style.top="-1000px";n.style.left="-1000px";n.target=m;n.method="POST";n.setAttribute("accept-charset","utf-8");o.name="d";n.appendChild(o);document.body.appendChild(n);this.form=n;this.area=o}this.form.action=this.uri();function p(){q();u()}function q(){if(v.iframe){try{v.form.removeChild(v.iframe)}catch(x){v.onError("jsonp polling iframe removal error",x)}}try{var w='<iframe src="javascript:0" name="'+v.iframeId+'">';r=document.createElement(w)}catch(x){r=document.createElement("iframe");r.name=v.iframeId;r.src="javascript:0"}r.id=v.iframeId;v.form.appendChild(r);v.iframe=r}q();s=s.replace(e,"\\\n");this.area.value=s.replace(i,"\\n");try{this.form.submit()}catch(t){}if(this.iframe.attachEvent){this.iframe.onreadystatechange=function(){if(v.iframe.readyState==="complete"){p()}}}else{this.iframe.onload=p}}}.call(a,(function(){return this}())))}),(function(g,i,d){var k=d(20);var b=d(21);var h=d(29);var j=d(30);var f=d(31);var a=d(3)("engine.io-client:websocket");var o,n;if(typeof self==="undefined"){try{n=d(34)}catch(l){}}else{o=self.WebSocket||self.MozWebSocket}var m=o||n;g.exports=c;function c(p){var e=(p&&p.forceBase64);if(e){this.supportsBinary=false}this.perMessageDeflate=p.perMessageDeflate;this.usingBrowserWebSocket=o&&!p.forceNode;this.protocols=p.protocols;if(!this.usingBrowserWebSocket){m=n}k.call(this,p)}j(c,k);c.prototype.name="websocket";c.prototype.supportsBinary=true;c.prototype.doOpen=function(){if(!this.check()){return}var r=this.uri();var q=this.protocols;var p={agent:this.agent,perMessageDeflate:this.perMessageDeflate};p.pfx=this.pfx;p.key=this.key;p.passphrase=this.passphrase;p.cert=this.cert;p.ca=this.ca;p.ciphers=this.ciphers;p.rejectUnauthorized=this.rejectUnauthorized;if(this.extraHeaders){p.headers=this.extraHeaders}if(this.localAddress){p.localAddress=this.localAddress}try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?(q?new m(r,q):new m(r)):new m(r,q,p)}catch(e){return this.emit("error",e)}if(this.ws.binaryType===undefined){this.supportsBinary=false}if(this.ws.supports&&this.ws.supports.binary){this.supportsBinary=true;this.ws.binaryType="nodebuffer"}else{this.ws.binaryType="arraybuffer"}this.addEventListeners()};c.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()};this.ws.onclose=function(){e.onClose()};this.ws.onmessage=function(p){e.onData(p.data)};this.ws.onerror=function(p){e.onError("websocket error",p)}};c.prototype.write=function(t){var q=this;this.writable=false;var s=t.length;for(var r=0,p=s;r<p;r++){(function(u){b.encodePacket(u,q.supportsBinary,function(x){if(!q.usingBrowserWebSocket){var w={};if(u.options){w.compress=u.options.compress}if(q.perMessageDeflate){var v="string"===typeof x?Buffer.byteLength(x):x.length;if(v<q.perMessageDeflate.threshold){w.compress=false}}}try{if(q.usingBrowserWebSocket){q.ws.send(x)}else{q.ws.send(x,w)}}catch(y){a("websocket closed before onclose event")}--s||e()})})(t[r])}function e(){q.emit("flush");setTimeout(function(){q.writable=true;q.emit("drain")},0)}};c.prototype.onClose=function(){k.prototype.onClose.call(this)};c.prototype.doClose=function(){if(typeof this.ws!=="undefined"){this.ws.close()}};c.prototype.uri=function(){var r=this.query||{};var q=this.secure?"wss":"ws";var p="";if(this.port&&(("wss"===q&&Number(this.port)!==443)||("ws"===q&&Number(this.port)!==80))){p=":"+this.port}if(this.timestampRequests){r[this.timestampParam]=f()}if(!this.supportsBinary){r.b64=1}r=h.encode(r);if(r.length){r="?"+r}var e=this.hostname.indexOf(":")!==-1;return q+"://"+(e?"["+this.hostname+"]":this.hostname)+p+this.path+r};c.prototype.check=function(){return !!m&&!("__initialize" in m&&this.name===c.prototype.name)}}),(function(b,a){}),(function(b,a){var c=[].indexOf;b.exports=function(d,f){if(c){return d.indexOf(f)}for(var e=0;e<d.length;++e){if(d[e]===f){return e}}return -1}}),(function(e,i,d){var g=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol==="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p};var b=d(7);var m=d(8);var h=d(37);var k=d(38);var l=d(39);var a=d(3)("socket.io-client:socket");var f=d(29);var j=d(23);e.exports=i=c;var o={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1};var n=m.prototype.emit;function c(r,q,p){this.io=r;this.nsp=q;this.json=this;this.ids=0;this.acks={};this.receiveBuffer=[];this.sendBuffer=[];this.connected=false;this.disconnected=true;this.flags={};if(p&&p.query){this.query=p.query}if(this.io.autoConnect){this.open()}}m(c.prototype);c.prototype.subEvents=function(){if(this.subs){return}var p=this.io;this.subs=[k(p,"open",l(this,"onopen")),k(p,"packet",l(this,"onpacket")),k(p,"close",l(this,"onclose"))]};c.prototype.open=c.prototype.connect=function(){if(this.connected){return this}this.subEvents();this.io.open();if("open"===this.io.readyState){this.onopen()}this.emit("connecting");return this};c.prototype.send=function(){var p=h(arguments);p.unshift("message");this.emit.apply(this,p);return this};c.prototype.emit=function(q){if(o.hasOwnProperty(q)){n.apply(this,arguments);return this}var p=h(arguments);var r={type:(this.flags.binary!==undefined?this.flags.binary:j(p))?b.BINARY_EVENT:b.EVENT,data:p};r.options={};r.options.compress=!this.flags||false!==this.flags.compress;if("function"===typeof p[p.length-1]){a("emitting packet with ack id %d",this.ids);this.acks[this.ids]=p.pop();r.id=this.ids++}if(this.connected){this.packet(r)}else{this.sendBuffer.push(r)}this.flags={};return this};c.prototype.packet=function(p){p.nsp=this.nsp;this.io.packet(p)};c.prototype.onopen=function(){a("transport is open - connecting");if("/"!==this.nsp){if(this.query){var p=g(this.query)==="object"?f.encode(this.query):this.query;a("sending connect packet with query %s",p);this.packet({type:b.CONNECT,query:p})}else{this.packet({type:b.CONNECT})}}};c.prototype.onclose=function(p){a("close (%s)",p);this.connected=false;this.disconnected=true;delete this.id;this.emit("disconnect",p)};c.prototype.onpacket=function(r){var q=r.nsp===this.nsp;var p=r.type===b.ERROR&&r.nsp==="/";if(!q&&!p){return}switch(r.type){case b.CONNECT:this.onconnect();break;case b.EVENT:this.onevent(r);break;case b.BINARY_EVENT:this.onevent(r);break;case b.ACK:this.onack(r);break;case b.BINARY_ACK:this.onack(r);break;case b.DISCONNECT:this.ondisconnect();break;case b.ERROR:this.emit("error",r.data);break}};c.prototype.onevent=function(q){var p=q.data||[];a("emitting event %j",p);if(null!=q.id){a("attaching ack callback to event");p.push(this.ack(q.id))}if(this.connected){n.apply(this,p)}else{this.receiveBuffer.push(p)}};c.prototype.ack=function(r){var p=this;var q=false;return function(){if(q){return}q=true;var s=h(arguments);a("sending ack %j",s);p.packet({type:j(s)?b.BINARY_ACK:b.ACK,id:r,data:s})}};c.prototype.onack=function(p){var q=this.acks[p.id];if("function"===typeof q){a("calling ack %s with %j",p.id,p.data);q.apply(this,p.data);delete this.acks[p.id]}else{a("bad ack %s",p.id)}};c.prototype.onconnect=function(){this.connected=true;this.disconnected=false;this.emit("connect");this.emitBuffered()};c.prototype.emitBuffered=function(){var p;for(p=0;p<this.receiveBuffer.length;p++){n.apply(this,this.receiveBuffer[p])}this.receiveBuffer=[];for(p=0;p<this.sendBuffer.length;p++){this.packet(this.sendBuffer[p])}this.sendBuffer=[]};c.prototype.ondisconnect=function(){a("server disconnect (%s)",this.nsp);this.destroy();this.onclose("io server disconnect")};c.prototype.destroy=function(){if(this.subs){for(var p=0;p<this.subs.length;p++){this.subs[p].destroy()}this.subs=null}this.io.destroy(this)};c.prototype.close=c.prototype.disconnect=function(){if(this.connected){a("performing disconnect (%s)",this.nsp);this.packet({type:b.DISCONNECT})}this.destroy();if(this.connected){this.onclose("io client disconnect")}return this};c.prototype.compress=function(p){this.flags.compress=p;return this};c.prototype.binary=function(p){this.flags.binary=p;return this}}),(function(c,a){c.exports=b;function b(f,d){var g=[];d=d||0;for(var e=d||0;e<f.length;e++){g[e-d]=f[e]}return g}}),(function(c,b){c.exports=a;function a(g,f,e){g.on(f,e);return{destroy:function d(){g.removeListener(f,e)}}}}),(function(b,a){var c=[].slice;b.exports=function(f,e){if("string"==typeof e){e=f[e]}if("function"!=typeof e){throw new Error("bind() requires a function")}var d=c.call(arguments,2);return function(){return e.apply(f,d.concat(c.call(arguments)))}}}),(function(b,a){b.exports=c;function c(d){d=d||{};this.ms=d.min||100;this.max=d.max||10000;this.factor=d.factor||2;this.jitter=d.jitter>0&&d.jitter<=1?d.jitter:0;this.attempts=0}c.prototype.duration=function(){var d=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random();var f=Math.floor(e*this.jitter*d);d=(Math.floor(e*10)&1)==0?d-f:d+f}return Math.min(d,this.max)|0};c.prototype.reset=function(){this.attempts=0};c.prototype.setMin=function(d){this.ms=d};c.prototype.setMax=function(d){this.max=d};c.prototype.setJitter=function(d){this.jitter=d}})])});