(function(){if(typeof angular==="undefined"){return}angular.module("bsTable",[]).constant("uiBsTables",{bsTables:{}}).directive("bsTableControl",["uiBsTables",function(h){var l=".bootstrap-table";var m=".fixed-table-body";var n=".search input";var i=h.bsTables;function k(a){var b;$.each(i,function(c,d){if(!d.$el.closest(l).has(a).length){return}b=d;return true});return b}$(window).resize(function(){$.each(i,function(a,b){b.$el.bootstrapTable("resetView")})});function j(){var b=this;var a=b.$s.bsTableControl.state;b.$s.$applyAsync(function(){a.scroll=b.$el.bootstrapTable("getScrollPosition")})}$(document).on("post-header.bs.table",l+" table",function(a){var b=k(a.target);if(!b){return}b.$el.closest(l).find(m).on("scroll",j.bind(b))}).on("sort.bs.table",l+" table",function(b,d,a){var c=k(b.target);if(!c){return}var e=c.$s.bsTableControl.state;c.$s.$applyAsync(function(){e.sortName=d;e.sortOrder=a})}).on("page-change.bs.table",l+" table",function(e,a,b){var c=k(e.target);if(!c){return}var d=c.$s.bsTableControl.state;c.$s.$applyAsync(function(){d.pageNumber=a;d.pageSize=b})}).on("search.bs.table",l+" table",function(a,c){var b=k(a.target);if(!b){return}var d=b.$s.bsTableControl.state;b.$s.$applyAsync(function(){d.searchText=c})}).on("focus blur",l+" "+n,function(c){var a=k(c.target);if(!a){return}var b=a.$s.bsTableControl.state;a.$s.$applyAsync(function(){b.searchHasFocus=$(c.target).is(":focus")})});return{restrict:"EA",scope:{bsTableControl:"="},link:function(a,b){var c=i[a.$id]={$s:a,$el:b};a.instantiated=false;a.$watch("bsTableControl.options",function(e){if(!e){e=a.bsTableControl.options={}}var d=a.bsTableControl.state||{};if(a.instantiated){b.bootstrapTable("destroy")}b.bootstrapTable(angular.extend(angular.copy(e),d));a.instantiated=true;if("scroll" in d){b.bootstrapTable("scrollTo",d.scroll)}if("searchHasFocus" in d){b.closest(l).find(n).focus()}},true);a.$watch("bsTableControl.state",function(d){if(!d){d=a.bsTableControl.state={}}b.trigger("directive-updated.bs.table",[d])},true);a.$on("$destroy",function(){delete i[a.$id]})}}}])})();