!function(m){var k=function(){if(!Array.prototype.filter){Array.prototype.filter=function(c){if(this===void 0||this===null){throw new TypeError()}var g=Object(this);var e=g.length>>>0;if(typeof c!=="function"){throw new TypeError()}var a=[];var d=arguments.length>=2?arguments[1]:void 0;for(var b=0;b<e;b++){if(b in g){var f=g[b];if(c.call(d,f,b,g)){a.push(f)}}}return a}}};m.extend(m.fn.bootstrapTable.defaults,{reorderableColumns:false,maxMovingRows:10,onReorderColumn:function(a){return false},dragaccept:null});m.extend(m.fn.bootstrapTable.Constructor.EVENTS,{"reorder-column.bs.table":"onReorderColumn"});var i=m.fn.bootstrapTable.Constructor,n=i.prototype.initHeader,j=i.prototype.toggleColumn,l=i.prototype.toggleView,h=i.prototype.resetView;i.prototype.initHeader=function(){n.apply(this,Array.prototype.slice.apply(arguments));if(!this.options.reorderableColumns){return}this.makeRowsReorderable()};i.prototype.toggleColumn=function(){j.apply(this,Array.prototype.slice.apply(arguments));if(!this.options.reorderableColumns){return}this.makeRowsReorderable()};i.prototype.toggleView=function(){l.apply(this,Array.prototype.slice.apply(arguments));if(!this.options.reorderableColumns){return}if(this.options.cardView){return}this.makeRowsReorderable()};i.prototype.resetView=function(){h.apply(this,Array.prototype.slice.apply(arguments));if(!this.options.reorderableColumns){return}this.makeRowsReorderable()};i.prototype.makeRowsReorderable=function(){var b=this;try{m(this.$el).dragtable("destroy")}catch(a){}m(this.$el).dragtable({maxMovingRows:b.options.maxMovingRows,dragaccept:b.options.dragaccept,clickDelay:200,beforeStop:function(){var e=[],d=[],r=[],f=[],q=-1,g=[];b.$header.find("th").each(function(o){e.push(m(this).data("field"));d.push(m(this).data("formatter"))});if(e.length<b.columns.length){f=m.grep(b.columns,function(o){return !o.visible});for(var c=0;c<f.length;c++){e.push(f[c].field);d.push(f[c].formatter)}}for(var c=0;c<this.length;c++){q=b.fieldsColumnsIndex[e[c]];if(q!==-1){b.columns[q].fieldIndex=c;r.push(b.columns[q]);b.columns.splice(q,1)}}b.columns=b.columns.concat(r);k();m.each(b.columns,function(v,u){var p=false,o=u.field;b.options.columns[0].filter(function(s){if(!p&&s.field==o){g.push(s);p=true;return false}else{return true}})});b.options.columns[0]=g;b.header.fields=e;b.header.formatters=d;b.initHeader();b.initToolbar();b.initBody();b.resetView();b.trigger("reorder-column",e)}})}}(jQuery);