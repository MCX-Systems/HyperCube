(function(){if(typeof angular==="undefined"){return}angular.module("bsTable",[]).constant("uiBsTables",{bsTables:{}}).directive("bsTableControl",["uiBsTables",function(b){var e=".bootstrap-table";var d=".fixed-table-body";var c=".search input";var a=b.bsTables;function f(i){var h;$.each(a,function(k,j){if(!j.$el.closest(e).has(i).length){return}h=j;return true});return h}$(window).resize(function(){$.each(a,function(i,h){h.$el.bootstrapTable("resetView")})});function g(){var h=this;var i=h.$s.bsTableControl.state;h.$s.$applyAsync(function(){i.scroll=h.$el.bootstrapTable("getScrollPosition")})}$(document).on("post-header.bs.table",e+" table",function(i){var h=f(i.target);if(!h){return}h.$el.closest(e).find(d).on("scroll",g.bind(h))}).on("sort.bs.table",e+" table",function(k,i,l){var j=f(k.target);if(!j){return}var h=j.$s.bsTableControl.state;j.$s.$applyAsync(function(){h.sortName=i;h.sortOrder=l})}).on("page-change.bs.table",e+" table",function(h,l,k){var j=f(h.target);if(!j){return}var i=j.$s.bsTableControl.state;j.$s.$applyAsync(function(){i.pageNumber=l;i.pageSize=k})}).on("search.bs.table",e+" table",function(k,i){var j=f(k.target);if(!j){return}var h=j.$s.bsTableControl.state;j.$s.$applyAsync(function(){h.searchText=i})}).on("focus blur",e+" "+c,function(h){var j=f(h.target);if(!j){return}var i=j.$s.bsTableControl.state;j.$s.$applyAsync(function(){i.searchHasFocus=$(h.target).is(":focus")})});return{restrict:"EA",scope:{bsTableControl:"="},link:function(j,i){var h=a[j.$id]={$s:j,$el:i};j.instantiated=false;j.$watch("bsTableControl.options",function(k){if(!k){k=j.bsTableControl.options={}}var l=j.bsTableControl.state||{};if(j.instantiated){i.bootstrapTable("destroy")}i.bootstrapTable(angular.extend(angular.copy(k),l));j.instantiated=true;if("scroll" in l){i.bootstrapTable("scrollTo",l.scroll)}if("searchHasFocus" in l){i.closest(e).find(c).focus()}},true);j.$watch("bsTableControl.state",function(k){if(!k){k=j.bsTableControl.state={}}i.trigger("directive-updated.bs.table",[k])},true);j.$on("$destroy",function(){delete a[j.$id]})}}}])})();