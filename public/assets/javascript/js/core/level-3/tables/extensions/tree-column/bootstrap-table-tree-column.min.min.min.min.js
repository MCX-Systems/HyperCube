!function(f){f.extend(f.fn.bootstrapTable.defaults,{treeShowField:null,idField:"id",parentIdField:"pid",treeVerticalcls:"vertical",treeVerticalLastcls:"vertical last",treeSpacecls:"space",treeNodecls:"node",treeCellcls:"treenode",treeTextcls:"text",onTreeFormatter:function(a){var c=this,b=c.options,m=a._level||0,n=a._parent&&a._parent._level||0,d=[];for(var e=0;e<n;e++){d.push('<i class="'+b.treeVerticalcls+'"></i>');d.push('<i class="'+b.treeSpacecls+'"></i>')}for(var e=n;e<m;e++){if(a._last&&e===(m-1)){d.push('<i class="'+b.treeVerticalLastcls+'"></i>')}else{d.push('<i class="'+b.treeVerticalcls+'"></i>')}d.push('<i class="'+b.treeNodecls+'"></i>')}return d.join("")},onGetNodes:function(c,d){var a=this;var b=[];f.each(d,function(l,e){if(c[a.options.idField]===e[a.options.parentIdField]){b.push(e)}});return b},onCheckLeaf:function(a,b){if(a.isLeaf!==undefined){return a.isLeaf}return !a._nodes||!a._nodes.length},onCheckRoot:function(b,c){var a=this;return !b[a.options.parentIdField]}});var h=f.fn.bootstrapTable.Constructor,i=h.prototype.initRow,g=h.prototype.initHeader;h.prototype.initHeader=function(){var a=this;g.apply(a,Array.prototype.slice.apply(arguments));var b=a.options.treeShowField;if(b){f.each(this.header.fields,function(e,c){if(b===c){a.treeEnable=true;var d=a.header.formatters[e];var l=[a.options.treeCellcls];if(a.header.classes[e]){l.push(a.header.classes[e].split('"')[1]||"")}a.header.classes[e]='class="'+l.join(" ")+'"';a.header.formatters[e]=function(q,p,s){var k=[a.options.onTreeFormatter.apply(a,[p])];k.push('<span class="'+a.options.treeTextcls+'">');if(d){k.push(d.apply(this,Array.prototype.slice.apply(arguments)))}else{k.push(q)}k.push("</span>");return k.join("")};return false}})}};var j=function(b,c,p,q){var e=this;var a=e.options.onGetNodes.apply(e,[b,p]);b._nodes=a;q.append(i.apply(e,[b,c,p,q]));var d=a.length-1;for(var o=0;o<=d;o++){var r=a[o];r._level=b._level+1;r._parent=b;if(o===d){r._last=1}j.apply(e,[r,f.inArray(r,p),p,q])}};h.prototype.initRow=function(a,c,e,d){var b=this;if(b.treeEnable){if(b.options.onCheckRoot.apply(b,[a,e])){if(a._level===undefined){a._level=0}j.apply(b,[a,c,e,d]);return true}return false}return i.apply(b,Array.prototype.slice.apply(arguments))}}(jQuery);