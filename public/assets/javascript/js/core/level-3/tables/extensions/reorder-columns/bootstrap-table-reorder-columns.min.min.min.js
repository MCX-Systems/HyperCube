!function(a){var c=function(){if(!Array.prototype.filter){Array.prototype.filter=function(n){if(this===void 0||this===null){throw new TypeError()}var j=Object(this);var l=j.length>>>0;if(typeof n!=="function"){throw new TypeError()}var i=[];var m=arguments.length>=2?arguments[1]:void 0;for(var h=0;h<l;h++){if(h in j){var k=j[h];if(n.call(m,k,h,j)){i.push(k)}}}return i}}};a.extend(a.fn.bootstrapTable.defaults,{reorderableColumns:false,maxMovingRows:10,onReorderColumn:function(h){return false},dragaccept:null});a.extend(a.fn.bootstrapTable.Constructor.EVENTS,{"reorder-column.bs.table":"onReorderColumn"});var e=a.fn.bootstrapTable.Constructor,g=e.prototype.initHeader,d=e.prototype.toggleColumn,b=e.prototype.toggleView,f=e.prototype.resetView;e.prototype.initHeader=function(){g.apply(this,Array.prototype.slice.apply(arguments));if(!this.options.reorderableColumns){return}this.makeRowsReorderable()};e.prototype.toggleColumn=function(){d.apply(this,Array.prototype.slice.apply(arguments));if(!this.options.reorderableColumns){return}this.makeRowsReorderable()};e.prototype.toggleView=function(){b.apply(this,Array.prototype.slice.apply(arguments));if(!this.options.reorderableColumns){return}if(this.options.cardView){return}this.makeRowsReorderable()};e.prototype.resetView=function(){f.apply(this,Array.prototype.slice.apply(arguments));if(!this.options.reorderableColumns){return}this.makeRowsReorderable()};e.prototype.makeRowsReorderable=function(){var h=this;try{a(this.$el).dragtable("destroy")}catch(i){}a(this.$el).dragtable({maxMovingRows:h.options.maxMovingRows,dragaccept:h.options.dragaccept,clickDelay:200,beforeStop:function(){var n=[],o=[],k=[],m=[],l=-1,j=[];h.$header.find("th").each(function(q){n.push(a(this).data("field"));o.push(a(this).data("formatter"))});if(n.length<h.columns.length){m=a.grep(h.columns,function(q){return !q.visible});for(var p=0;p<m.length;p++){n.push(m[p].field);o.push(m[p].formatter)}}for(var p=0;p<this.length;p++){l=h.fieldsColumnsIndex[n[p]];if(l!==-1){h.columns[l].fieldIndex=p;k.push(h.columns[l]);h.columns.splice(l,1)}}h.columns=h.columns.concat(k);c();a.each(h.columns,function(q,r){var s=false,t=r.field;h.options.columns[0].filter(function(u){if(!s&&u.field==t){j.push(u);s=true;return false}else{return true}})});h.options.columns[0]=j;h.header.fields=n;h.header.formatters=o;h.initHeader();h.initToolbar();h.initBody();h.resetView();h.trigger("reorder-column",n)}})}}(jQuery);