!function(b){b.extend(b.fn.bootstrapTable.defaults,{treeShowField:null,idField:"id",parentIdField:"pid",treeVerticalcls:"vertical",treeVerticalLastcls:"vertical last",treeSpacecls:"space",treeNodecls:"node",treeCellcls:"treenode",treeTextcls:"text",onTreeFormatter:function(l){var j=this,k=j.options,g=l._level||0,f=l._parent&&l._parent._level||0,i=[];for(var h=0;h<f;h++){i.push('<i class="'+k.treeVerticalcls+'"></i>');i.push('<i class="'+k.treeSpacecls+'"></i>')}for(var h=f;h<g;h++){if(l._last&&h===(g-1)){i.push('<i class="'+k.treeVerticalLastcls+'"></i>')}else{i.push('<i class="'+k.treeVerticalcls+'"></i>')}i.push('<i class="'+k.treeNodecls+'"></i>')}return i.join("")},onGetNodes:function(g,f){var i=this;var h=[];b.each(f,function(j,k){if(g[i.options.idField]===k[i.options.parentIdField]){h.push(k)}});return h},onCheckLeaf:function(g,f){if(g.isLeaf!==undefined){return g.isLeaf}return !g._nodes||!g._nodes.length},onCheckRoot:function(g,f){var h=this;return !g[h.options.parentIdField]}});var e=b.fn.bootstrapTable.Constructor,d=e.prototype.initRow,a=e.prototype.initHeader;e.prototype.initHeader=function(){var g=this;a.apply(g,Array.prototype.slice.apply(arguments));var f=g.options.treeShowField;if(f){b.each(this.header.fields,function(i,k){if(f===k){g.treeEnable=true;var j=g.header.formatters[i];var h=[g.options.treeCellcls];if(g.header.classes[i]){h.push(g.header.classes[i].split('"')[1]||"")}g.header.classes[i]='class="'+h.join(" ")+'"';g.header.formatters[i]=function(o,r,n){var m=[g.options.onTreeFormatter.apply(g,[r])];m.push('<span class="'+g.options.treeTextcls+'">');if(j){m.push(j.apply(this,Array.prototype.slice.apply(arguments)))}else{m.push(o)}m.push("</span>");return m.join("")};return false}})}};var c=function(m,l,h,g){var j=this;var n=j.options.onGetNodes.apply(j,[m,h]);m._nodes=n;g.append(d.apply(j,[m,l,h,g]));var k=n.length-1;for(var i=0;i<=k;i++){var f=n[i];f._level=m._level+1;f._parent=m;if(i===k){f._last=1}c.apply(j,[f,b.inArray(f,h),h,g])}};e.prototype.initRow=function(j,h,f,g){var i=this;if(i.treeEnable){if(i.options.onCheckRoot.apply(i,[j,f])){if(j._level===undefined){j._level=0}c.apply(i,[j,h,f,g]);return true}return false}return d.apply(i,Array.prototype.slice.apply(arguments))}}(jQuery);