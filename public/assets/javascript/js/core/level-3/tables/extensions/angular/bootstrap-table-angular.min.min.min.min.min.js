(function(){if(typeof angular==="undefined"){return}angular.module("bsTable",[]).constant("uiBsTables",{bsTables:{}}).directive("bsTableControl",["uiBsTables",function(f){var b=".bootstrap-table";var a=".fixed-table-body";var g=".search input";var e=f.bsTables;function c(i){var h;$.each(e,function(k,j){if(!j.$el.closest(b).has(i).length){return}h=j;return true});return h}$(window).resize(function(){$.each(e,function(i,h){h.$el.bootstrapTable("resetView")})});function d(){var h=this;var i=h.$s.bsTableControl.state;h.$s.$applyAsync(function(){i.scroll=h.$el.bootstrapTable("getScrollPosition")})}$(document).on("post-header.bs.table",b+" table",function(i){var h=c(i.target);if(!h){return}h.$el.closest(b).find(a).on("scroll",d.bind(h))}).on("sort.bs.table",b+" table",function(h,k,i){var l=c(h.target);if(!l){return}var j=l.$s.bsTableControl.state;l.$s.$applyAsync(function(){j.sortName=k;j.sortOrder=i})}).on("page-change.bs.table",b+" table",function(j,i,h){var l=c(j.target);if(!l){return}var k=l.$s.bsTableControl.state;l.$s.$applyAsync(function(){k.pageNumber=i;k.pageSize=h})}).on("search.bs.table",b+" table",function(i,k){var h=c(i.target);if(!h){return}var j=h.$s.bsTableControl.state;h.$s.$applyAsync(function(){j.searchText=k})}).on("focus blur",b+" "+g,function(j){var i=c(j.target);if(!i){return}var h=i.$s.bsTableControl.state;i.$s.$applyAsync(function(){h.searchHasFocus=$(j.target).is(":focus")})});return{restrict:"EA",scope:{bsTableControl:"="},link:function(i,h){var j=e[i.$id]={$s:i,$el:h};i.instantiated=false;i.$watch("bsTableControl.options",function(k){if(!k){k=i.bsTableControl.options={}}var l=i.bsTableControl.state||{};if(i.instantiated){h.bootstrapTable("destroy")}h.bootstrapTable(angular.extend(angular.copy(k),l));i.instantiated=true;if("scroll" in l){h.bootstrapTable("scrollTo",l.scroll)}if("searchHasFocus" in l){h.closest(b).find(g).focus()}},true);i.$watch("bsTableControl.state",function(k){if(!k){k=i.bsTableControl.state={}}h.trigger("directive-updated.bs.table",[k])},true);i.$on("$destroy",function(){delete e[i.$id]})}}}])})();