!function(c){var b,q="data-tt-id",g="data-tt-parent-id",a={},e=undefined;var m=function(r,s){var t=r.$body.find("tr").not("[data-tt-parent-id]");for(var u=0;u<t.length;u++){if(u===s){return c(t[u]).attr("data-tt-id")}}return undefined};var k=function(r,s){var t={};c.each(s,function(u,v){if(!v.IsParent){for(var w in v){if(!isNaN(parseFloat(v[w]))){if(r.columns[r.fieldsColumnsIndex[w]].groupBySumGroup){if(t[w]===undefined){t[w]=0}t[w]+=+v[w]}}}}});return t};var d=function(s,r){b.apply([s,r]);a[q.toString()]=r;if(!s.IsParent){a[g.toString()]=e===undefined?r:e}else{e=r;delete a[g.toString()]}return a};var j=function(){Object.keys=function(s){if(s!==Object(s)){throw new TypeError("Object.keys called on a non-object")}var t=[],r;for(r in s){if(Object.prototype.hasOwnProperty.call(s,r)){t.push(r)}}return t}};var l=function(s,r){var t=[];for(var u=0;u<s.options.groupByField.length;u++){t.push(r[s.options.groupByField[u]])}return t};var f=function(s,t,v){var u={};for(var r=0;r<s.options.groupByField.length;r++){u[s.options.groupByField[r].toString()]=t[v][0][s.options.groupByField[r]]}u.IsParent=true;return u};var p=function(s,r){var t={};c.each(s,function(u,w){var v=JSON.stringify(r(w));t[v]=t[v]||[];t[v].push(w)});return Object.keys(t).map(function(u){return t[u]})};var h=function(r,s){var w=[],u={};var t=p(s,function(x){return l(r,x)});for(var v=0;v<t.length;v++){t[v].unshift(f(r,t,v));if(r.options.groupBySumGroup){u=k(r,t[v]);if(!c.isEmptyObject(u)){t[v].push(u)}}}w=w.concat.apply(w,t);if(!r.options.loaded&&w.length>0){r.options.loaded=true;r.options.originalData=r.options.data;r.options.data=w}return w};c.extend(c.fn.bootstrapTable.defaults,{groupBy:false,groupByField:[],groupBySumGroup:false,groupByInitExpanded:undefined,loaded:false,originalData:undefined});c.fn.bootstrapTable.methods.push("collapseAll","expandAll","refreshGroupByField");c.extend(c.fn.bootstrapTable.COLUMN_DEFAULTS,{groupBySumGroup:false});var o=c.fn.bootstrapTable.Constructor,i=o.prototype.init,n=o.prototype.initData;o.prototype.init=function(){if(!this.options.sortName){if((this.options.groupBy)&&(this.options.groupByField.length>0)){var r=this;if(!Object.keys){c.fn.bootstrapTable.utils.objectKeys()}this.options.loaded=false;this.options.originalData=undefined;b=this.options.rowAttributes;this.options.rowAttributes=d;this.$el.off("post-body.bs.table").on("post-body.bs.table",function(){r.$el.treetable({expandable:true,onNodeExpand:function(){if(r.options.height){r.resetHeader()}},onNodeCollapse:function(){if(r.options.height){r.resetHeader()}}},true);if(r.options.groupByInitExpanded!==undefined){if(typeof r.options.groupByInitExpanded==="number"){r.expandNode(r.options.groupByInitExpanded)}else{if(r.options.groupByInitExpanded.toLowerCase()==="all"){r.expandAll()}}}})}}i.apply(this,Array.prototype.slice.apply(arguments))};o.prototype.initData=function(s,r){if(!this.options.sortName){if((this.options.groupBy)&&(this.options.groupByField.length>0)){this.options.groupByField=typeof this.options.groupByField==="string"?this.options.groupByField.replace("[","").replace("]","").replace(/ /g,"").toLowerCase().split(","):this.options.groupByField;s=h(this,s?s:this.options.data)}}n.apply(this,[s,r])};o.prototype.expandAll=function(){this.$el.treetable("expandAll")};o.prototype.collapseAll=function(){this.$el.treetable("collapseAll")};o.prototype.expandNode=function(r){r=m(this,r);if(r!==undefined){this.$el.treetable("expandNode",r)}};o.prototype.refreshGroupByField=function(r){if(!c.fn.bootstrapTable.utils.compareObjects(this.options.groupByField,r)){this.options.groupByField=r;this.load(this.options.originalData)}}}(jQuery);