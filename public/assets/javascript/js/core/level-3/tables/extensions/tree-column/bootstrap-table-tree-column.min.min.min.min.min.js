!function(e){e.extend(e.fn.bootstrapTable.defaults,{treeShowField:null,idField:"id",parentIdField:"pid",treeVerticalcls:"vertical",treeVerticalLastcls:"vertical last",treeSpacecls:"space",treeNodecls:"node",treeCellcls:"treenode",treeTextcls:"text",onTreeFormatter:function(h){var l=this,g=l.options,f=h._level||0,k=h._parent&&h._parent._level||0,j=[];for(var i=0;i<k;i++){j.push('<i class="'+g.treeVerticalcls+'"></i>');j.push('<i class="'+g.treeSpacecls+'"></i>')}for(var i=k;i<f;i++){if(h._last&&i===(f-1)){j.push('<i class="'+g.treeVerticalLastcls+'"></i>')}else{j.push('<i class="'+g.treeVerticalcls+'"></i>')}j.push('<i class="'+g.treeNodecls+'"></i>')}return j.join("")},onGetNodes:function(i,h){var g=this;var f=[];e.each(h,function(j,k){if(i[g.options.idField]===k[g.options.parentIdField]){f.push(k)}});return f},onCheckLeaf:function(g,f){if(g.isLeaf!==undefined){return g.isLeaf}return !g._nodes||!g._nodes.length},onCheckRoot:function(f,h){var g=this;return !f[g.options.parentIdField]}});var c=e.fn.bootstrapTable.Constructor,b=c.prototype.initRow,d=c.prototype.initHeader;c.prototype.initHeader=function(){var g=this;d.apply(g,Array.prototype.slice.apply(arguments));var f=g.options.treeShowField;if(f){e.each(this.header.fields,function(i,k){if(f===k){g.treeEnable=true;var j=g.header.formatters[i];var h=[g.options.treeCellcls];if(g.header.classes[i]){h.push(g.header.classes[i].split('"')[1]||"")}g.header.classes[i]='class="'+h.join(" ")+'"';g.header.formatters[i]=function(n,o,m){var l=[g.options.onTreeFormatter.apply(g,[o])];l.push('<span class="'+g.options.treeTextcls+'">');if(j){l.push(j.apply(this,Array.prototype.slice.apply(arguments)))}else{l.push(n)}l.push("</span>");return l.join("")};return false}})}};var a=function(m,l,h,g){var j=this;var n=j.options.onGetNodes.apply(j,[m,h]);m._nodes=n;g.append(b.apply(j,[m,l,h,g]));var k=n.length-1;for(var i=0;i<=k;i++){var f=n[i];f._level=m._level+1;f._parent=m;if(i===k){f._last=1}a.apply(j,[f,e.inArray(f,h),h,g])}};c.prototype.initRow=function(g,j,h,i){var f=this;if(f.treeEnable){if(f.options.onCheckRoot.apply(f,[g,h])){if(g._level===undefined){g._level=0}a.apply(f,[g,j,h,i]);return true}return false}return b.apply(f,Array.prototype.slice.apply(arguments))}}(jQuery);