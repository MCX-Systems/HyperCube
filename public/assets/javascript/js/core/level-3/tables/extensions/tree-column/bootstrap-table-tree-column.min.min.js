!function(i){i.extend(i.fn.bootstrapTable.defaults,{treeShowField:null,idField:"id",parentIdField:"pid",treeVerticalcls:"vertical",treeVerticalLastcls:"vertical last",treeSpacecls:"space",treeNodecls:"node",treeCellcls:"treenode",treeTextcls:"text",onTreeFormatter:function(c){var d=this,n=d.options,a=c._level||0,b=c._parent&&c._parent._level||0,o=[];for(var e=0;e<b;e++){o.push('<i class="'+n.treeVerticalcls+'"></i>');o.push('<i class="'+n.treeSpacecls+'"></i>')}for(var e=b;e<a;e++){if(c._last&&e===(a-1)){o.push('<i class="'+n.treeVerticalLastcls+'"></i>')}else{o.push('<i class="'+n.treeVerticalcls+'"></i>')}o.push('<i class="'+n.treeNodecls+'"></i>')}return o.join("")},onGetNodes:function(a,b){var c=this;var d=[];i.each(b,function(l,e){if(a[c.options.idField]===e[c.options.parentIdField]){d.push(e)}});return d},onCheckLeaf:function(a,b){if(a.isLeaf!==undefined){return a.isLeaf}return !a._nodes||!a._nodes.length},onCheckRoot:function(a,b){var c=this;return !a[c.options.parentIdField]}});var f=i.fn.bootstrapTable.Constructor,g=f.prototype.initRow,j=f.prototype.initHeader;f.prototype.initHeader=function(){var a=this;j.apply(a,Array.prototype.slice.apply(arguments));var b=a.options.treeShowField;if(b){i.each(this.header.fields,function(e,c){if(b===c){a.treeEnable=true;var d=a.header.formatters[e];var m=[a.options.treeCellcls];if(a.header.classes[e]){m.push(a.header.classes[e].split('"')[1]||"")}a.header.classes[e]='class="'+m.join(" ")+'"';a.header.formatters[e]=function(q,p,k){var l=[a.options.onTreeFormatter.apply(a,[p])];l.push('<span class="'+a.options.treeTextcls+'">');if(d){l.push(d.apply(this,Array.prototype.slice.apply(arguments)))}else{l.push(q)}l.push("</span>");return l.join("")};return false}})}};var h=function(a,b,p,q){var d=this;var s=d.options.onGetNodes.apply(d,[a,p]);a._nodes=s;q.append(g.apply(d,[a,b,p,q]));var c=s.length-1;for(var e=0;e<=c;e++){var r=s[e];r._level=a._level+1;r._parent=a;if(e===c){r._last=1}h.apply(d,[r,i.inArray(r,p),p,q])}};f.prototype.initRow=function(c,e,b,a){var d=this;if(d.treeEnable){if(d.options.onCheckRoot.apply(d,[c,b])){if(c._level===undefined){c._level=0}h.apply(d,[c,e,b,a]);return true}return false}return g.apply(d,Array.prototype.slice.apply(arguments))}}(jQuery);